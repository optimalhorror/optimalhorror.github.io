(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function ux(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h0={exports:{}},Al={},p0;function sE(){if(p0)return Al;p0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,i,s){var u=null;if(s!==void 0&&(u=""+s),i.key!==void 0&&(u=""+i.key),"key"in i){s={};for(var h in i)h!=="key"&&(s[h]=i[h])}else s=i;return i=s.ref,{$$typeof:e,type:o,key:u,ref:i!==void 0?i:null,props:s}}return Al.Fragment=t,Al.jsx=r,Al.jsxs=r,Al}var g0;function uE(){return g0||(g0=1,h0.exports=sE()),h0.exports}var J=uE(),v0={exports:{}},He={},m0;function cE(){if(m0)return He;m0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function w(R,X,H){this.props=R,this.context=X,this.refs=E,this.updater=H||x}w.prototype.isReactComponent={},w.prototype.setState=function(R,X){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,X,"setState")},w.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function S(){}S.prototype=w.prototype;function C(R,X,H){this.props=R,this.context=X,this.refs=E,this.updater=H||x}var _=C.prototype=new S;_.constructor=C,k(_,w.prototype),_.isPureReactComponent=!0;var N=Array.isArray;function M(){}var P={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function L(R,X,H){var ee=H.ref;return{$$typeof:e,type:R,key:X,ref:ee!==void 0?ee:null,props:H}}function F(R,X){return L(R.type,X,R.props)}function O(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function A(R){var X={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(H){return X[H]})}var U=/\/+/g;function j(R,X){return typeof R=="object"&&R!==null&&R.key!=null?A(""+R.key):X.toString(36)}function $(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(M,M):(R.status="pending",R.then(function(X){R.status==="pending"&&(R.status="fulfilled",R.value=X)},function(X){R.status==="pending"&&(R.status="rejected",R.reason=X)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function z(R,X,H,ee,de){var se=typeof R;(se==="undefined"||se==="boolean")&&(R=null);var pe=!1;if(R===null)pe=!0;else switch(se){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(R.$$typeof){case e:case t:pe=!0;break;case p:return pe=R._init,z(pe(R._payload),X,H,ee,de)}}if(pe)return de=de(R),pe=ee===""?"."+j(R,0):ee,N(de)?(H="",pe!=null&&(H=pe.replace(U,"$&/")+"/"),z(de,X,H,"",function(te){return te})):de!=null&&(O(de)&&(de=F(de,H+(de.key==null||R&&R.key===de.key?"":(""+de.key).replace(U,"$&/")+"/")+pe)),X.push(de)),1;pe=0;var be=ee===""?".":ee+":";if(N(R))for(var Q=0;Q<R.length;Q++)ee=R[Q],se=be+j(ee,Q),pe+=z(ee,X,H,se,de);else if(Q=b(R),typeof Q=="function")for(R=Q.call(R),Q=0;!(ee=R.next()).done;)ee=ee.value,se=be+j(ee,Q++),pe+=z(ee,X,H,se,de);else if(se==="object"){if(typeof R.then=="function")return z($(R),X,H,ee,de);throw X=String(R),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(R,X,H){if(R==null)return R;var ee=[],de=0;return z(R,ee,"","",function(se){return X.call(H,se,de++)}),ee}function W(R){if(R._status===-1){var X=R._result;X=X(),X.then(function(H){(R._status===0||R._status===-1)&&(R._status=1,R._result=H)},function(H){(R._status===0||R._status===-1)&&(R._status=2,R._result=H)}),R._status===-1&&(R._status=0,R._result=X)}if(R._status===1)return R._result.default;throw R._result}var q=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Z={map:V,forEach:function(R,X,H){V(R,function(){X.apply(this,arguments)},H)},count:function(R){var X=0;return V(R,function(){X++}),X},toArray:function(R){return V(R,function(X){return X})||[]},only:function(R){if(!O(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return He.Activity=g,He.Children=Z,He.Component=w,He.Fragment=r,He.Profiler=i,He.PureComponent=C,He.StrictMode=o,He.Suspense=d,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,He.__COMPILER_RUNTIME={__proto__:null,c:function(R){return P.H.useMemoCache(R)}},He.cache=function(R){return function(){return R.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(R,X,H){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ee=k({},R.props),de=R.key;if(X!=null)for(se in X.key!==void 0&&(de=""+X.key),X)!I.call(X,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&X.ref===void 0||(ee[se]=X[se]);var se=arguments.length-2;if(se===1)ee.children=H;else if(1<se){for(var pe=Array(se),be=0;be<se;be++)pe[be]=arguments[be+2];ee.children=pe}return L(R.type,de,ee)},He.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:s,_context:R},R},He.createElement=function(R,X,H){var ee,de={},se=null;if(X!=null)for(ee in X.key!==void 0&&(se=""+X.key),X)I.call(X,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(de[ee]=X[ee]);var pe=arguments.length-2;if(pe===1)de.children=H;else if(1<pe){for(var be=Array(pe),Q=0;Q<pe;Q++)be[Q]=arguments[Q+2];de.children=be}if(R&&R.defaultProps)for(ee in pe=R.defaultProps,pe)de[ee]===void 0&&(de[ee]=pe[ee]);return L(R,se,de)},He.createRef=function(){return{current:null}},He.forwardRef=function(R){return{$$typeof:h,render:R}},He.isValidElement=O,He.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:W}},He.memo=function(R,X){return{$$typeof:c,type:R,compare:X===void 0?null:X}},He.startTransition=function(R){var X=P.T,H={};P.T=H;try{var ee=R(),de=P.S;de!==null&&de(H,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(M,q)}catch(se){q(se)}finally{X!==null&&H.types!==null&&(X.types=H.types),P.T=X}},He.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},He.use=function(R){return P.H.use(R)},He.useActionState=function(R,X,H){return P.H.useActionState(R,X,H)},He.useCallback=function(R,X){return P.H.useCallback(R,X)},He.useContext=function(R){return P.H.useContext(R)},He.useDebugValue=function(){},He.useDeferredValue=function(R,X){return P.H.useDeferredValue(R,X)},He.useEffect=function(R,X){return P.H.useEffect(R,X)},He.useEffectEvent=function(R){return P.H.useEffectEvent(R)},He.useId=function(){return P.H.useId()},He.useImperativeHandle=function(R,X,H){return P.H.useImperativeHandle(R,X,H)},He.useInsertionEffect=function(R,X){return P.H.useInsertionEffect(R,X)},He.useLayoutEffect=function(R,X){return P.H.useLayoutEffect(R,X)},He.useMemo=function(R,X){return P.H.useMemo(R,X)},He.useOptimistic=function(R,X){return P.H.useOptimistic(R,X)},He.useReducer=function(R,X,H){return P.H.useReducer(R,X,H)},He.useRef=function(R){return P.H.useRef(R)},He.useState=function(R){return P.H.useState(R)},He.useSyncExternalStore=function(R,X,H){return P.H.useSyncExternalStore(R,X,H)},He.useTransition=function(){return P.H.useTransition()},He.version="19.2.3",He}var y0;function rg(){return y0||(y0=1,v0.exports=cE()),v0.exports}var dt=rg();const Hf=ux(dt);var Gf={exports:{}},Ml={},b0={exports:{}},x0={},w0;function dE(){return w0||(w0=1,(function(e){function t(z,V){var W=z.length;z.push(V);e:for(;0<W;){var q=W-1>>>1,Z=z[q];if(0<i(Z,V))z[q]=V,z[W]=Z,W=q;else break e}}function r(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var V=z[0],W=z.pop();if(W!==V){z[0]=W;e:for(var q=0,Z=z.length,R=Z>>>1;q<R;){var X=2*(q+1)-1,H=z[X],ee=X+1,de=z[ee];if(0>i(H,W))ee<Z&&0>i(de,H)?(z[q]=de,z[ee]=W,q=ee):(z[q]=H,z[X]=W,q=X);else if(ee<Z&&0>i(de,W))z[q]=de,z[ee]=W,q=ee;else break e}}return V}function i(z,V){var W=z.sortIndex-V.sortIndex;return W!==0?W:z.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var d=[],c=[],p=1,g=null,y=3,b=!1,x=!1,k=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function _(z){for(var V=r(c);V!==null;){if(V.callback===null)o(c);else if(V.startTime<=z)o(c),V.sortIndex=V.expirationTime,t(d,V);else break;V=r(c)}}function N(z){if(k=!1,_(z),!x)if(r(d)!==null)x=!0,M||(M=!0,A());else{var V=r(c);V!==null&&$(N,V.startTime-z)}}var M=!1,P=-1,I=5,L=-1;function F(){return E?!0:!(e.unstable_now()-L<I)}function O(){if(E=!1,M){var z=e.unstable_now();L=z;var V=!0;try{e:{x=!1,k&&(k=!1,S(P),P=-1),b=!0;var W=y;try{t:{for(_(z),g=r(d);g!==null&&!(g.expirationTime>z&&F());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var Z=q(g.expirationTime<=z);if(z=e.unstable_now(),typeof Z=="function"){g.callback=Z,_(z),V=!0;break t}g===r(d)&&o(d),_(z)}else o(d);g=r(d)}if(g!==null)V=!0;else{var R=r(c);R!==null&&$(N,R.startTime-z),V=!1}}break e}finally{g=null,y=W,b=!1}V=void 0}}finally{V?A():M=!1}}}var A;if(typeof C=="function")A=function(){C(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=O,A=function(){j.postMessage(null)}}else A=function(){w(O,0)};function $(z,V){P=w(function(){z(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(z){switch(y){case 1:case 2:case 3:var V=3;break;default:V=y}var W=y;y=V;try{return z()}finally{y=W}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=y;y=z;try{return V()}finally{y=W}},e.unstable_scheduleCallback=function(z,V,W){var q=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,z={id:p++,callback:V,priorityLevel:z,startTime:W,expirationTime:Z,sortIndex:-1},W>q?(z.sortIndex=W,t(c,z),r(d)===null&&z===r(c)&&(k?(S(P),P=-1):k=!0,$(N,W-q))):(z.sortIndex=Z,t(d,z),x||b||(x=!0,M||(M=!0,A()))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var V=y;return function(){var W=y;y=V;try{return z.apply(this,arguments)}finally{y=W}}}})(x0)),x0}var k0;function fE(){return k0||(k0=1,b0.exports=dE()),b0.exports}var Qf={exports:{}},Pn={},E0;function hE(){if(E0)return Pn;E0=1;var e=rg();function t(d){var c="https://react.dev/errors/"+d;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,c,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:c,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,c){if(d==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Pn.createPortal=function(d,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(d,c,null,p)},Pn.flushSync=function(d){var c=u.T,p=o.p;try{if(u.T=null,o.p=2,d)return d()}finally{u.T=c,o.p=p,o.d.f()}},Pn.preconnect=function(d,c){typeof d=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,o.d.C(d,c))},Pn.prefetchDNS=function(d){typeof d=="string"&&o.d.D(d)},Pn.preinit=function(d,c){if(typeof d=="string"&&c&&typeof c.as=="string"){var p=c.as,g=h(p,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,b=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;p==="style"?o.d.S(d,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&o.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Pn.preinitModule=function(d,c){if(typeof d=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var p=h(c.as,c.crossOrigin);o.d.M(d,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&o.d.M(d)},Pn.preload=function(d,c){if(typeof d=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var p=c.as,g=h(p,c.crossOrigin);o.d.L(d,p,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Pn.preloadModule=function(d,c){if(typeof d=="string")if(c){var p=h(c.as,c.crossOrigin);o.d.m(d,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else o.d.m(d)},Pn.requestFormReset=function(d){o.d.r(d)},Pn.unstable_batchedUpdates=function(d,c){return d(c)},Pn.useFormState=function(d,c,p){return u.H.useFormState(d,c,p)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.2.3",Pn}var S0;function pE(){if(S0)return Qf.exports;S0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qf.exports=hE(),Qf.exports}var C0;function gE(){if(C0)return Ml;C0=1;var e=fE(),t=rg(),r=pE();function o(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function u(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(s(n)!==n)throw Error(o(188))}function c(n){var a=n.alternate;if(!a){if(a=s(n),a===null)throw Error(o(188));return a!==n?null:n}for(var l=n,f=a;;){var v=l.return;if(v===null)break;var m=v.alternate;if(m===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===m.child){for(m=v.child;m;){if(m===l)return d(v),n;if(m===f)return d(v),a;m=m.sibling}throw Error(o(188))}if(l.return!==f.return)l=v,f=m;else{for(var T=!1,B=v.child;B;){if(B===l){T=!0,l=v,f=m;break}if(B===f){T=!0,f=v,l=m;break}B=B.sibling}if(!T){for(B=m.child;B;){if(B===l){T=!0,l=m,f=v;break}if(B===f){T=!0,f=m,l=v;break}B=B.sibling}if(!T)throw Error(o(189))}}if(l.alternate!==f)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function A(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function j(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case M:return"SuspenseList";case L:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case C:return n.displayName||"Context";case S:return(n._context.displayName||"Context")+".Consumer";case _:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return a=n.displayName||null,a!==null?a:j(n.type)||"Memo";case I:a=n._payload,n=n._init;try{return j(n(a))}catch{}}return null}var $=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},q=[],Z=-1;function R(n){return{current:n}}function X(n){0>Z||(n.current=q[Z],q[Z]=null,Z--)}function H(n,a){Z++,q[Z]=n.current,n.current=a}var ee=R(null),de=R(null),se=R(null),pe=R(null);function be(n,a){switch(H(se,a),H(de,n),H(ee,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Iy(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Iy(a),n=Oy(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(ee),H(ee,n)}function Q(){X(ee),X(de),X(se)}function te(n){n.memoizedState!==null&&H(pe,n);var a=ee.current,l=Oy(a,n.type);a!==l&&(H(de,n),H(ee,l))}function ne(n){de.current===n&&(X(ee),X(de)),pe.current===n&&(X(pe),Dl._currentValue=W)}var ve,we;function Ee(n){if(ve===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ve=a&&a[1]||"",we=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+n+we}var $e=!1;function Fe(n,a){if(!n||$e)return"";$e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ue){var ie=ue}Reflect.construct(n,[],me)}else{try{me.call()}catch(ue){ie=ue}n.call(me.prototype)}}else{try{throw Error()}catch(ue){ie=ue}(me=n())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ue){if(ue&&ie&&typeof ue.stack=="string")return[ue.stack,ie.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=f.DetermineComponentFrameRoot(),T=m[0],B=m[1];if(T&&B){var Y=T.split(`
`),ae=B.split(`
`);for(v=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;v<ae.length&&!ae[v].includes("DetermineComponentFrameRoot");)v++;if(f===Y.length||v===ae.length)for(f=Y.length-1,v=ae.length-1;1<=f&&0<=v&&Y[f]!==ae[v];)v--;for(;1<=f&&0<=v;f--,v--)if(Y[f]!==ae[v]){if(f!==1||v!==1)do if(f--,v--,0>v||Y[f]!==ae[v]){var he=`
`+Y[f].replace(" at new "," at ");return n.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",n.displayName)),he}while(1<=f&&0<=v);break}}}finally{$e=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Ee(l):""}function Ye(n,a){switch(n.tag){case 26:case 27:case 5:return Ee(n.type);case 16:return Ee("Lazy");case 13:return n.child!==a&&a!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Fe(n.type,!1);case 11:return Fe(n.type.render,!1);case 1:return Fe(n.type,!0);case 31:return Ee("Activity");default:return""}}function it(n){try{var a="",l=null;do a+=Ye(n,l),l=n,n=n.return;while(n);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var xe=Object.prototype.hasOwnProperty,De=e.unstable_scheduleCallback,Ne=e.unstable_cancelCallback,We=e.unstable_shouldYield,qe=e.unstable_requestPaint,Oe=e.unstable_now,Je=e.unstable_getCurrentPriorityLevel,ht=e.unstable_ImmediatePriority,xt=e.unstable_UserBlockingPriority,rt=e.unstable_NormalPriority,st=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Le=e.log,D=e.unstable_setDisableYieldValue,oe=null,le=null;function ce(n){if(typeof Le=="function"&&D(n),le&&typeof le.setStrictMode=="function")try{le.setStrictMode(oe,n)}catch{}}var fe=Math.clz32?Math.clz32:Ae,Ce=Math.log,ye=Math.LN2;function Ae(n){return n>>>=0,n===0?32:31-(Ce(n)/ye|0)|0}var Te=256,Me=262144,Ge=4194304;function Ue(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Be(n,a,l){var f=n.pendingLanes;if(f===0)return 0;var v=0,m=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var B=f&134217727;return B!==0?(f=B&~m,f!==0?v=Ue(f):(T&=B,T!==0?v=Ue(T):l||(l=B&~n,l!==0&&(v=Ue(l))))):(B=f&~m,B!==0?v=Ue(B):T!==0?v=Ue(T):l||(l=f&~n,l!==0&&(v=Ue(l)))),v===0?0:a!==0&&a!==v&&(a&m)===0&&(m=v&-v,l=a&-a,m>=l||m===32&&(l&4194048)!==0)?a:v}function Ke(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function ut(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var n=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),n}function Kt(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function $t(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jt(n,a,l,f,v,m){var T=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var B=n.entanglements,Y=n.expirationTimes,ae=n.hiddenUpdates;for(l=T&~l;0<l;){var he=31-fe(l),me=1<<he;B[he]=0,Y[he]=-1;var ie=ae[he];if(ie!==null)for(ae[he]=null,he=0;he<ie.length;he++){var ue=ie[he];ue!==null&&(ue.lane&=-536870913)}l&=~me}f!==0&&Ht(n,f,0),m!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=m&~(T&~a))}function Ht(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var f=31-fe(a);n.entangledLanes|=a,n.entanglements[f]=n.entanglements[f]|1073741824|l&261930}function Ft(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var f=31-fe(l),v=1<<f;v&a|n[f]&a&&(n[f]|=a),l&=~v}}function hn(n,a){var l=a&-a;return l=(l&42)!==0?1:rr(l),(l&(n.suspendedLanes|a))!==0?0:l}function rr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function zt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Bn(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:i0(n.type))}function ro(n,a){var l=V.p;try{return V.p=n,a()}finally{V.p=l}}var Rn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Rn,Wt="__reactProps$"+Rn,Gt="__reactContainer$"+Rn,Jt="__reactEvents$"+Rn,Tn="__reactListeners$"+Rn,ar="__reactHandles$"+Rn,ao="__reactResources$"+Rn,la="__reactMarker$"+Rn;function Ui(n){delete n[Xt],delete n[Wt],delete n[Jt],delete n[Tn],delete n[ar]}function sa(n){var a=n[Xt];if(a)return a;for(var l=n.parentNode;l;){if(a=l[Gt]||l[Xt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Uy(n);n!==null;){if(l=n[Xt])return l;n=Uy(n)}return a}n=l,l=n.parentNode}return null}function ua(n){if(n=n[Xt]||n[Gt]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function oo(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(o(33))}function ca(n){var a=n[ao];return a||(a=n[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function en(n){n[la]=!0}var bs=new Set,da={};function gr(n,a){vr(n,a),vr(n+"Capture",a)}function vr(n,a){for(da[n]=a,n=0;n<a.length;n++)bs.add(a[n])}var xs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qi={},ws={};function Kn(n){return xe.call(ws,n)?!0:xe.call(qi,n)?!1:xs.test(n)?ws[n]=!0:(qi[n]=!0,!1)}function fa(n,a,l){if(Kn(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function io(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function An(n,a,l,f){if(f===null)n.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+f)}}function It(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ks(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vc(n,a,l){var f=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,m=f.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return v.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(n,a,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function jc(n){if(!n._valueTracker){var a=ks(n)?"checked":"value";n._valueTracker=Vc(n,a,""+n[a])}}function Dg(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return n&&(f=ks(n)?n.checked?"true":"false":n.value),n=f,n!==l?(a.setValue(n),!0):!1}function Es(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var n2=/[\n"\\]/g;function mr(n){return n.replace(n2,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Xc(n,a,l,f,v,m,T,B){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),a!=null?T==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+It(a)):n.value!==""+It(a)&&(n.value=""+It(a)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),a!=null?Wc(n,T,It(a)):l!=null?Wc(n,T,It(l)):f!=null&&n.removeAttribute("value"),v==null&&m!=null&&(n.defaultChecked=!!m),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?n.name=""+It(B):n.removeAttribute("name")}function Ng(n,a,l,f,v,m,T,B){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),a!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){jc(n);return}l=l!=null?""+It(l):"",a=a!=null?""+It(a):l,B||a===n.value||(n.value=a),n.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=B?n.checked:!!f,n.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),jc(n)}function Wc(n,a,l){a==="number"&&Es(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Fo(n,a,l,f){if(n=n.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<n.length;l++)v=a.hasOwnProperty("$"+n[l].value),n[l].selected!==v&&(n[l].selected=v),v&&f&&(n[l].defaultSelected=!0)}else{for(l=""+It(l),a=null,v=0;v<n.length;v++){if(n[v].value===l){n[v].selected=!0,f&&(n[v].defaultSelected=!0);return}a!==null||n[v].disabled||(a=n[v])}a!==null&&(a.selected=!0)}}function Bg(n,a,l){if(a!=null&&(a=""+It(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+It(l):""}function Rg(n,a,l,f){if(a==null){if(f!=null){if(l!=null)throw Error(o(92));if($(f)){if(1<f.length)throw Error(o(93));f=f[0]}l=f}l==null&&(l=""),a=l}l=It(a),n.defaultValue=l,f=n.textContent,f===l&&f!==""&&f!==null&&(n.value=f),jc(n)}function Vo(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var r2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ag(n,a,l){var f=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":f?n.setProperty(a,l):typeof l!="number"||l===0||r2.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function Mg(n,a,l){if(a!=null&&typeof a!="object")throw Error(o(62));if(n=n.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&l[v]!==f&&Ag(n,v,f)}else for(var m in a)a.hasOwnProperty(m)&&Ag(n,m,a[m])}function Uc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var a2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),o2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(n){return o2.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Or(){}var qc=null;function Yc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jo=null,Xo=null;function zg(n){var a=ua(n);if(a&&(n=a.stateNode)){var l=n[Wt]||null;e:switch(n=a.stateNode,a.type){case"input":if(Xc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==n&&f.form===n.form){var v=f[Wt]||null;if(!v)throw Error(o(90));Xc(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)f=l[a],f.form===n.form&&Dg(f)}break e;case"textarea":Bg(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Fo(n,!!l.multiple,a,!1)}}}var Kc=!1;function Ig(n,a,l){if(Kc)return n(a,l);Kc=!0;try{var f=n(a);return f}finally{if(Kc=!1,(jo!==null||Xo!==null)&&(du(),jo&&(a=jo,n=Xo,Xo=jo=null,zg(a),n)))for(a=0;a<n.length;a++)zg(n[a])}}function Yi(n,a){var l=n.stateNode;if(l===null)return null;var f=l[Wt]||null;if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(o(231,a,typeof l));return l}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=!1;if(Lr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){$c=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{$c=!1}var ha=null,Hc=null,Cs=null;function Og(){if(Cs)return Cs;var n,a=Hc,l=a.length,f,v="value"in ha?ha.value:ha.textContent,m=v.length;for(n=0;n<l&&a[n]===v[n];n++);var T=l-n;for(f=1;f<=T&&a[l-f]===v[m-f];f++);return Cs=v.slice(n,1<f?1-f:void 0)}function Ts(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ps(){return!0}function Lg(){return!1}function Ln(n){function a(l,f,v,m,T){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(l=n[B],this[B]=l?l(m):m[B]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ps:Lg,this.isPropagationStopped=Lg,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),a}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Ln(lo),$i=g({},lo,{view:0,detail:0}),i2=Ln($i),Gc,Qc,Hi,Ds=g({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hi&&(Hi&&n.type==="mousemove"?(Gc=n.screenX-Hi.screenX,Qc=n.screenY-Hi.screenY):Qc=Gc=0,Hi=n),Gc)},movementY:function(n){return"movementY"in n?n.movementY:Qc}}),Fg=Ln(Ds),l2=g({},Ds,{dataTransfer:0}),s2=Ln(l2),u2=g({},$i,{relatedTarget:0}),Zc=Ln(u2),c2=g({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),d2=Ln(c2),f2=g({},lo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),h2=Ln(f2),p2=g({},lo,{data:0}),Vg=Ln(p2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y2(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=m2[n])?!!a[n]:!1}function Jc(){return y2}var b2=g({},$i,{key:function(n){if(n.key){var a=g2[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ts(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?v2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(n){return n.type==="keypress"?Ts(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ts(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),x2=Ln(b2),w2=g({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jg=Ln(w2),k2=g({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),E2=Ln(k2),S2=g({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),C2=Ln(S2),T2=g({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),P2=Ln(T2),_2=g({},lo,{newState:0,oldState:0}),D2=Ln(_2),N2=[9,13,27,32],ed=Lr&&"CompositionEvent"in window,Gi=null;Lr&&"documentMode"in document&&(Gi=document.documentMode);var B2=Lr&&"TextEvent"in window&&!Gi,Xg=Lr&&(!ed||Gi&&8<Gi&&11>=Gi),Wg=" ",Ug=!1;function qg(n,a){switch(n){case"keyup":return N2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wo=!1;function R2(n,a){switch(n){case"compositionend":return Yg(a);case"keypress":return a.which!==32?null:(Ug=!0,Wg);case"textInput":return n=a.data,n===Wg&&Ug?null:n;default:return null}}function A2(n,a){if(Wo)return n==="compositionend"||!ed&&qg(n,a)?(n=Og(),Cs=Hc=ha=null,Wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xg&&a.locale!=="ko"?null:a.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!M2[n.type]:a==="textarea"}function $g(n,a,l,f){jo?Xo?Xo.push(f):Xo=[f]:jo=f,a=yu(a,"onChange"),0<a.length&&(l=new _s("onChange","change",null,l,f),n.push({event:l,listeners:a}))}var Qi=null,Zi=null;function z2(n){Ny(n,0)}function Ns(n){var a=oo(n);if(Dg(a))return n}function Hg(n,a){if(n==="change")return a}var Gg=!1;if(Lr){var td;if(Lr){var nd="oninput"in document;if(!nd){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),nd=typeof Qg.oninput=="function"}td=nd}else td=!1;Gg=td&&(!document.documentMode||9<document.documentMode)}function Zg(){Qi&&(Qi.detachEvent("onpropertychange",Jg),Zi=Qi=null)}function Jg(n){if(n.propertyName==="value"&&Ns(Zi)){var a=[];$g(a,Zi,n,Yc(n)),Ig(z2,a)}}function I2(n,a,l){n==="focusin"?(Zg(),Qi=a,Zi=l,Qi.attachEvent("onpropertychange",Jg)):n==="focusout"&&Zg()}function O2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ns(Zi)}function L2(n,a){if(n==="click")return Ns(a)}function F2(n,a){if(n==="input"||n==="change")return Ns(a)}function V2(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var $n=typeof Object.is=="function"?Object.is:V2;function Ji(n,a){if($n(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!xe.call(a,v)||!$n(n[v],a[v]))return!1}return!0}function ev(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tv(n,a){var l=ev(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=a&&f>=a)return{node:l,offset:a-n};n=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ev(l)}}function nv(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?nv(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function rv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Es(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Es(n.document)}return a}function rd(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var j2=Lr&&"documentMode"in document&&11>=document.documentMode,Uo=null,ad=null,el=null,od=!1;function av(n,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;od||Uo==null||Uo!==Es(f)||(f=Uo,"selectionStart"in f&&rd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),el&&Ji(el,f)||(el=f,f=yu(ad,"onSelect"),0<f.length&&(a=new _s("onSelect","select",null,a,l),n.push({event:a,listeners:f}),a.target=Uo)))}function so(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var qo={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},id={},ov={};Lr&&(ov=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function uo(n){if(id[n])return id[n];if(!qo[n])return n;var a=qo[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in ov)return id[n]=a[l];return n}var iv=uo("animationend"),lv=uo("animationiteration"),sv=uo("animationstart"),X2=uo("transitionrun"),W2=uo("transitionstart"),U2=uo("transitioncancel"),uv=uo("transitionend"),cv=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function yr(n,a){cv.set(n,a),gr(a,[n])}var Bs=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},or=[],Yo=0,sd=0;function Rs(){for(var n=Yo,a=sd=Yo=0;a<n;){var l=or[a];or[a++]=null;var f=or[a];or[a++]=null;var v=or[a];or[a++]=null;var m=or[a];if(or[a++]=null,f!==null&&v!==null){var T=f.pending;T===null?v.next=v:(v.next=T.next,T.next=v),f.pending=v}m!==0&&dv(l,v,m)}}function As(n,a,l,f){or[Yo++]=n,or[Yo++]=a,or[Yo++]=l,or[Yo++]=f,sd|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function ud(n,a,l,f){return As(n,a,l,f),Ms(n)}function co(n,a){return As(n,null,null,a),Ms(n)}function dv(n,a,l){n.lanes|=l;var f=n.alternate;f!==null&&(f.lanes|=l);for(var v=!1,m=n.return;m!==null;)m.childLanes|=l,f=m.alternate,f!==null&&(f.childLanes|=l),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(v=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,v&&a!==null&&(v=31-fe(l),n=m.hiddenUpdates,f=n[v],f===null?n[v]=[a]:f.push(a),a.lane=l|536870912),m):null}function Ms(n){if(50<kl)throw kl=0,bf=null,Error(o(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Ko={};function q2(n,a,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,a,l,f){return new q2(n,a,l,f)}function cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fr(n,a){var l=n.alternate;return l===null?(l=Hn(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function fv(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function zs(n,a,l,f,v,m){var T=0;if(f=n,typeof n=="function")cd(n)&&(T=1);else if(typeof n=="string")T=Gk(n,l,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case L:return n=Hn(31,l,a,v),n.elementType=L,n.lanes=m,n;case k:return fo(l.children,v,m,a);case E:T=8,v|=24;break;case w:return n=Hn(12,l,a,v|2),n.elementType=w,n.lanes=m,n;case N:return n=Hn(13,l,a,v),n.elementType=N,n.lanes=m,n;case M:return n=Hn(19,l,a,v),n.elementType=M,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:T=10;break e;case S:T=9;break e;case _:T=11;break e;case P:T=14;break e;case I:T=16,f=null;break e}T=29,l=Error(o(130,n===null?"null":typeof n,"")),f=null}return a=Hn(T,l,a,v),a.elementType=n,a.type=f,a.lanes=m,a}function fo(n,a,l,f){return n=Hn(7,n,f,a),n.lanes=l,n}function dd(n,a,l){return n=Hn(6,n,null,a),n.lanes=l,n}function hv(n){var a=Hn(18,null,null,0);return a.stateNode=n,a}function fd(n,a,l){return a=Hn(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var pv=new WeakMap;function ir(n,a){if(typeof n=="object"&&n!==null){var l=pv.get(n);return l!==void 0?l:(a={value:n,source:a,stack:it(a)},pv.set(n,a),a)}return{value:n,source:a,stack:it(a)}}var $o=[],Ho=0,Is=null,tl=0,lr=[],sr=0,pa=null,Tr=1,Pr="";function Vr(n,a){$o[Ho++]=tl,$o[Ho++]=Is,Is=n,tl=a}function gv(n,a,l){lr[sr++]=Tr,lr[sr++]=Pr,lr[sr++]=pa,pa=n;var f=Tr;n=Pr;var v=32-fe(f)-1;f&=~(1<<v),l+=1;var m=32-fe(a)+v;if(30<m){var T=v-v%5;m=(f&(1<<T)-1).toString(32),f>>=T,v-=T,Tr=1<<32-fe(a)+v|l<<v|f,Pr=m+n}else Tr=1<<m|l<<v|f,Pr=n}function hd(n){n.return!==null&&(Vr(n,1),gv(n,1,0))}function pd(n){for(;n===Is;)Is=$o[--Ho],$o[Ho]=null,tl=$o[--Ho],$o[Ho]=null;for(;n===pa;)pa=lr[--sr],lr[sr]=null,Pr=lr[--sr],lr[sr]=null,Tr=lr[--sr],lr[sr]=null}function vv(n,a){lr[sr++]=Tr,lr[sr++]=Pr,lr[sr++]=pa,Tr=a.id,Pr=a.overflow,pa=n}var yn=null,Rt=null,lt=!1,ga=null,ur=!1,gd=Error(o(519));function va(n){var a=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(ir(a,n)),gd}function mv(n){var a=n.stateNode,l=n.type,f=n.memoizedProps;switch(a[Xt]=n,a[Wt]=f,l){case"dialog":nt("cancel",a),nt("close",a);break;case"iframe":case"object":case"embed":nt("load",a);break;case"video":case"audio":for(l=0;l<Sl.length;l++)nt(Sl[l],a);break;case"source":nt("error",a);break;case"img":case"image":case"link":nt("error",a),nt("load",a);break;case"details":nt("toggle",a);break;case"input":nt("invalid",a),Ng(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":nt("invalid",a);break;case"textarea":nt("invalid",a),Rg(a,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||f.suppressHydrationWarning===!0||My(a.textContent,l)?(f.popover!=null&&(nt("beforetoggle",a),nt("toggle",a)),f.onScroll!=null&&nt("scroll",a),f.onScrollEnd!=null&&nt("scrollend",a),f.onClick!=null&&(a.onclick=Or),a=!0):a=!1,a||va(n,!0)}function yv(n){for(yn=n.return;yn;)switch(yn.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:yn=yn.return}}function Go(n){if(n!==yn)return!1;if(!lt)return yv(n),lt=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Mf(n.type,n.memoizedProps)),l=!l),l&&Rt&&va(n),yv(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));Rt=Wy(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));Rt=Wy(n)}else a===27?(a=Rt,Na(n.type)?(n=Ff,Ff=null,Rt=n):Rt=a):Rt=yn?cr(n.stateNode.nextSibling):null;return!0}function ho(){Rt=yn=null,lt=!1}function vd(){var n=ga;return n!==null&&(Xn===null?Xn=n:Xn.push.apply(Xn,n),ga=null),n}function nl(n){ga===null?ga=[n]:ga.push(n)}var md=R(null),po=null,jr=null;function ma(n,a,l){H(md,a._currentValue),a._currentValue=l}function Xr(n){n._currentValue=md.current,X(md)}function yd(n,a,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),n===l)break;n=n.return}}function bd(n,a,l,f){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var m=v.dependencies;if(m!==null){var T=v.child;m=m.firstContext;e:for(;m!==null;){var B=m;m=v;for(var Y=0;Y<a.length;Y++)if(B.context===a[Y]){m.lanes|=l,B=m.alternate,B!==null&&(B.lanes|=l),yd(m.return,l,n),f||(T=null);break e}m=B.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(o(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),yd(T,l,n),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===n){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function Qo(n,a,l,f){n=null;for(var v=a,m=!1;v!==null;){if(!m){if((v.flags&524288)!==0)m=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var B=v.type;$n(v.pendingProps.value,T.value)||(n!==null?n.push(B):n=[B])}}else if(v===pe.current){if(T=v.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(Dl):n=[Dl])}v=v.return}n!==null&&bd(a,n,l,f),a.flags|=262144}function Os(n){for(n=n.firstContext;n!==null;){if(!$n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function go(n){po=n,jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function bn(n){return bv(po,n)}function Ls(n,a){return po===null&&go(n),bv(n,a)}function bv(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},jr===null){if(n===null)throw Error(o(308));jr=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else jr=jr.next=a;return l}var Y2=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,f){n.push(f)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},K2=e.unstable_scheduleCallback,$2=e.unstable_NormalPriority,tn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xd(){return{controller:new Y2,data:new Map,refCount:0}}function rl(n){n.refCount--,n.refCount===0&&K2($2,function(){n.controller.abort()})}var al=null,wd=0,Zo=0,Jo=null;function H2(n,a){if(al===null){var l=al=[];wd=0,Zo=Cf(),Jo={status:"pending",value:void 0,then:function(f){l.push(f)}}}return wd++,a.then(xv,xv),a}function xv(){if(--wd===0&&al!==null){Jo!==null&&(Jo.status="fulfilled");var n=al;al=null,Zo=0,Jo=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function G2(n,a){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return n.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var wv=z.S;z.S=function(n,a){ay=Oe(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&H2(n,a),wv!==null&&wv(n,a)};var vo=R(null);function kd(){var n=vo.current;return n!==null?n:Pt.pooledCache}function Fs(n,a){a===null?H(vo,vo.current):H(vo,a.pool)}function kv(){var n=kd();return n===null?null:{parent:tn._currentValue,pool:n}}var ei=Error(o(460)),Ed=Error(o(474)),Vs=Error(o(542)),js={then:function(){}};function Ev(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Sv(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Or,Or),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Tv(n),n;default:if(typeof a.status=="string")a.then(Or,Or);else{if(n=Pt,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=a,n.status="pending",n.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Tv(n),n}throw yo=a,ei}}function mo(n){try{var a=n._init;return a(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(yo=l,ei):l}}var yo=null;function Cv(){if(yo===null)throw Error(o(459));var n=yo;return yo=null,n}function Tv(n){if(n===ei||n===Vs)throw Error(o(483))}var ti=null,ol=0;function Xs(n){var a=ol;return ol+=1,ti===null&&(ti=[]),Sv(ti,n,a)}function il(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Ws(n,a){throw a.$$typeof===y?Error(o(525)):(n=Object.prototype.toString.call(a),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Pv(n){function a(G,K){if(n){var re=G.deletions;re===null?(G.deletions=[K],G.flags|=16):re.push(K)}}function l(G,K){if(!n)return null;for(;K!==null;)a(G,K),K=K.sibling;return null}function f(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function v(G,K){return G=Fr(G,K),G.index=0,G.sibling=null,G}function m(G,K,re){return G.index=re,n?(re=G.alternate,re!==null?(re=re.index,re<K?(G.flags|=67108866,K):re):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function T(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function B(G,K,re,ge){return K===null||K.tag!==6?(K=dd(re,G.mode,ge),K.return=G,K):(K=v(K,re),K.return=G,K)}function Y(G,K,re,ge){var Ie=re.type;return Ie===k?he(G,K,re.props.children,ge,re.key):K!==null&&(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&mo(Ie)===K.type)?(K=v(K,re.props),il(K,re),K.return=G,K):(K=zs(re.type,re.key,re.props,null,G.mode,ge),il(K,re),K.return=G,K)}function ae(G,K,re,ge){return K===null||K.tag!==4||K.stateNode.containerInfo!==re.containerInfo||K.stateNode.implementation!==re.implementation?(K=fd(re,G.mode,ge),K.return=G,K):(K=v(K,re.children||[]),K.return=G,K)}function he(G,K,re,ge,Ie){return K===null||K.tag!==7?(K=fo(re,G.mode,ge,Ie),K.return=G,K):(K=v(K,re),K.return=G,K)}function me(G,K,re){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=dd(""+K,G.mode,re),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return re=zs(K.type,K.key,K.props,null,G.mode,re),il(re,K),re.return=G,re;case x:return K=fd(K,G.mode,re),K.return=G,K;case I:return K=mo(K),me(G,K,re)}if($(K)||A(K))return K=fo(K,G.mode,re,null),K.return=G,K;if(typeof K.then=="function")return me(G,Xs(K),re);if(K.$$typeof===C)return me(G,Ls(G,K),re);Ws(G,K)}return null}function ie(G,K,re,ge){var Ie=K!==null?K.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ie!==null?null:B(G,K,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return re.key===Ie?Y(G,K,re,ge):null;case x:return re.key===Ie?ae(G,K,re,ge):null;case I:return re=mo(re),ie(G,K,re,ge)}if($(re)||A(re))return Ie!==null?null:he(G,K,re,ge,null);if(typeof re.then=="function")return ie(G,K,Xs(re),ge);if(re.$$typeof===C)return ie(G,K,Ls(G,re),ge);Ws(G,re)}return null}function ue(G,K,re,ge,Ie){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return G=G.get(re)||null,B(K,G,""+ge,Ie);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:return G=G.get(ge.key===null?re:ge.key)||null,Y(K,G,ge,Ie);case x:return G=G.get(ge.key===null?re:ge.key)||null,ae(K,G,ge,Ie);case I:return ge=mo(ge),ue(G,K,re,ge,Ie)}if($(ge)||A(ge))return G=G.get(re)||null,he(K,G,ge,Ie,null);if(typeof ge.then=="function")return ue(G,K,re,Xs(ge),Ie);if(ge.$$typeof===C)return ue(G,K,re,Ls(K,ge),Ie);Ws(K,ge)}return null}function _e(G,K,re,ge){for(var Ie=null,pt=null,Re=K,Ze=K=0,ot=null;Re!==null&&Ze<re.length;Ze++){Re.index>Ze?(ot=Re,Re=null):ot=Re.sibling;var gt=ie(G,Re,re[Ze],ge);if(gt===null){Re===null&&(Re=ot);break}n&&Re&&gt.alternate===null&&a(G,Re),K=m(gt,K,Ze),pt===null?Ie=gt:pt.sibling=gt,pt=gt,Re=ot}if(Ze===re.length)return l(G,Re),lt&&Vr(G,Ze),Ie;if(Re===null){for(;Ze<re.length;Ze++)Re=me(G,re[Ze],ge),Re!==null&&(K=m(Re,K,Ze),pt===null?Ie=Re:pt.sibling=Re,pt=Re);return lt&&Vr(G,Ze),Ie}for(Re=f(Re);Ze<re.length;Ze++)ot=ue(Re,G,Ze,re[Ze],ge),ot!==null&&(n&&ot.alternate!==null&&Re.delete(ot.key===null?Ze:ot.key),K=m(ot,K,Ze),pt===null?Ie=ot:pt.sibling=ot,pt=ot);return n&&Re.forEach(function(za){return a(G,za)}),lt&&Vr(G,Ze),Ie}function je(G,K,re,ge){if(re==null)throw Error(o(151));for(var Ie=null,pt=null,Re=K,Ze=K=0,ot=null,gt=re.next();Re!==null&&!gt.done;Ze++,gt=re.next()){Re.index>Ze?(ot=Re,Re=null):ot=Re.sibling;var za=ie(G,Re,gt.value,ge);if(za===null){Re===null&&(Re=ot);break}n&&Re&&za.alternate===null&&a(G,Re),K=m(za,K,Ze),pt===null?Ie=za:pt.sibling=za,pt=za,Re=ot}if(gt.done)return l(G,Re),lt&&Vr(G,Ze),Ie;if(Re===null){for(;!gt.done;Ze++,gt=re.next())gt=me(G,gt.value,ge),gt!==null&&(K=m(gt,K,Ze),pt===null?Ie=gt:pt.sibling=gt,pt=gt);return lt&&Vr(G,Ze),Ie}for(Re=f(Re);!gt.done;Ze++,gt=re.next())gt=ue(Re,G,Ze,gt.value,ge),gt!==null&&(n&&gt.alternate!==null&&Re.delete(gt.key===null?Ze:gt.key),K=m(gt,K,Ze),pt===null?Ie=gt:pt.sibling=gt,pt=gt);return n&&Re.forEach(function(lE){return a(G,lE)}),lt&&Vr(G,Ze),Ie}function Ct(G,K,re,ge){if(typeof re=="object"&&re!==null&&re.type===k&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case b:e:{for(var Ie=re.key;K!==null;){if(K.key===Ie){if(Ie=re.type,Ie===k){if(K.tag===7){l(G,K.sibling),ge=v(K,re.props.children),ge.return=G,G=ge;break e}}else if(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===I&&mo(Ie)===K.type){l(G,K.sibling),ge=v(K,re.props),il(ge,re),ge.return=G,G=ge;break e}l(G,K);break}else a(G,K);K=K.sibling}re.type===k?(ge=fo(re.props.children,G.mode,ge,re.key),ge.return=G,G=ge):(ge=zs(re.type,re.key,re.props,null,G.mode,ge),il(ge,re),ge.return=G,G=ge)}return T(G);case x:e:{for(Ie=re.key;K!==null;){if(K.key===Ie)if(K.tag===4&&K.stateNode.containerInfo===re.containerInfo&&K.stateNode.implementation===re.implementation){l(G,K.sibling),ge=v(K,re.children||[]),ge.return=G,G=ge;break e}else{l(G,K);break}else a(G,K);K=K.sibling}ge=fd(re,G.mode,ge),ge.return=G,G=ge}return T(G);case I:return re=mo(re),Ct(G,K,re,ge)}if($(re))return _e(G,K,re,ge);if(A(re)){if(Ie=A(re),typeof Ie!="function")throw Error(o(150));return re=Ie.call(re),je(G,K,re,ge)}if(typeof re.then=="function")return Ct(G,K,Xs(re),ge);if(re.$$typeof===C)return Ct(G,K,Ls(G,re),ge);Ws(G,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,K!==null&&K.tag===6?(l(G,K.sibling),ge=v(K,re),ge.return=G,G=ge):(l(G,K),ge=dd(re,G.mode,ge),ge.return=G,G=ge),T(G)):l(G,K)}return function(G,K,re,ge){try{ol=0;var Ie=Ct(G,K,re,ge);return ti=null,Ie}catch(Re){if(Re===ei||Re===Vs)throw Re;var pt=Hn(29,Re,null,G.mode);return pt.lanes=ge,pt.return=G,pt}}}var bo=Pv(!0),_v=Pv(!1),ya=!1;function Sd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ba(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xa(n,a,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=Ms(n),dv(n,null,l),a}return As(n,f,a,l),Ms(n)}function ll(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var f=a.lanes;f&=n.pendingLanes,l|=f,a.lanes=l,Ft(n,l)}}function Td(n,a){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?v=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?v=m=a:m=m.next=a}else v=m=a;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:m,shared:f.shared,callbacks:f.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var Pd=!1;function sl(){if(Pd){var n=Jo;if(n!==null)throw n}}function ul(n,a,l,f){Pd=!1;var v=n.updateQueue;ya=!1;var m=v.firstBaseUpdate,T=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var Y=B,ae=Y.next;Y.next=null,T===null?m=ae:T.next=ae,T=Y;var he=n.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==T&&(B===null?he.firstBaseUpdate=ae:B.next=ae,he.lastBaseUpdate=Y))}if(m!==null){var me=v.baseState;T=0,he=ae=Y=null,B=m;do{var ie=B.lane&-536870913,ue=ie!==B.lane;if(ue?(at&ie)===ie:(f&ie)===ie){ie!==0&&ie===Zo&&(Pd=!0),he!==null&&(he=he.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var _e=n,je=B;ie=a;var Ct=l;switch(je.tag){case 1:if(_e=je.payload,typeof _e=="function"){me=_e.call(Ct,me,ie);break e}me=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=je.payload,ie=typeof _e=="function"?_e.call(Ct,me,ie):_e,ie==null)break e;me=g({},me,ie);break e;case 2:ya=!0}}ie=B.callback,ie!==null&&(n.flags|=64,ue&&(n.flags|=8192),ue=v.callbacks,ue===null?v.callbacks=[ie]:ue.push(ie))}else ue={lane:ie,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(ae=he=ue,Y=me):he=he.next=ue,T|=ie;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;ue=B,B=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);he===null&&(Y=me),v.baseState=Y,v.firstBaseUpdate=ae,v.lastBaseUpdate=he,m===null&&(v.shared.lanes=0),Ca|=T,n.lanes=T,n.memoizedState=me}}function Dv(n,a){if(typeof n!="function")throw Error(o(191,n));n.call(a)}function Nv(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Dv(l[n],a)}var ni=R(null),Us=R(0);function Bv(n,a){n=Qr,H(Us,n),H(ni,a),Qr=n|a.baseLanes}function _d(){H(Us,Qr),H(ni,ni.current)}function Dd(){Qr=Us.current,X(ni),X(Us)}var Gn=R(null),br=null;function wa(n){var a=n.alternate;H(Qt,Qt.current&1),H(Gn,n),br===null&&(a===null||ni.current!==null||a.memoizedState!==null)&&(br=n)}function Nd(n){H(Qt,Qt.current),H(Gn,n),br===null&&(br=n)}function Rv(n){n.tag===22?(H(Qt,Qt.current),H(Gn,n),br===null&&(br=n)):ka()}function ka(){H(Qt,Qt.current),H(Gn,Gn.current)}function Qn(n){X(Gn),br===n&&(br=null),X(Qt)}var Qt=R(0);function qs(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Of(l)||Lf(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wr=0,Qe=null,Et=null,nn=null,Ys=!1,ri=!1,xo=!1,Ks=0,cl=0,ai=null,Q2=0;function Ut(){throw Error(o(321))}function Bd(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!$n(n[l],a[l]))return!1;return!0}function Rd(n,a,l,f,v,m){return Wr=m,Qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=n===null||n.memoizedState===null?gm:Kd,xo=!1,m=l(f,v),xo=!1,ri&&(m=Mv(a,l,f,v)),Av(n),m}function Av(n){z.H=hl;var a=Et!==null&&Et.next!==null;if(Wr=0,nn=Et=Qe=null,Ys=!1,cl=0,ai=null,a)throw Error(o(300));n===null||rn||(n=n.dependencies,n!==null&&Os(n)&&(rn=!0))}function Mv(n,a,l,f){Qe=n;var v=0;do{if(ri&&(ai=null),cl=0,ri=!1,25<=v)throw Error(o(301));if(v+=1,nn=Et=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}z.H=vm,m=a(l,f)}while(ri);return m}function Z2(){var n=z.H,a=n.useState()[0];return a=typeof a.then=="function"?dl(a):a,n=n.useState()[0],(Et!==null?Et.memoizedState:null)!==n&&(Qe.flags|=1024),a}function Ad(){var n=Ks!==0;return Ks=0,n}function Md(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function zd(n){if(Ys){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ys=!1}Wr=0,nn=Et=Qe=null,ri=!1,cl=Ks=0,ai=null}function Mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Qe.memoizedState=nn=n:nn=nn.next=n,nn}function Zt(){if(Et===null){var n=Qe.alternate;n=n!==null?n.memoizedState:null}else n=Et.next;var a=nn===null?Qe.memoizedState:nn.next;if(a!==null)nn=a,Et=n;else{if(n===null)throw Qe.alternate===null?Error(o(467)):Error(o(310));Et=n,n={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},nn===null?Qe.memoizedState=nn=n:nn=nn.next=n}return nn}function $s(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(n){var a=cl;return cl+=1,ai===null&&(ai=[]),n=Sv(ai,n,a),a=Qe,(nn===null?a.memoizedState:nn.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?gm:Kd),n}function Hs(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return dl(n);if(n.$$typeof===C)return bn(n)}throw Error(o(438,String(n)))}function Id(n){var a=null,l=Qe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var f=Qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=$s(),Qe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),f=0;f<n;f++)l[f]=F;return a.index++,l}function Ur(n,a){return typeof a=="function"?a(n):a}function Gs(n){var a=Zt();return Od(a,Et,n)}function Od(n,a,l){var f=n.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var v=n.baseQueue,m=f.pending;if(m!==null){if(v!==null){var T=v.next;v.next=m.next,m.next=T}a.baseQueue=v=m,f.pending=null}if(m=n.baseState,v===null)n.memoizedState=m;else{a=v.next;var B=T=null,Y=null,ae=a,he=!1;do{var me=ae.lane&-536870913;if(me!==ae.lane?(at&me)===me:(Wr&me)===me){var ie=ae.revertLane;if(ie===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),me===Zo&&(he=!0);else if((Wr&ie)===ie){ae=ae.next,ie===Zo&&(he=!0);continue}else me={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(B=Y=me,T=m):Y=Y.next=me,Qe.lanes|=ie,Ca|=ie;me=ae.action,xo&&l(m,me),m=ae.hasEagerState?ae.eagerState:l(m,me)}else ie={lane:me,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(B=Y=ie,T=m):Y=Y.next=ie,Qe.lanes|=me,Ca|=me;ae=ae.next}while(ae!==null&&ae!==a);if(Y===null?T=m:Y.next=B,!$n(m,n.memoizedState)&&(rn=!0,he&&(l=Jo,l!==null)))throw l;n.memoizedState=m,n.baseState=T,n.baseQueue=Y,f.lastRenderedState=m}return v===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function Ld(n){var a=Zt(),l=a.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var f=l.dispatch,v=l.pending,m=a.memoizedState;if(v!==null){l.pending=null;var T=v=v.next;do m=n(m,T.action),T=T.next;while(T!==v);$n(m,a.memoizedState)||(rn=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),l.lastRenderedState=m}return[m,f]}function zv(n,a,l){var f=Qe,v=Zt(),m=lt;if(m){if(l===void 0)throw Error(o(407));l=l()}else l=a();var T=!$n((Et||v).memoizedState,l);if(T&&(v.memoizedState=l,rn=!0),v=v.queue,jd(Lv.bind(null,f,v,n),[n]),v.getSnapshot!==a||T||nn!==null&&nn.memoizedState.tag&1){if(f.flags|=2048,oi(9,{destroy:void 0},Ov.bind(null,f,v,l,a),null),Pt===null)throw Error(o(349));m||(Wr&127)!==0||Iv(f,a,l)}return l}function Iv(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Qe.updateQueue,a===null?(a=$s(),Qe.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function Ov(n,a,l,f){a.value=l,a.getSnapshot=f,Fv(a)&&Vv(n)}function Lv(n,a,l){return l(function(){Fv(a)&&Vv(n)})}function Fv(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!$n(n,l)}catch{return!0}}function Vv(n){var a=co(n,2);a!==null&&Wn(a,n,2)}function Fd(n){var a=Mn();if(typeof n=="function"){var l=n;if(n=l(),xo){ce(!0);try{l()}finally{ce(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:n},a}function jv(n,a,l,f){return n.baseState=l,Od(n,Et,typeof f=="function"?f:Ur)}function J2(n,a,l,f,v){if(Js(n))throw Error(o(485));if(n=a.action,n!==null){var m={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};z.T!==null?l(!0):m.isTransition=!1,f(m),l=a.pending,l===null?(m.next=a.pending=m,Xv(a,m)):(m.next=l.next,a.pending=l.next=m)}}function Xv(n,a){var l=a.action,f=a.payload,v=n.state;if(a.isTransition){var m=z.T,T={};z.T=T;try{var B=l(v,f),Y=z.S;Y!==null&&Y(T,B),Wv(n,a,B)}catch(ae){Vd(n,a,ae)}finally{m!==null&&T.types!==null&&(m.types=T.types),z.T=m}}else try{m=l(v,f),Wv(n,a,m)}catch(ae){Vd(n,a,ae)}}function Wv(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Uv(n,a,f)},function(f){return Vd(n,a,f)}):Uv(n,a,l)}function Uv(n,a,l){a.status="fulfilled",a.value=l,qv(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Xv(n,l)))}function Vd(n,a,l){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=l,qv(a),a=a.next;while(a!==f)}n.action=null}function qv(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Yv(n,a){return a}function Kv(n,a){if(lt){var l=Pt.formState;if(l!==null){e:{var f=Qe;if(lt){if(Rt){t:{for(var v=Rt,m=ur;v.nodeType!==8;){if(!m){v=null;break t}if(v=cr(v.nextSibling),v===null){v=null;break t}}m=v.data,v=m==="F!"||m==="F"?v:null}if(v){Rt=cr(v.nextSibling),f=v.data==="F!";break e}}va(f)}f=!1}f&&(a=l[0])}}return l=Mn(),l.memoizedState=l.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:a},l.queue=f,l=fm.bind(null,Qe,f),f.dispatch=l,f=Fd(!1),m=Yd.bind(null,Qe,!1,f.queue),f=Mn(),v={state:a,dispatch:null,action:n,pending:null},f.queue=v,l=J2.bind(null,Qe,v,m,l),v.dispatch=l,f.memoizedState=n,[a,l,!1]}function $v(n){var a=Zt();return Hv(a,Et,n)}function Hv(n,a,l){if(a=Od(n,a,Yv)[0],n=Gs(Ur)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=dl(a)}catch(T){throw T===ei?Vs:T}else f=a;a=Zt();var v=a.queue,m=v.dispatch;return l!==a.memoizedState&&(Qe.flags|=2048,oi(9,{destroy:void 0},ek.bind(null,v,l),null)),[f,m,n]}function ek(n,a){n.action=a}function Gv(n){var a=Zt(),l=Et;if(l!==null)return Hv(a,l,n);Zt(),a=a.memoizedState,l=Zt();var f=l.queue.dispatch;return l.memoizedState=n,[a,f,!1]}function oi(n,a,l,f){return n={tag:n,create:l,deps:f,inst:a,next:null},a=Qe.updateQueue,a===null&&(a=$s(),Qe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,a.lastEffect=n),n}function Qv(){return Zt().memoizedState}function Qs(n,a,l,f){var v=Mn();Qe.flags|=n,v.memoizedState=oi(1|a,{destroy:void 0},l,f===void 0?null:f)}function Zs(n,a,l,f){var v=Zt();f=f===void 0?null:f;var m=v.memoizedState.inst;Et!==null&&f!==null&&Bd(f,Et.memoizedState.deps)?v.memoizedState=oi(a,m,l,f):(Qe.flags|=n,v.memoizedState=oi(1|a,m,l,f))}function Zv(n,a){Qs(8390656,8,n,a)}function jd(n,a){Zs(2048,8,n,a)}function tk(n){Qe.flags|=4;var a=Qe.updateQueue;if(a===null)a=$s(),Qe.updateQueue=a,a.events=[n];else{var l=a.events;l===null?a.events=[n]:l.push(n)}}function Jv(n){var a=Zt().memoizedState;return tk({ref:a,nextImpl:n}),function(){if((mt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}function em(n,a){return Zs(4,2,n,a)}function tm(n,a){return Zs(4,4,n,a)}function nm(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function rm(n,a,l){l=l!=null?l.concat([n]):null,Zs(4,4,nm.bind(null,a,n),l)}function Xd(){}function am(n,a){var l=Zt();a=a===void 0?null:a;var f=l.memoizedState;return a!==null&&Bd(a,f[1])?f[0]:(l.memoizedState=[n,a],n)}function om(n,a){var l=Zt();a=a===void 0?null:a;var f=l.memoizedState;if(a!==null&&Bd(a,f[1]))return f[0];if(f=n(),xo){ce(!0);try{n()}finally{ce(!1)}}return l.memoizedState=[f,a],f}function Wd(n,a,l){return l===void 0||(Wr&1073741824)!==0&&(at&261930)===0?n.memoizedState=a:(n.memoizedState=l,n=iy(),Qe.lanes|=n,Ca|=n,l)}function im(n,a,l,f){return $n(l,a)?l:ni.current!==null?(n=Wd(n,l,f),$n(n,a)||(rn=!0),n):(Wr&42)===0||(Wr&1073741824)!==0&&(at&261930)===0?(rn=!0,n.memoizedState=l):(n=iy(),Qe.lanes|=n,Ca|=n,a)}function lm(n,a,l,f,v){var m=V.p;V.p=m!==0&&8>m?m:8;var T=z.T,B={};z.T=B,Yd(n,!1,a,l);try{var Y=v(),ae=z.S;if(ae!==null&&ae(B,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=G2(Y,f);fl(n,a,he,er(n))}else fl(n,a,f,er(n))}catch(me){fl(n,a,{then:function(){},status:"rejected",reason:me},er())}finally{V.p=m,T!==null&&B.types!==null&&(T.types=B.types),z.T=T}}function nk(){}function Ud(n,a,l,f){if(n.tag!==5)throw Error(o(476));var v=sm(n).queue;lm(n,v,a,W,l===null?nk:function(){return um(n),l(f)})}function sm(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:W},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function um(n){var a=sm(n);a.next===null&&(a=n.alternate.memoizedState),fl(n,a.next.queue,{},er())}function qd(){return bn(Dl)}function cm(){return Zt().memoizedState}function dm(){return Zt().memoizedState}function rk(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=er();n=ba(l);var f=xa(a,n,l);f!==null&&(Wn(f,a,l),ll(f,a,l)),a={cache:xd()},n.payload=a;return}a=a.return}}function ak(n,a,l){var f=er();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Js(n)?hm(a,l):(l=ud(n,a,l,f),l!==null&&(Wn(l,n,f),pm(l,a,f)))}function fm(n,a,l){var f=er();fl(n,a,l,f)}function fl(n,a,l,f){var v={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Js(n))hm(a,v);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var T=a.lastRenderedState,B=m(T,l);if(v.hasEagerState=!0,v.eagerState=B,$n(B,T))return As(n,a,v,0),Pt===null&&Rs(),!1}catch{}if(l=ud(n,a,v,f),l!==null)return Wn(l,n,f),pm(l,a,f),!0}return!1}function Yd(n,a,l,f){if(f={lane:2,revertLane:Cf(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Js(n)){if(a)throw Error(o(479))}else a=ud(n,l,f,2),a!==null&&Wn(a,n,2)}function Js(n){var a=n.alternate;return n===Qe||a!==null&&a===Qe}function hm(n,a){ri=Ys=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function pm(n,a,l){if((l&4194048)!==0){var f=a.lanes;f&=n.pendingLanes,l|=f,a.lanes=l,Ft(n,l)}}var hl={readContext:bn,use:Hs,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut};hl.useEffectEvent=Ut;var gm={readContext:bn,use:Hs,useCallback:function(n,a){return Mn().memoizedState=[n,a===void 0?null:a],n},useContext:bn,useEffect:Zv,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Qs(4194308,4,nm.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Qs(4194308,4,n,a)},useInsertionEffect:function(n,a){Qs(4,2,n,a)},useMemo:function(n,a){var l=Mn();a=a===void 0?null:a;var f=n();if(xo){ce(!0);try{n()}finally{ce(!1)}}return l.memoizedState=[f,a],f},useReducer:function(n,a,l){var f=Mn();if(l!==void 0){var v=l(a);if(xo){ce(!0);try{l(a)}finally{ce(!1)}}}else v=a;return f.memoizedState=f.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},f.queue=n,n=n.dispatch=ak.bind(null,Qe,n),[f.memoizedState,n]},useRef:function(n){var a=Mn();return n={current:n},a.memoizedState=n},useState:function(n){n=Fd(n);var a=n.queue,l=fm.bind(null,Qe,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Xd,useDeferredValue:function(n,a){var l=Mn();return Wd(l,n,a)},useTransition:function(){var n=Fd(!1);return n=lm.bind(null,Qe,n.queue,!0,!1),Mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var f=Qe,v=Mn();if(lt){if(l===void 0)throw Error(o(407));l=l()}else{if(l=a(),Pt===null)throw Error(o(349));(at&127)!==0||Iv(f,a,l)}v.memoizedState=l;var m={value:l,getSnapshot:a};return v.queue=m,Zv(Lv.bind(null,f,m,n),[n]),f.flags|=2048,oi(9,{destroy:void 0},Ov.bind(null,f,m,l,a),null),l},useId:function(){var n=Mn(),a=Pt.identifierPrefix;if(lt){var l=Pr,f=Tr;l=(f&~(1<<32-fe(f)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Ks++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Q2++,a="_"+a+"r_"+l.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:qd,useFormState:Kv,useActionState:Kv,useOptimistic:function(n){var a=Mn();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Yd.bind(null,Qe,!0,l),l.dispatch=a,[n,a]},useMemoCache:Id,useCacheRefresh:function(){return Mn().memoizedState=rk.bind(null,Qe)},useEffectEvent:function(n){var a=Mn(),l={impl:n};return a.memoizedState=l,function(){if((mt&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Kd={readContext:bn,use:Hs,useCallback:am,useContext:bn,useEffect:jd,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:om,useReducer:Gs,useRef:Qv,useState:function(){return Gs(Ur)},useDebugValue:Xd,useDeferredValue:function(n,a){var l=Zt();return im(l,Et.memoizedState,n,a)},useTransition:function(){var n=Gs(Ur)[0],a=Zt().memoizedState;return[typeof n=="boolean"?n:dl(n),a]},useSyncExternalStore:zv,useId:cm,useHostTransitionStatus:qd,useFormState:$v,useActionState:$v,useOptimistic:function(n,a){var l=Zt();return jv(l,Et,n,a)},useMemoCache:Id,useCacheRefresh:dm};Kd.useEffectEvent=Jv;var vm={readContext:bn,use:Hs,useCallback:am,useContext:bn,useEffect:jd,useImperativeHandle:rm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:om,useReducer:Ld,useRef:Qv,useState:function(){return Ld(Ur)},useDebugValue:Xd,useDeferredValue:function(n,a){var l=Zt();return Et===null?Wd(l,n,a):im(l,Et.memoizedState,n,a)},useTransition:function(){var n=Ld(Ur)[0],a=Zt().memoizedState;return[typeof n=="boolean"?n:dl(n),a]},useSyncExternalStore:zv,useId:cm,useHostTransitionStatus:qd,useFormState:Gv,useActionState:Gv,useOptimistic:function(n,a){var l=Zt();return Et!==null?jv(l,Et,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Id,useCacheRefresh:dm};vm.useEffectEvent=Jv;function $d(n,a,l,f){a=n.memoizedState,l=l(f,a),l=l==null?a:g({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Hd={enqueueSetState:function(n,a,l){n=n._reactInternals;var f=er(),v=ba(f);v.payload=a,l!=null&&(v.callback=l),a=xa(n,v,f),a!==null&&(Wn(a,n,f),ll(a,n,f))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var f=er(),v=ba(f);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=xa(n,v,f),a!==null&&(Wn(a,n,f),ll(a,n,f))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=er(),f=ba(l);f.tag=2,a!=null&&(f.callback=a),a=xa(n,f,l),a!==null&&(Wn(a,n,l),ll(a,n,l))}};function mm(n,a,l,f,v,m,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,m,T):a.prototype&&a.prototype.isPureReactComponent?!Ji(l,f)||!Ji(v,m):!0}function ym(n,a,l,f){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==n&&Hd.enqueueReplaceState(a,a.state,null)}function wo(n,a){var l=a;if("ref"in a){l={};for(var f in a)f!=="ref"&&(l[f]=a[f])}if(n=n.defaultProps){l===a&&(l=g({},l));for(var v in n)l[v]===void 0&&(l[v]=n[v])}return l}function bm(n){Bs(n)}function xm(n){console.error(n)}function wm(n){Bs(n)}function eu(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function km(n,a,l){try{var f=n.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Gd(n,a,l){return l=ba(l),l.tag=3,l.payload={element:null},l.callback=function(){eu(n,a)},l}function Em(n){return n=ba(n),n.tag=3,n}function Sm(n,a,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var m=f.value;n.payload=function(){return v(m)},n.callback=function(){km(a,l,f)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){km(a,l,f),typeof v!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var B=f.stack;this.componentDidCatch(f.value,{componentStack:B!==null?B:""})})}function ok(n,a,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=l.alternate,a!==null&&Qo(a,l,v,!0),l=Gn.current,l!==null){switch(l.tag){case 31:case 13:return br===null?fu():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===js?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([f]):a.add(f),kf(n,f,v)),!1;case 22:return l.flags|=65536,f===js?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([f]):l.add(f)),kf(n,f,v)),!1}throw Error(o(435,l.tag))}return kf(n,f,v),fu(),!1}if(lt)return a=Gn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==gd&&(n=Error(o(422),{cause:f}),nl(ir(n,l)))):(f!==gd&&(a=Error(o(423),{cause:f}),nl(ir(a,l))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,f=ir(f,l),v=Gd(n.stateNode,f,v),Td(n,v),qt!==4&&(qt=2)),!1;var m=Error(o(520),{cause:f});if(m=ir(m,l),wl===null?wl=[m]:wl.push(m),qt!==4&&(qt=2),a===null)return!0;f=ir(f,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=v&-v,l.lanes|=n,n=Gd(l.stateNode,f,n),Td(l,n),!1;case 1:if(a=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ta===null||!Ta.has(m))))return l.flags|=65536,v&=-v,l.lanes|=v,v=Em(v),Sm(v,n,l,f),Td(l,v),!1}l=l.return}while(l!==null);return!1}var Qd=Error(o(461)),rn=!1;function xn(n,a,l,f){a.child=n===null?_v(a,null,l,f):bo(a,n.child,l,f)}function Cm(n,a,l,f,v){l=l.render;var m=a.ref;if("ref"in f){var T={};for(var B in f)B!=="ref"&&(T[B]=f[B])}else T=f;return go(a),f=Rd(n,a,l,T,m,v),B=Ad(),n!==null&&!rn?(Md(n,a,v),qr(n,a,v)):(lt&&B&&hd(a),a.flags|=1,xn(n,a,f,v),a.child)}function Tm(n,a,l,f,v){if(n===null){var m=l.type;return typeof m=="function"&&!cd(m)&&m.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=m,Pm(n,a,m,f,v)):(n=zs(l.type,null,f,a,a.mode,v),n.ref=a.ref,n.return=a,a.child=n)}if(m=n.child,!of(n,v)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:Ji,l(T,f)&&n.ref===a.ref)return qr(n,a,v)}return a.flags|=1,n=Fr(m,f),n.ref=a.ref,n.return=a,a.child=n}function Pm(n,a,l,f,v){if(n!==null){var m=n.memoizedProps;if(Ji(m,f)&&n.ref===a.ref)if(rn=!1,a.pendingProps=f=m,of(n,v))(n.flags&131072)!==0&&(rn=!0);else return a.lanes=n.lanes,qr(n,a,v)}return Zd(n,a,l,f,v)}function _m(n,a,l,f){var v=f.children,m=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,n!==null){for(f=a.child=n.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~m}else f=0,a.child=null;return Dm(n,a,m,l,f)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fs(a,m!==null?m.cachePool:null),m!==null?Bv(a,m):_d(),Rv(a);else return f=a.lanes=536870912,Dm(n,a,m!==null?m.baseLanes|l:l,l,f)}else m!==null?(Fs(a,m.cachePool),Bv(a,m),ka(),a.memoizedState=null):(n!==null&&Fs(a,null),_d(),ka());return xn(n,a,v,l),a.child}function pl(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Dm(n,a,l,f,v){var m=kd();return m=m===null?null:{parent:tn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},n!==null&&Fs(a,null),_d(),Rv(a),n!==null&&Qo(n,a,f,!0),a.childLanes=v,null}function tu(n,a){return a=ru({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Nm(n,a,l){return bo(a,n.child,null,l),n=tu(a,a.pendingProps),n.flags|=2,Qn(a),a.memoizedState=null,n}function ik(n,a,l){var f=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(lt){if(f.mode==="hidden")return n=tu(a,f),a.lanes=536870912,pl(null,n);if(Nd(a),(n=Rt)?(n=Xy(n,ur),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:pa!==null?{id:Tr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},l=hv(n),l.return=a,a.child=l,yn=a,Rt=null)):n=null,n===null)throw va(a);return a.lanes=536870912,null}return tu(a,f)}var m=n.memoizedState;if(m!==null){var T=m.dehydrated;if(Nd(a),v)if(a.flags&256)a.flags&=-257,a=Nm(n,a,l);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(o(558));else if(rn||Qo(n,a,l,!1),v=(l&n.childLanes)!==0,rn||v){if(f=Pt,f!==null&&(T=hn(f,l),T!==0&&T!==m.retryLane))throw m.retryLane=T,co(n,T),Wn(f,n,T),Qd;fu(),a=Nm(n,a,l)}else n=m.treeContext,Rt=cr(T.nextSibling),yn=a,lt=!0,ga=null,ur=!1,n!==null&&vv(a,n),a=tu(a,f),a.flags|=4096;return a}return n=Fr(n.child,{mode:f.mode,children:f.children}),n.ref=a.ref,a.child=n,n.return=a,n}function nu(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function Zd(n,a,l,f,v){return go(a),l=Rd(n,a,l,f,void 0,v),f=Ad(),n!==null&&!rn?(Md(n,a,v),qr(n,a,v)):(lt&&f&&hd(a),a.flags|=1,xn(n,a,l,v),a.child)}function Bm(n,a,l,f,v,m){return go(a),a.updateQueue=null,l=Mv(a,f,l,v),Av(n),f=Ad(),n!==null&&!rn?(Md(n,a,m),qr(n,a,m)):(lt&&f&&hd(a),a.flags|=1,xn(n,a,l,m),a.child)}function Rm(n,a,l,f,v){if(go(a),a.stateNode===null){var m=Ko,T=l.contextType;typeof T=="object"&&T!==null&&(m=bn(T)),m=new l(f,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hd,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=f,m.state=a.memoizedState,m.refs={},Sd(a),T=l.contextType,m.context=typeof T=="object"&&T!==null?bn(T):Ko,m.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&($d(a,l,T,f),m.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Hd.enqueueReplaceState(m,m.state,null),ul(a,f,m,v),sl(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(n===null){m=a.stateNode;var B=a.memoizedProps,Y=wo(l,B);m.props=Y;var ae=m.context,he=l.contextType;T=Ko,typeof he=="object"&&he!==null&&(T=bn(he));var me=l.getDerivedStateFromProps;he=typeof me=="function"||typeof m.getSnapshotBeforeUpdate=="function",B=a.pendingProps!==B,he||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(B||ae!==T)&&ym(a,m,f,T),ya=!1;var ie=a.memoizedState;m.state=ie,ul(a,f,m,v),sl(),ae=a.memoizedState,B||ie!==ae||ya?(typeof me=="function"&&($d(a,l,me,f),ae=a.memoizedState),(Y=ya||mm(a,l,Y,f,ie,ae,T))?(he||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ae),m.props=f,m.state=ae,m.context=T,f=Y):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{m=a.stateNode,Cd(n,a),T=a.memoizedProps,he=wo(l,T),m.props=he,me=a.pendingProps,ie=m.context,ae=l.contextType,Y=Ko,typeof ae=="object"&&ae!==null&&(Y=bn(ae)),B=l.getDerivedStateFromProps,(ae=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==me||ie!==Y)&&ym(a,m,f,Y),ya=!1,ie=a.memoizedState,m.state=ie,ul(a,f,m,v),sl();var ue=a.memoizedState;T!==me||ie!==ue||ya||n!==null&&n.dependencies!==null&&Os(n.dependencies)?(typeof B=="function"&&($d(a,l,B,f),ue=a.memoizedState),(he=ya||mm(a,l,he,f,ie,ue,Y)||n!==null&&n.dependencies!==null&&Os(n.dependencies))?(ae||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(f,ue,Y),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(f,ue,Y)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&ie===n.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ie===n.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ue),m.props=f,m.state=ue,m.context=Y,f=he):(typeof m.componentDidUpdate!="function"||T===n.memoizedProps&&ie===n.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ie===n.memoizedState||(a.flags|=1024),f=!1)}return m=f,nu(n,a),f=(a.flags&128)!==0,m||f?(m=a.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,n!==null&&f?(a.child=bo(a,n.child,null,v),a.child=bo(a,null,l,v)):xn(n,a,l,v),a.memoizedState=m.state,n=a.child):n=qr(n,a,v),n}function Am(n,a,l,f){return ho(),a.flags|=256,xn(n,a,l,f),a.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(n){return{baseLanes:n,cachePool:kv()}}function tf(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=Jn),n}function Mm(n,a,l){var f=a.pendingProps,v=!1,m=(a.flags&128)!==0,T;if((T=m)||(T=n!==null&&n.memoizedState===null?!1:(Qt.current&2)!==0),T&&(v=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,n===null){if(lt){if(v?wa(a):ka(),(n=Rt)?(n=Xy(n,ur),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:pa!==null?{id:Tr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},l=hv(n),l.return=a,a.child=l,yn=a,Rt=null)):n=null,n===null)throw va(a);return Lf(n)?a.lanes=32:a.lanes=536870912,null}var B=f.children;return f=f.fallback,v?(ka(),v=a.mode,B=ru({mode:"hidden",children:B},v),f=fo(f,v,l,null),B.return=a,f.return=a,B.sibling=f,a.child=B,f=a.child,f.memoizedState=ef(l),f.childLanes=tf(n,T,l),a.memoizedState=Jd,pl(null,f)):(wa(a),nf(a,B))}var Y=n.memoizedState;if(Y!==null&&(B=Y.dehydrated,B!==null)){if(m)a.flags&256?(wa(a),a.flags&=-257,a=rf(n,a,l)):a.memoizedState!==null?(ka(),a.child=n.child,a.flags|=128,a=null):(ka(),B=f.fallback,v=a.mode,f=ru({mode:"visible",children:f.children},v),B=fo(B,v,l,null),B.flags|=2,f.return=a,B.return=a,f.sibling=B,a.child=f,bo(a,n.child,null,l),f=a.child,f.memoizedState=ef(l),f.childLanes=tf(n,T,l),a.memoizedState=Jd,a=pl(null,f));else if(wa(a),Lf(B)){if(T=B.nextSibling&&B.nextSibling.dataset,T)var ae=T.dgst;T=ae,f=Error(o(419)),f.stack="",f.digest=T,nl({value:f,source:null,stack:null}),a=rf(n,a,l)}else if(rn||Qo(n,a,l,!1),T=(l&n.childLanes)!==0,rn||T){if(T=Pt,T!==null&&(f=hn(T,l),f!==0&&f!==Y.retryLane))throw Y.retryLane=f,co(n,f),Wn(T,n,f),Qd;Of(B)||fu(),a=rf(n,a,l)}else Of(B)?(a.flags|=192,a.child=n.child,a=null):(n=Y.treeContext,Rt=cr(B.nextSibling),yn=a,lt=!0,ga=null,ur=!1,n!==null&&vv(a,n),a=nf(a,f.children),a.flags|=4096);return a}return v?(ka(),B=f.fallback,v=a.mode,Y=n.child,ae=Y.sibling,f=Fr(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,ae!==null?B=Fr(ae,B):(B=fo(B,v,l,null),B.flags|=2),B.return=a,f.return=a,f.sibling=B,a.child=f,pl(null,f),f=a.child,B=n.child.memoizedState,B===null?B=ef(l):(v=B.cachePool,v!==null?(Y=tn._currentValue,v=v.parent!==Y?{parent:Y,pool:Y}:v):v=kv(),B={baseLanes:B.baseLanes|l,cachePool:v}),f.memoizedState=B,f.childLanes=tf(n,T,l),a.memoizedState=Jd,pl(n.child,f)):(wa(a),l=n.child,n=l.sibling,l=Fr(l,{mode:"visible",children:f.children}),l.return=a,l.sibling=null,n!==null&&(T=a.deletions,T===null?(a.deletions=[n],a.flags|=16):T.push(n)),a.child=l,a.memoizedState=null,l)}function nf(n,a){return a=ru({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function ru(n,a){return n=Hn(22,n,null,a),n.lanes=0,n}function rf(n,a,l){return bo(a,n.child,null,l),n=nf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function zm(n,a,l){n.lanes|=a;var f=n.alternate;f!==null&&(f.lanes|=a),yd(n.return,a,l)}function af(n,a,l,f,v,m){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v,treeForkCount:m}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=f,T.tail=l,T.tailMode=v,T.treeForkCount=m)}function Im(n,a,l){var f=a.pendingProps,v=f.revealOrder,m=f.tail;f=f.children;var T=Qt.current,B=(T&2)!==0;if(B?(T=T&1|2,a.flags|=128):T&=1,H(Qt,T),xn(n,a,f,l),f=lt?tl:0,!B&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zm(n,l,a);else if(n.tag===19)zm(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(v){case"forwards":for(l=a.child,v=null;l!==null;)n=l.alternate,n!==null&&qs(n)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),af(a,!1,v,l,m,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(n=v.alternate,n!==null&&qs(n)===null){a.child=v;break}n=v.sibling,v.sibling=l,l=v,v=n}af(a,!0,l,null,m,f);break;case"together":af(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function qr(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Ca|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Qo(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(o(153));if(a.child!==null){for(n=a.child,l=Fr(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Fr(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function of(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Os(n)))}function lk(n,a,l){switch(a.tag){case 3:be(a,a.stateNode.containerInfo),ma(a,tn,n.memoizedState.cache),ho();break;case 27:case 5:te(a);break;case 4:be(a,a.stateNode.containerInfo);break;case 10:ma(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Nd(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(wa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Mm(n,a,l):(wa(a),n=qr(n,a,l),n!==null?n.sibling:null);wa(a);break;case 19:var v=(n.flags&128)!==0;if(f=(l&a.childLanes)!==0,f||(Qo(n,a,l,!1),f=(l&a.childLanes)!==0),v){if(f)return Im(n,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),H(Qt,Qt.current),f)break;return null;case 22:return a.lanes=0,_m(n,a,l,a.pendingProps);case 24:ma(a,tn,n.memoizedState.cache)}return qr(n,a,l)}function Om(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)rn=!0;else{if(!of(n,l)&&(a.flags&128)===0)return rn=!1,lk(n,a,l);rn=(n.flags&131072)!==0}else rn=!1,lt&&(a.flags&1048576)!==0&&gv(a,tl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(n=mo(a.elementType),a.type=n,typeof n=="function")cd(n)?(f=wo(n,f),a.tag=1,a=Rm(null,a,n,f,l)):(a.tag=0,a=Zd(null,a,n,f,l));else{if(n!=null){var v=n.$$typeof;if(v===_){a.tag=11,a=Cm(null,a,n,f,l);break e}else if(v===P){a.tag=14,a=Tm(null,a,n,f,l);break e}}throw a=j(n)||n,Error(o(306,a,""))}}return a;case 0:return Zd(n,a,a.type,a.pendingProps,l);case 1:return f=a.type,v=wo(f,a.pendingProps),Rm(n,a,f,v,l);case 3:e:{if(be(a,a.stateNode.containerInfo),n===null)throw Error(o(387));f=a.pendingProps;var m=a.memoizedState;v=m.element,Cd(n,a),ul(a,f,null,l);var T=a.memoizedState;if(f=T.cache,ma(a,tn,f),f!==m.cache&&bd(a,[tn],l,!0),sl(),f=T.element,m.isDehydrated)if(m={element:f,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=Am(n,a,f,l);break e}else if(f!==v){v=ir(Error(o(424)),a),nl(v),a=Am(n,a,f,l);break e}else for(n=a.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Rt=cr(n.firstChild),yn=a,lt=!0,ga=null,ur=!0,l=_v(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ho(),f===v){a=qr(n,a,l);break e}xn(n,a,f,l)}a=a.child}return a;case 26:return nu(n,a),n===null?(l=$y(a.type,null,a.pendingProps,null))?a.memoizedState=l:lt||(l=a.type,n=a.pendingProps,f=bu(se.current).createElement(l),f[Xt]=a,f[Wt]=n,wn(f,l,n),en(f),a.stateNode=f):a.memoizedState=$y(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return te(a),n===null&&lt&&(f=a.stateNode=qy(a.type,a.pendingProps,se.current),yn=a,ur=!0,v=Rt,Na(a.type)?(Ff=v,Rt=cr(f.firstChild)):Rt=v),xn(n,a,a.pendingProps.children,l),nu(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&lt&&((v=f=Rt)&&(f=Ok(f,a.type,a.pendingProps,ur),f!==null?(a.stateNode=f,yn=a,Rt=cr(f.firstChild),ur=!1,v=!0):v=!1),v||va(a)),te(a),v=a.type,m=a.pendingProps,T=n!==null?n.memoizedProps:null,f=m.children,Mf(v,m)?f=null:T!==null&&Mf(v,T)&&(a.flags|=32),a.memoizedState!==null&&(v=Rd(n,a,Z2,null,null,l),Dl._currentValue=v),nu(n,a),xn(n,a,f,l),a.child;case 6:return n===null&&lt&&((n=l=Rt)&&(l=Lk(l,a.pendingProps,ur),l!==null?(a.stateNode=l,yn=a,Rt=null,n=!0):n=!1),n||va(a)),null;case 13:return Mm(n,a,l);case 4:return be(a,a.stateNode.containerInfo),f=a.pendingProps,n===null?a.child=bo(a,null,f,l):xn(n,a,f,l),a.child;case 11:return Cm(n,a,a.type,a.pendingProps,l);case 7:return xn(n,a,a.pendingProps,l),a.child;case 8:return xn(n,a,a.pendingProps.children,l),a.child;case 12:return xn(n,a,a.pendingProps.children,l),a.child;case 10:return f=a.pendingProps,ma(a,a.type,f.value),xn(n,a,f.children,l),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,go(a),v=bn(v),f=f(v),a.flags|=1,xn(n,a,f,l),a.child;case 14:return Tm(n,a,a.type,a.pendingProps,l);case 15:return Pm(n,a,a.type,a.pendingProps,l);case 19:return Im(n,a,l);case 31:return ik(n,a,l);case 22:return _m(n,a,l,a.pendingProps);case 24:return go(a),f=bn(tn),n===null?(v=kd(),v===null&&(v=Pt,m=xd(),v.pooledCache=m,m.refCount++,m!==null&&(v.pooledCacheLanes|=l),v=m),a.memoizedState={parent:f,cache:v},Sd(a),ma(a,tn,v)):((n.lanes&l)!==0&&(Cd(n,a),ul(a,null,null,l),sl()),v=n.memoizedState,m=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),ma(a,tn,f)):(f=m.cache,ma(a,tn,f),f!==v.cache&&bd(a,[tn],l,!0))),xn(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Yr(n){n.flags|=4}function lf(n,a,l,f,v){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(v&335544128)===v)if(n.stateNode.complete)n.flags|=8192;else if(cy())n.flags|=8192;else throw yo=js,Ed}else n.flags&=-16777217}function Lm(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Jy(a))if(cy())n.flags|=8192;else throw yo=js,Ed}function au(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Bt():536870912,n.lanes|=a,ui|=a)}function gl(n,a){if(!lt)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function At(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(a)for(var v=n.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=f,n.childLanes=l,a}function sk(n,a,l){var f=a.pendingProps;switch(pd(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(a),null;case 1:return At(a),null;case 3:return l=a.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Xr(tn),Q(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Go(a)?Yr(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,vd())),At(a),null;case 26:var v=a.type,m=a.memoizedState;return n===null?(Yr(a),m!==null?(At(a),Lm(a,m)):(At(a),lf(a,v,null,f,l))):m?m!==n.memoizedState?(Yr(a),At(a),Lm(a,m)):(At(a),a.flags&=-16777217):(n=n.memoizedProps,n!==f&&Yr(a),At(a),lf(a,v,n,f,l)),null;case 27:if(ne(a),l=se.current,v=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==f&&Yr(a);else{if(!f){if(a.stateNode===null)throw Error(o(166));return At(a),null}n=ee.current,Go(a)?mv(a):(n=qy(v,f,l),a.stateNode=n,Yr(a))}return At(a),null;case 5:if(ne(a),v=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==f&&Yr(a);else{if(!f){if(a.stateNode===null)throw Error(o(166));return At(a),null}if(m=ee.current,Go(a))mv(a);else{var T=bu(se.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof f.is=="string"?T.createElement("select",{is:f.is}):T.createElement("select"),f.multiple?m.multiple=!0:f.size&&(m.size=f.size);break;default:m=typeof f.is=="string"?T.createElement(v,{is:f.is}):T.createElement(v)}}m[Xt]=a,m[Wt]=f;e:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break e;for(;T.sibling===null;){if(T.return===null||T.return===a)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=m;e:switch(wn(m,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Yr(a)}}return At(a),lf(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,l),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==f&&Yr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(o(166));if(n=se.current,Go(a)){if(n=a.stateNode,l=a.memoizedProps,f=null,v=yn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}n[Xt]=a,n=!!(n.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||My(n.nodeValue,l)),n||va(a,!0)}else n=bu(n).createTextNode(f),n[Xt]=a,a.stateNode=n}return At(a),null;case 31:if(l=a.memoizedState,n===null||n.memoizedState!==null){if(f=Go(a),l!==null){if(n===null){if(!f)throw Error(o(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[Xt]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),n=!1}else l=vd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return a.flags&256?(Qn(a),a):(Qn(a),null);if((a.flags&128)!==0)throw Error(o(558))}return At(a),null;case 13:if(f=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Go(a),f!==null&&f.dehydrated!==null){if(n===null){if(!v)throw Error(o(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Xt]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;At(a),v=!1}else v=vd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Qn(a),a):(Qn(a),null)}return Qn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=f!==null,n=n!==null&&n.memoizedState!==null,l&&(f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),m=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(m=f.memoizedState.cachePool.pool),m!==v&&(f.flags|=2048)),l!==n&&l&&(a.child.flags|=8192),au(a,a.updateQueue),At(a),null);case 4:return Q(),n===null&&Df(a.stateNode.containerInfo),At(a),null;case 10:return Xr(a.type),At(a),null;case 19:if(X(Qt),f=a.memoizedState,f===null)return At(a),null;if(v=(a.flags&128)!==0,m=f.rendering,m===null)if(v)gl(f,!1);else{if(qt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(m=qs(n),m!==null){for(a.flags|=128,gl(f,!1),n=m.updateQueue,a.updateQueue=n,au(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)fv(l,n),l=l.sibling;return H(Qt,Qt.current&1|2),lt&&Vr(a,f.treeForkCount),a.child}n=n.sibling}f.tail!==null&&Oe()>uu&&(a.flags|=128,v=!0,gl(f,!1),a.lanes=4194304)}else{if(!v)if(n=qs(m),n!==null){if(a.flags|=128,v=!0,n=n.updateQueue,a.updateQueue=n,au(a,n),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!lt)return At(a),null}else 2*Oe()-f.renderingStartTime>uu&&l!==536870912&&(a.flags|=128,v=!0,gl(f,!1),a.lanes=4194304);f.isBackwards?(m.sibling=a.child,a.child=m):(n=f.last,n!==null?n.sibling=m:a.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,l=Qt.current,H(Qt,v?l&1|2:l&1),lt&&Vr(a,f.treeForkCount),n):(At(a),null);case 22:case 23:return Qn(a),Dd(),f=a.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(l&536870912)!==0&&(a.flags&128)===0&&(At(a),a.subtreeFlags&6&&(a.flags|=8192)):At(a),l=a.updateQueue,l!==null&&au(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048),n!==null&&X(vo),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xr(tn),At(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function uk(n,a){switch(pd(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Xr(tn),Q(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return ne(a),null;case 31:if(a.memoizedState!==null){if(Qn(a),a.alternate===null)throw Error(o(340));ho()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Qn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(o(340));ho()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return X(Qt),null;case 4:return Q(),null;case 10:return Xr(a.type),null;case 22:case 23:return Qn(a),Dd(),n!==null&&X(vo),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Xr(tn),null;case 25:return null;default:return null}}function Fm(n,a){switch(pd(a),a.tag){case 3:Xr(tn),Q();break;case 26:case 27:case 5:ne(a);break;case 4:Q();break;case 31:a.memoizedState!==null&&Qn(a);break;case 13:Qn(a);break;case 19:X(Qt);break;case 10:Xr(a.type);break;case 22:case 23:Qn(a),Dd(),n!==null&&X(vo);break;case 24:Xr(tn)}}function vl(n,a){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&n)===n){f=void 0;var m=l.create,T=l.inst;f=m(),T.destroy=f}l=l.next}while(l!==v)}}catch(B){kt(a,a.return,B)}}function Ea(n,a,l){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var m=v.next;f=m;do{if((f.tag&n)===n){var T=f.inst,B=T.destroy;if(B!==void 0){T.destroy=void 0,v=a;var Y=l,ae=B;try{ae()}catch(he){kt(v,Y,he)}}}f=f.next}while(f!==m)}}catch(he){kt(a,a.return,he)}}function Vm(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{Nv(a,l)}catch(f){kt(n,n.return,f)}}}function jm(n,a,l){l.props=wo(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(f){kt(n,a,f)}}function ml(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof l=="function"?n.refCleanup=l(f):l.current=f}}catch(v){kt(n,a,v)}}function _r(n,a){var l=n.ref,f=n.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){kt(n,a,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){kt(n,a,v)}else l.current=null}function Xm(n){var a=n.type,l=n.memoizedProps,f=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){kt(n,n.return,v)}}function sf(n,a,l){try{var f=n.stateNode;Bk(f,n.type,l,a),f[Wt]=a}catch(v){kt(n,n.return,v)}}function Wm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Na(n.type)||n.tag===4}function uf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Na(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function cf(n,a,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Or));else if(f!==4&&(f===27&&Na(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(cf(n,a,l),n=n.sibling;n!==null;)cf(n,a,l),n=n.sibling}function ou(n,a,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(f!==4&&(f===27&&Na(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(ou(n,a,l),n=n.sibling;n!==null;)ou(n,a,l),n=n.sibling}function Um(n){var a=n.stateNode,l=n.memoizedProps;try{for(var f=n.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);wn(a,f,l),a[Xt]=n,a[Wt]=l}catch(m){kt(n,n.return,m)}}var Kr=!1,an=!1,df=!1,qm=typeof WeakSet=="function"?WeakSet:Set,pn=null;function ck(n,a){if(n=n.containerInfo,Rf=Tu,n=rv(n),rd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,m=f.focusNode;f=f.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var T=0,B=-1,Y=-1,ae=0,he=0,me=n,ie=null;t:for(;;){for(var ue;me!==l||v!==0&&me.nodeType!==3||(B=T+v),me!==m||f!==0&&me.nodeType!==3||(Y=T+f),me.nodeType===3&&(T+=me.nodeValue.length),(ue=me.firstChild)!==null;)ie=me,me=ue;for(;;){if(me===n)break t;if(ie===l&&++ae===v&&(B=T),ie===m&&++he===f&&(Y=T),(ue=me.nextSibling)!==null)break;me=ie,ie=me.parentNode}me=ue}l=B===-1||Y===-1?null:{start:B,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(Af={focusedElem:n,selectionRange:l},Tu=!1,pn=a;pn!==null;)if(a=pn,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,pn=n;else for(;pn!==null;){switch(a=pn,m=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)v=n[l],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,l=a,v=m.memoizedProps,m=m.memoizedState,f=l.stateNode;try{var _e=wo(l.type,v);n=f.getSnapshotBeforeUpdate(_e,m),f.__reactInternalSnapshotBeforeUpdate=n}catch(je){kt(l,l.return,je)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)If(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":If(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=a.sibling,n!==null){n.return=a.return,pn=n;break}pn=a.return}}function Ym(n,a,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Hr(n,l),f&4&&vl(5,l);break;case 1:if(Hr(n,l),f&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(T){kt(l,l.return,T)}else{var v=wo(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(v,a,n.__reactInternalSnapshotBeforeUpdate)}catch(T){kt(l,l.return,T)}}f&64&&Vm(l),f&512&&ml(l,l.return);break;case 3:if(Hr(n,l),f&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Nv(n,a)}catch(T){kt(l,l.return,T)}}break;case 27:a===null&&f&4&&Um(l);case 26:case 5:Hr(n,l),a===null&&f&4&&Xm(l),f&512&&ml(l,l.return);break;case 12:Hr(n,l);break;case 31:Hr(n,l),f&4&&Hm(n,l);break;case 13:Hr(n,l),f&4&&Gm(n,l),f&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=bk.bind(null,l),Fk(n,l))));break;case 22:if(f=l.memoizedState!==null||Kr,!f){a=a!==null&&a.memoizedState!==null||an,v=Kr;var m=an;Kr=f,(an=a)&&!m?Gr(n,l,(l.subtreeFlags&8772)!==0):Hr(n,l),Kr=v,an=m}break;case 30:break;default:Hr(n,l)}}function Km(n){var a=n.alternate;a!==null&&(n.alternate=null,Km(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Ui(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ot=null,Fn=!1;function $r(n,a,l){for(l=l.child;l!==null;)$m(n,a,l),l=l.sibling}function $m(n,a,l){if(le&&typeof le.onCommitFiberUnmount=="function")try{le.onCommitFiberUnmount(oe,l)}catch{}switch(l.tag){case 26:an||_r(l,a),$r(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:an||_r(l,a);var f=Ot,v=Fn;Na(l.type)&&(Ot=l.stateNode,Fn=!1),$r(n,a,l),Tl(l.stateNode),Ot=f,Fn=v;break;case 5:an||_r(l,a);case 6:if(f=Ot,v=Fn,Ot=null,$r(n,a,l),Ot=f,Fn=v,Ot!==null)if(Fn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(l.stateNode)}catch(m){kt(l,a,m)}else try{Ot.removeChild(l.stateNode)}catch(m){kt(l,a,m)}break;case 18:Ot!==null&&(Fn?(n=Ot,Vy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),mi(n)):Vy(Ot,l.stateNode));break;case 4:f=Ot,v=Fn,Ot=l.stateNode.containerInfo,Fn=!0,$r(n,a,l),Ot=f,Fn=v;break;case 0:case 11:case 14:case 15:Ea(2,l,a),an||Ea(4,l,a),$r(n,a,l);break;case 1:an||(_r(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"&&jm(l,a,f)),$r(n,a,l);break;case 21:$r(n,a,l);break;case 22:an=(f=an)||l.memoizedState!==null,$r(n,a,l),an=f;break;default:$r(n,a,l)}}function Hm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{mi(n)}catch(l){kt(a,a.return,l)}}}function Gm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{mi(n)}catch(l){kt(a,a.return,l)}}function dk(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new qm),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new qm),a;default:throw Error(o(435,n.tag))}}function iu(n,a){var l=dk(n);a.forEach(function(f){if(!l.has(f)){l.add(f);var v=xk.bind(null,n,f);f.then(v,v)}})}function Vn(n,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],m=n,T=a,B=T;e:for(;B!==null;){switch(B.tag){case 27:if(Na(B.type)){Ot=B.stateNode,Fn=!1;break e}break;case 5:Ot=B.stateNode,Fn=!1;break e;case 3:case 4:Ot=B.stateNode.containerInfo,Fn=!0;break e}B=B.return}if(Ot===null)throw Error(o(160));$m(m,T,v),Ot=null,Fn=!1,m=v.alternate,m!==null&&(m.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Qm(a,n),a=a.sibling}var xr=null;function Qm(n,a){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Vn(a,n),jn(n),f&4&&(Ea(3,n,n.return),vl(3,n),Ea(5,n,n.return));break;case 1:Vn(a,n),jn(n),f&512&&(an||l===null||_r(l,l.return)),f&64&&Kr&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=xr;if(Vn(a,n),jn(n),f&512&&(an||l===null||_r(l,l.return)),f&4){var m=l!==null?l.memoizedState:null;if(f=n.memoizedState,l===null)if(f===null)if(n.stateNode===null){e:{f=n.type,l=n.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":m=v.getElementsByTagName("title")[0],(!m||m[la]||m[Xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=v.createElement(f),v.head.insertBefore(m,v.querySelector("head > title"))),wn(m,f,l),m[Xt]=n,en(m),f=m;break e;case"link":var T=Qy("link","href",v).get(f+(l.href||""));if(T){for(var B=0;B<T.length;B++)if(m=T[B],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(B,1);break t}}m=v.createElement(f),wn(m,f,l),v.head.appendChild(m);break;case"meta":if(T=Qy("meta","content",v).get(f+(l.content||""))){for(B=0;B<T.length;B++)if(m=T[B],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(B,1);break t}}m=v.createElement(f),wn(m,f,l),v.head.appendChild(m);break;default:throw Error(o(468,f))}m[Xt]=n,en(m),f=m}n.stateNode=f}else Zy(v,n.type,n.stateNode);else n.stateNode=Gy(v,f,n.memoizedProps);else m!==f?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,f===null?Zy(v,n.type,n.stateNode):Gy(v,f,n.memoizedProps)):f===null&&n.stateNode!==null&&sf(n,n.memoizedProps,l.memoizedProps)}break;case 27:Vn(a,n),jn(n),f&512&&(an||l===null||_r(l,l.return)),l!==null&&f&4&&sf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Vn(a,n),jn(n),f&512&&(an||l===null||_r(l,l.return)),n.flags&32){v=n.stateNode;try{Vo(v,"")}catch(_e){kt(n,n.return,_e)}}f&4&&n.stateNode!=null&&(v=n.memoizedProps,sf(n,v,l!==null?l.memoizedProps:v)),f&1024&&(df=!0);break;case 6:if(Vn(a,n),jn(n),f&4){if(n.stateNode===null)throw Error(o(162));f=n.memoizedProps,l=n.stateNode;try{l.nodeValue=f}catch(_e){kt(n,n.return,_e)}}break;case 3:if(ku=null,v=xr,xr=xu(a.containerInfo),Vn(a,n),xr=v,jn(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{mi(a.containerInfo)}catch(_e){kt(n,n.return,_e)}df&&(df=!1,Zm(n));break;case 4:f=xr,xr=xu(n.stateNode.containerInfo),Vn(a,n),jn(n),xr=f;break;case 12:Vn(a,n),jn(n);break;case 31:Vn(a,n),jn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,iu(n,f)));break;case 13:Vn(a,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(su=Oe()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,iu(n,f)));break;case 22:v=n.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,ae=Kr,he=an;if(Kr=ae||v,an=he||Y,Vn(a,n),an=he,Kr=ae,jn(n),f&8192)e:for(a=n.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||Y||Kr||an||ko(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){Y=l=a;try{if(m=Y.stateNode,v)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{B=Y.stateNode;var me=Y.memoizedProps.style,ie=me!=null&&me.hasOwnProperty("display")?me.display:null;B.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(_e){kt(Y,Y.return,_e)}}}else if(a.tag===6){if(l===null){Y=a;try{Y.stateNode.nodeValue=v?"":Y.memoizedProps}catch(_e){kt(Y,Y.return,_e)}}}else if(a.tag===18){if(l===null){Y=a;try{var ue=Y.stateNode;v?jy(ue,!0):jy(Y.stateNode,!1)}catch(_e){kt(Y,Y.return,_e)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=n.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,iu(n,l))));break;case 19:Vn(a,n),jn(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,iu(n,f)));break;case 30:break;case 21:break;default:Vn(a,n),jn(n)}}function jn(n){var a=n.flags;if(a&2){try{for(var l,f=n.return;f!==null;){if(Wm(f)){l=f;break}f=f.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var v=l.stateNode,m=uf(n);ou(n,m,v);break;case 5:var T=l.stateNode;l.flags&32&&(Vo(T,""),l.flags&=-33);var B=uf(n);ou(n,B,T);break;case 3:case 4:var Y=l.stateNode.containerInfo,ae=uf(n);cf(n,ae,Y);break;default:throw Error(o(161))}}catch(he){kt(n,n.return,he)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Zm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Zm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Hr(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ym(n,a.alternate,a),a=a.sibling}function ko(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ea(4,a,a.return),ko(a);break;case 1:_r(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&jm(a,a.return,l),ko(a);break;case 27:Tl(a.stateNode);case 26:case 5:_r(a,a.return),ko(a);break;case 22:a.memoizedState===null&&ko(a);break;case 30:ko(a);break;default:ko(a)}n=n.sibling}}function Gr(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=n,m=a,T=m.flags;switch(m.tag){case 0:case 11:case 15:Gr(v,m,l),vl(4,m);break;case 1:if(Gr(v,m,l),f=m,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ae){kt(f,f.return,ae)}if(f=m,v=f.updateQueue,v!==null){var B=f.stateNode;try{var Y=v.shared.hiddenCallbacks;if(Y!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Y.length;v++)Dv(Y[v],B)}catch(ae){kt(f,f.return,ae)}}l&&T&64&&Vm(m),ml(m,m.return);break;case 27:Um(m);case 26:case 5:Gr(v,m,l),l&&f===null&&T&4&&Xm(m),ml(m,m.return);break;case 12:Gr(v,m,l);break;case 31:Gr(v,m,l),l&&T&4&&Hm(v,m);break;case 13:Gr(v,m,l),l&&T&4&&Gm(v,m);break;case 22:m.memoizedState===null&&Gr(v,m,l),ml(m,m.return);break;case 30:break;default:Gr(v,m,l)}a=a.sibling}}function ff(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&rl(l))}function hf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&rl(n))}function wr(n,a,l,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jm(n,a,l,f),a=a.sibling}function Jm(n,a,l,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:wr(n,a,l,f),v&2048&&vl(9,a);break;case 1:wr(n,a,l,f);break;case 3:wr(n,a,l,f),v&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&rl(n)));break;case 12:if(v&2048){wr(n,a,l,f),n=a.stateNode;try{var m=a.memoizedProps,T=m.id,B=m.onPostCommit;typeof B=="function"&&B(T,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Y){kt(a,a.return,Y)}}else wr(n,a,l,f);break;case 31:wr(n,a,l,f);break;case 13:wr(n,a,l,f);break;case 23:break;case 22:m=a.stateNode,T=a.alternate,a.memoizedState!==null?m._visibility&2?wr(n,a,l,f):yl(n,a):m._visibility&2?wr(n,a,l,f):(m._visibility|=2,ii(n,a,l,f,(a.subtreeFlags&10256)!==0||!1)),v&2048&&ff(T,a);break;case 24:wr(n,a,l,f),v&2048&&hf(a.alternate,a);break;default:wr(n,a,l,f)}}function ii(n,a,l,f,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=n,T=a,B=l,Y=f,ae=T.flags;switch(T.tag){case 0:case 11:case 15:ii(m,T,B,Y,v),vl(8,T);break;case 23:break;case 22:var he=T.stateNode;T.memoizedState!==null?he._visibility&2?ii(m,T,B,Y,v):yl(m,T):(he._visibility|=2,ii(m,T,B,Y,v)),v&&ae&2048&&ff(T.alternate,T);break;case 24:ii(m,T,B,Y,v),v&&ae&2048&&hf(T.alternate,T);break;default:ii(m,T,B,Y,v)}a=a.sibling}}function yl(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,f=a,v=f.flags;switch(f.tag){case 22:yl(l,f),v&2048&&ff(f.alternate,f);break;case 24:yl(l,f),v&2048&&hf(f.alternate,f);break;default:yl(l,f)}a=a.sibling}}var bl=8192;function li(n,a,l){if(n.subtreeFlags&bl)for(n=n.child;n!==null;)ey(n,a,l),n=n.sibling}function ey(n,a,l){switch(n.tag){case 26:li(n,a,l),n.flags&bl&&n.memoizedState!==null&&Qk(l,xr,n.memoizedState,n.memoizedProps);break;case 5:li(n,a,l);break;case 3:case 4:var f=xr;xr=xu(n.stateNode.containerInfo),li(n,a,l),xr=f;break;case 22:n.memoizedState===null&&(f=n.alternate,f!==null&&f.memoizedState!==null?(f=bl,bl=16777216,li(n,a,l),bl=f):li(n,a,l));break;default:li(n,a,l)}}function ty(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function xl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];pn=f,ry(f,n)}ty(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(n),n=n.sibling}function ny(n){switch(n.tag){case 0:case 11:case 15:xl(n),n.flags&2048&&Ea(9,n,n.return);break;case 3:xl(n);break;case 12:xl(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,lu(n)):xl(n);break;default:xl(n)}}function lu(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];pn=f,ry(f,n)}ty(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ea(8,a,a.return),lu(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,lu(a));break;default:lu(a)}n=n.sibling}}function ry(n,a){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:Ea(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:rl(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,pn=f;else e:for(l=n;pn!==null;){f=pn;var v=f.sibling,m=f.return;if(Km(f),f===l){pn=null;break e}if(v!==null){v.return=m,pn=v;break e}pn=m}}}var fk={getCacheForType:function(n){var a=bn(tn),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l},cacheSignal:function(){return bn(tn).controller.signal}},hk=typeof WeakMap=="function"?WeakMap:Map,mt=0,Pt=null,tt=null,at=0,wt=0,Zn=null,Sa=!1,si=!1,pf=!1,Qr=0,qt=0,Ca=0,Eo=0,gf=0,Jn=0,ui=0,wl=null,Xn=null,vf=!1,su=0,ay=0,uu=1/0,cu=null,Ta=null,sn=0,Pa=null,ci=null,Zr=0,mf=0,yf=null,oy=null,kl=0,bf=null;function er(){return(mt&2)!==0&&at!==0?at&-at:z.T!==null?Cf():Bn()}function iy(){if(Jn===0)if((at&536870912)===0||lt){var n=Me;Me<<=1,(Me&3932160)===0&&(Me=262144),Jn=n}else Jn=536870912;return n=Gn.current,n!==null&&(n.flags|=32),Jn}function Wn(n,a,l){(n===Pt&&(wt===2||wt===9)||n.cancelPendingCommit!==null)&&(di(n,0),_a(n,at,Jn,!1)),$t(n,l),((mt&2)===0||n!==Pt)&&(n===Pt&&((mt&2)===0&&(Eo|=l),qt===4&&_a(n,at,Jn,!1)),Dr(n))}function ly(n,a,l){if((mt&6)!==0)throw Error(o(327));var f=!l&&(a&127)===0&&(a&n.expiredLanes)===0||Ke(n,a),v=f?vk(n,a):wf(n,a,!0),m=f;do{if(v===0){si&&!f&&_a(n,a,0,!1);break}else{if(l=n.current.alternate,m&&!pk(l)){v=wf(n,a,!1),m=!1;continue}if(v===2){if(m=a,n.errorRecoveryDisabledLanes&m)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var B=n;v=wl;var Y=B.current.memoizedState.isDehydrated;if(Y&&(di(B,T).flags|=256),T=wf(B,T,!1),T!==2){if(pf&&!Y){B.errorRecoveryDisabledLanes|=m,Eo|=m,v=4;break e}m=Xn,Xn=v,m!==null&&(Xn===null?Xn=m:Xn.push.apply(Xn,m))}v=T}if(m=!1,v!==2)continue}}if(v===1){di(n,0),_a(n,a,0,!0);break}e:{switch(f=n,m=v,m){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:_a(f,a,Jn,!Sa);break e;case 2:Xn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(v=su+300-Oe(),10<v)){if(_a(f,a,Jn,!Sa),Be(f,0,!0)!==0)break e;Zr=a,f.timeoutHandle=Ly(sy.bind(null,f,l,Xn,cu,vf,a,Jn,Eo,ui,Sa,m,"Throttled",-0,0),v);break e}sy(f,l,Xn,cu,vf,a,Jn,Eo,ui,Sa,m,null,-0,0)}}break}while(!0);Dr(n)}function sy(n,a,l,f,v,m,T,B,Y,ae,he,me,ie,ue){if(n.timeoutHandle=-1,me=a.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Or},ey(a,m,me);var _e=(m&62914560)===m?su-Oe():(m&4194048)===m?ay-Oe():0;if(_e=Zk(me,_e),_e!==null){Zr=m,n.cancelPendingCommit=_e(vy.bind(null,n,a,m,l,f,v,T,B,Y,he,me,null,ie,ue)),_a(n,m,T,!ae);return}}vy(n,a,m,l,f,v,T,B,Y)}function pk(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],m=v.getSnapshot;v=v.value;try{if(!$n(m(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _a(n,a,l,f){a&=~gf,a&=~Eo,n.suspendedLanes|=a,n.pingedLanes&=~a,f&&(n.warmLanes|=a),f=n.expirationTimes;for(var v=a;0<v;){var m=31-fe(v),T=1<<m;f[m]=-1,v&=~T}l!==0&&Ht(n,l,a)}function du(){return(mt&6)===0?(El(0),!1):!0}function xf(){if(tt!==null){if(wt===0)var n=tt.return;else n=tt,jr=po=null,zd(n),ti=null,ol=0,n=tt;for(;n!==null;)Fm(n.alternate,n),n=n.return;tt=null}}function di(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Mk(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Zr=0,xf(),Pt=n,tt=l=Fr(n.current,null),at=a,wt=0,Zn=null,Sa=!1,si=Ke(n,a),pf=!1,ui=Jn=gf=Eo=Ca=qt=0,Xn=wl=null,vf=!1,(a&8)!==0&&(a|=a&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=a;0<f;){var v=31-fe(f),m=1<<v;a|=n[v],f&=~m}return Qr=a,Rs(),l}function uy(n,a){Qe=null,z.H=hl,a===ei||a===Vs?(a=Cv(),wt=3):a===Ed?(a=Cv(),wt=4):wt=a===Qd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zn=a,tt===null&&(qt=1,eu(n,ir(a,n.current)))}function cy(){var n=Gn.current;return n===null?!0:(at&4194048)===at?br===null:(at&62914560)===at||(at&536870912)!==0?n===br:!1}function dy(){var n=z.H;return z.H=hl,n===null?hl:n}function fy(){var n=z.A;return z.A=fk,n}function fu(){qt=4,Sa||(at&4194048)!==at&&Gn.current!==null||(si=!0),(Ca&134217727)===0&&(Eo&134217727)===0||Pt===null||_a(Pt,at,Jn,!1)}function wf(n,a,l){var f=mt;mt|=2;var v=dy(),m=fy();(Pt!==n||at!==a)&&(cu=null,di(n,a)),a=!1;var T=qt;e:do try{if(wt!==0&&tt!==null){var B=tt,Y=Zn;switch(wt){case 8:xf(),T=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(a=!0);var ae=wt;if(wt=0,Zn=null,fi(n,B,Y,ae),l&&si){T=0;break e}break;default:ae=wt,wt=0,Zn=null,fi(n,B,Y,ae)}}gk(),T=qt;break}catch(he){uy(n,he)}while(!0);return a&&n.shellSuspendCounter++,jr=po=null,mt=f,z.H=v,z.A=m,tt===null&&(Pt=null,at=0,Rs()),T}function gk(){for(;tt!==null;)hy(tt)}function vk(n,a){var l=mt;mt|=2;var f=dy(),v=fy();Pt!==n||at!==a?(cu=null,uu=Oe()+500,di(n,a)):si=Ke(n,a);e:do try{if(wt!==0&&tt!==null){a=tt;var m=Zn;t:switch(wt){case 1:wt=0,Zn=null,fi(n,a,m,1);break;case 2:case 9:if(Ev(m)){wt=0,Zn=null,py(a);break}a=function(){wt!==2&&wt!==9||Pt!==n||(wt=7),Dr(n)},m.then(a,a);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Ev(m)?(wt=0,Zn=null,py(a)):(wt=0,Zn=null,fi(n,a,m,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var B=tt;if(T?Jy(T):B.stateNode.complete){wt=0,Zn=null;var Y=B.sibling;if(Y!==null)tt=Y;else{var ae=B.return;ae!==null?(tt=ae,hu(ae)):tt=null}break t}}wt=0,Zn=null,fi(n,a,m,5);break;case 6:wt=0,Zn=null,fi(n,a,m,6);break;case 8:xf(),qt=6;break e;default:throw Error(o(462))}}mk();break}catch(he){uy(n,he)}while(!0);return jr=po=null,z.H=f,z.A=v,mt=l,tt!==null?0:(Pt=null,at=0,Rs(),qt)}function mk(){for(;tt!==null&&!We();)hy(tt)}function hy(n){var a=Om(n.alternate,n,Qr);n.memoizedProps=n.pendingProps,a===null?hu(n):tt=a}function py(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=Bm(l,a,a.pendingProps,a.type,void 0,at);break;case 11:a=Bm(l,a,a.pendingProps,a.type.render,a.ref,at);break;case 5:zd(a);default:Fm(l,a),a=tt=fv(a,Qr),a=Om(l,a,Qr)}n.memoizedProps=n.pendingProps,a===null?hu(n):tt=a}function fi(n,a,l,f){jr=po=null,zd(a),ti=null,ol=0;var v=a.return;try{if(ok(n,v,a,l,at)){qt=1,eu(n,ir(l,n.current)),tt=null;return}}catch(m){if(v!==null)throw tt=v,m;qt=1,eu(n,ir(l,n.current)),tt=null;return}a.flags&32768?(lt||f===1?n=!0:si||(at&536870912)!==0?n=!1:(Sa=n=!0,(f===2||f===9||f===3||f===6)&&(f=Gn.current,f!==null&&f.tag===13&&(f.flags|=16384))),gy(a,n)):hu(a)}function hu(n){var a=n;do{if((a.flags&32768)!==0){gy(a,Sa);return}n=a.return;var l=sk(a.alternate,a,Qr);if(l!==null){tt=l;return}if(a=a.sibling,a!==null){tt=a;return}tt=a=n}while(a!==null);qt===0&&(qt=5)}function gy(n,a){do{var l=uk(n.alternate,n);if(l!==null){l.flags&=32767,tt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){tt=n;return}tt=n=l}while(n!==null);qt=6,tt=null}function vy(n,a,l,f,v,m,T,B,Y){n.cancelPendingCommit=null;do pu();while(sn!==0);if((mt&6)!==0)throw Error(o(327));if(a!==null){if(a===n.current)throw Error(o(177));if(m=a.lanes|a.childLanes,m|=sd,jt(n,l,m,T,B,Y),n===Pt&&(tt=Pt=null,at=0),ci=a,Pa=n,Zr=l,mf=m,yf=v,oy=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,wk(rt,function(){return wy(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,v=V.p,V.p=2,T=mt,mt|=4;try{ck(n,a,l)}finally{mt=T,V.p=v,z.T=f}}sn=1,my(),yy(),by()}}function my(){if(sn===1){sn=0;var n=Pa,a=ci,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var f=V.p;V.p=2;var v=mt;mt|=4;try{Qm(a,n);var m=Af,T=rv(n.containerInfo),B=m.focusedElem,Y=m.selectionRange;if(T!==B&&B&&B.ownerDocument&&nv(B.ownerDocument.documentElement,B)){if(Y!==null&&rd(B)){var ae=Y.start,he=Y.end;if(he===void 0&&(he=ae),"selectionStart"in B)B.selectionStart=ae,B.selectionEnd=Math.min(he,B.value.length);else{var me=B.ownerDocument||document,ie=me&&me.defaultView||window;if(ie.getSelection){var ue=ie.getSelection(),_e=B.textContent.length,je=Math.min(Y.start,_e),Ct=Y.end===void 0?je:Math.min(Y.end,_e);!ue.extend&&je>Ct&&(T=Ct,Ct=je,je=T);var G=tv(B,je),K=tv(B,Ct);if(G&&K&&(ue.rangeCount!==1||ue.anchorNode!==G.node||ue.anchorOffset!==G.offset||ue.focusNode!==K.node||ue.focusOffset!==K.offset)){var re=me.createRange();re.setStart(G.node,G.offset),ue.removeAllRanges(),je>Ct?(ue.addRange(re),ue.extend(K.node,K.offset)):(re.setEnd(K.node,K.offset),ue.addRange(re))}}}}for(me=[],ue=B;ue=ue.parentNode;)ue.nodeType===1&&me.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<me.length;B++){var ge=me[B];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Tu=!!Rf,Af=Rf=null}finally{mt=v,V.p=f,z.T=l}}n.current=a,sn=2}}function yy(){if(sn===2){sn=0;var n=Pa,a=ci,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var f=V.p;V.p=2;var v=mt;mt|=4;try{Ym(n,a.alternate,a)}finally{mt=v,V.p=f,z.T=l}}sn=3}}function by(){if(sn===4||sn===3){sn=0,qe();var n=Pa,a=ci,l=Zr,f=oy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?sn=5:(sn=0,ci=Pa=null,xy(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(Ta=null),zt(l),a=a.stateNode,le&&typeof le.onCommitFiberRoot=="function")try{le.onCommitFiberRoot(oe,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=z.T,v=V.p,V.p=2,z.T=null;try{for(var m=n.onRecoverableError,T=0;T<f.length;T++){var B=f[T];m(B.value,{componentStack:B.stack})}}finally{z.T=a,V.p=v}}(Zr&3)!==0&&pu(),Dr(n),v=n.pendingLanes,(l&261930)!==0&&(v&42)!==0?n===bf?kl++:(kl=0,bf=n):kl=0,El(0)}}function xy(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,rl(a)))}function pu(){return my(),yy(),by(),wy()}function wy(){if(sn!==5)return!1;var n=Pa,a=mf;mf=0;var l=zt(Zr),f=z.T,v=V.p;try{V.p=32>l?32:l,z.T=null,l=yf,yf=null;var m=Pa,T=Zr;if(sn=0,ci=Pa=null,Zr=0,(mt&6)!==0)throw Error(o(331));var B=mt;if(mt|=4,ny(m.current),Jm(m,m.current,T,l),mt=B,El(0,!1),le&&typeof le.onPostCommitFiberRoot=="function")try{le.onPostCommitFiberRoot(oe,m)}catch{}return!0}finally{V.p=v,z.T=f,xy(n,a)}}function ky(n,a,l){a=ir(l,a),a=Gd(n.stateNode,a,2),n=xa(n,a,2),n!==null&&($t(n,2),Dr(n))}function kt(n,a,l){if(n.tag===3)ky(n,n,l);else for(;a!==null;){if(a.tag===3){ky(a,n,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ta===null||!Ta.has(f))){n=ir(l,n),l=Em(2),f=xa(a,l,2),f!==null&&(Sm(l,f,a,n),$t(f,2),Dr(f));break}}a=a.return}}function kf(n,a,l){var f=n.pingCache;if(f===null){f=n.pingCache=new hk;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(l)||(pf=!0,v.add(l),n=yk.bind(null,n,a,l),a.then(n,n))}function yk(n,a,l){var f=n.pingCache;f!==null&&f.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Pt===n&&(at&l)===l&&(qt===4||qt===3&&(at&62914560)===at&&300>Oe()-su?(mt&2)===0&&di(n,0):gf|=l,ui===at&&(ui=0)),Dr(n)}function Ey(n,a){a===0&&(a=Bt()),n=co(n,a),n!==null&&($t(n,a),Dr(n))}function bk(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),Ey(n,l)}function xk(n,a){var l=0;switch(n.tag){case 31:case 13:var f=n.stateNode,v=n.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(o(314))}f!==null&&f.delete(a),Ey(n,l)}function wk(n,a){return De(n,a)}var gu=null,hi=null,Ef=!1,vu=!1,Sf=!1,Da=0;function Dr(n){n!==hi&&n.next===null&&(hi===null?gu=hi=n:hi=hi.next=n),vu=!0,Ef||(Ef=!0,Ek())}function El(n,a){if(!Sf&&vu){Sf=!0;do for(var l=!1,f=gu;f!==null;){if(n!==0){var v=f.pendingLanes;if(v===0)var m=0;else{var T=f.suspendedLanes,B=f.pingedLanes;m=(1<<31-fe(42|n)+1)-1,m&=v&~(T&~B),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Py(f,m))}else m=at,m=Be(f,f===Pt?m:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(m&3)===0||Ke(f,m)||(l=!0,Py(f,m));f=f.next}while(l);Sf=!1}}function kk(){Sy()}function Sy(){vu=Ef=!1;var n=0;Da!==0&&Ak()&&(n=Da);for(var a=Oe(),l=null,f=gu;f!==null;){var v=f.next,m=Cy(f,a);m===0?(f.next=null,l===null?gu=v:l.next=v,v===null&&(hi=l)):(l=f,(n!==0||(m&3)!==0)&&(vu=!0)),f=v}sn!==0&&sn!==5||El(n),Da!==0&&(Da=0)}function Cy(n,a){for(var l=n.suspendedLanes,f=n.pingedLanes,v=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var T=31-fe(m),B=1<<T,Y=v[T];Y===-1?((B&l)===0||(B&f)!==0)&&(v[T]=ut(B,a)):Y<=a&&(n.expiredLanes|=B),m&=~B}if(a=Pt,l=at,l=Be(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,l===0||n===a&&(wt===2||wt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&Ne(f),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ke(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(f!==null&&Ne(f),zt(l)){case 2:case 8:l=xt;break;case 32:l=rt;break;case 268435456:l=Se;break;default:l=rt}return f=Ty.bind(null,n),l=De(l,f),n.callbackPriority=a,n.callbackNode=l,a}return f!==null&&f!==null&&Ne(f),n.callbackPriority=2,n.callbackNode=null,2}function Ty(n,a){if(sn!==0&&sn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(pu()&&n.callbackNode!==l)return null;var f=at;return f=Be(n,n===Pt?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(ly(n,f,a),Cy(n,Oe()),n.callbackNode!=null&&n.callbackNode===l?Ty.bind(null,n):null)}function Py(n,a){if(pu())return null;ly(n,a,!0)}function Ek(){zk(function(){(mt&6)!==0?De(ht,kk):Sy()})}function Cf(){if(Da===0){var n=Zo;n===0&&(n=Te,Te<<=1,(Te&261888)===0&&(Te=256)),Da=n}return Da}function _y(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ss(""+n)}function Dy(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function Sk(n,a,l,f,v){if(a==="submit"&&l&&l.stateNode===v){var m=_y((v[Wt]||null).action),T=f.submitter;T&&(a=(a=T[Wt]||null)?_y(a.formAction):T.getAttribute("formAction"),a!==null&&(m=a,T=null));var B=new _s("action","action",null,f,v);n.push({event:B,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Da!==0){var Y=T?Dy(v,T):new FormData(v);Ud(l,{pending:!0,data:Y,method:v.method,action:m},null,Y)}}else typeof m=="function"&&(B.preventDefault(),Y=T?Dy(v,T):new FormData(v),Ud(l,{pending:!0,data:Y,method:v.method,action:m},m,Y))},currentTarget:v}]})}}for(var Tf=0;Tf<ld.length;Tf++){var Pf=ld[Tf],Ck=Pf.toLowerCase(),Tk=Pf[0].toUpperCase()+Pf.slice(1);yr(Ck,"on"+Tk)}yr(iv,"onAnimationEnd"),yr(lv,"onAnimationIteration"),yr(sv,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(X2,"onTransitionRun"),yr(W2,"onTransitionStart"),yr(U2,"onTransitionCancel"),yr(uv,"onTransitionEnd"),vr("onMouseEnter",["mouseout","mouseover"]),vr("onMouseLeave",["mouseout","mouseover"]),vr("onPointerEnter",["pointerout","pointerover"]),vr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Ny(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],v=f.event;f=f.listeners;e:{var m=void 0;if(a)for(var T=f.length-1;0<=T;T--){var B=f[T],Y=B.instance,ae=B.currentTarget;if(B=B.listener,Y!==m&&v.isPropagationStopped())break e;m=B,v.currentTarget=ae;try{m(v)}catch(he){Bs(he)}v.currentTarget=null,m=Y}else for(T=0;T<f.length;T++){if(B=f[T],Y=B.instance,ae=B.currentTarget,B=B.listener,Y!==m&&v.isPropagationStopped())break e;m=B,v.currentTarget=ae;try{m(v)}catch(he){Bs(he)}v.currentTarget=null,m=Y}}}}function nt(n,a){var l=a[Jt];l===void 0&&(l=a[Jt]=new Set);var f=n+"__bubble";l.has(f)||(By(a,n,2,!1),l.add(f))}function _f(n,a,l){var f=0;a&&(f|=4),By(l,n,f,a)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Df(n){if(!n[mu]){n[mu]=!0,bs.forEach(function(l){l!=="selectionchange"&&(Pk.has(l)||_f(l,!1,n),_f(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[mu]||(a[mu]=!0,_f("selectionchange",!1,a))}}function By(n,a,l,f){switch(i0(a)){case 2:var v=tE;break;case 8:v=nE;break;default:v=Uf}l=v.bind(null,a,l,n),v=void 0,!$c||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?n.addEventListener(a,l,{capture:!0,passive:v}):n.addEventListener(a,l,!0):v!==void 0?n.addEventListener(a,l,{passive:v}):n.addEventListener(a,l,!1)}function Nf(n,a,l,f,v){var m=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var B=f.stateNode.containerInfo;if(B===v)break;if(T===4)for(T=f.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;B!==null;){if(T=sa(B),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){f=m=T;continue e}B=B.parentNode}}f=f.return}Ig(function(){var ae=m,he=Yc(l),me=[];e:{var ie=cv.get(n);if(ie!==void 0){var ue=_s,_e=n;switch(n){case"keypress":if(Ts(l)===0)break e;case"keydown":case"keyup":ue=x2;break;case"focusin":_e="focus",ue=Zc;break;case"focusout":_e="blur",ue=Zc;break;case"beforeblur":case"afterblur":ue=Zc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=s2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=E2;break;case iv:case lv:case sv:ue=d2;break;case uv:ue=C2;break;case"scroll":case"scrollend":ue=i2;break;case"wheel":ue=P2;break;case"copy":case"cut":case"paste":ue=h2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=jg;break;case"toggle":case"beforetoggle":ue=D2}var je=(a&4)!==0,Ct=!je&&(n==="scroll"||n==="scrollend"),G=je?ie!==null?ie+"Capture":null:ie;je=[];for(var K=ae,re;K!==null;){var ge=K;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||G===null||(ge=Yi(K,G),ge!=null&&je.push(Cl(K,ge,re))),Ct)break;K=K.return}0<je.length&&(ie=new ue(ie,_e,null,l,he),me.push({event:ie,listeners:je}))}}if((a&7)===0){e:{if(ie=n==="mouseover"||n==="pointerover",ue=n==="mouseout"||n==="pointerout",ie&&l!==qc&&(_e=l.relatedTarget||l.fromElement)&&(sa(_e)||_e[Gt]))break e;if((ue||ie)&&(ie=he.window===he?he:(ie=he.ownerDocument)?ie.defaultView||ie.parentWindow:window,ue?(_e=l.relatedTarget||l.toElement,ue=ae,_e=_e?sa(_e):null,_e!==null&&(Ct=s(_e),je=_e.tag,_e!==Ct||je!==5&&je!==27&&je!==6)&&(_e=null)):(ue=null,_e=ae),ue!==_e)){if(je=Fg,ge="onMouseLeave",G="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(je=jg,ge="onPointerLeave",G="onPointerEnter",K="pointer"),Ct=ue==null?ie:oo(ue),re=_e==null?ie:oo(_e),ie=new je(ge,K+"leave",ue,l,he),ie.target=Ct,ie.relatedTarget=re,ge=null,sa(he)===ae&&(je=new je(G,K+"enter",_e,l,he),je.target=re,je.relatedTarget=Ct,ge=je),Ct=ge,ue&&_e)t:{for(je=_k,G=ue,K=_e,re=0,ge=G;ge;ge=je(ge))re++;ge=0;for(var Ie=K;Ie;Ie=je(Ie))ge++;for(;0<re-ge;)G=je(G),re--;for(;0<ge-re;)K=je(K),ge--;for(;re--;){if(G===K||K!==null&&G===K.alternate){je=G;break t}G=je(G),K=je(K)}je=null}else je=null;ue!==null&&Ry(me,ie,ue,je,!1),_e!==null&&Ct!==null&&Ry(me,Ct,_e,je,!0)}}e:{if(ie=ae?oo(ae):window,ue=ie.nodeName&&ie.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ie.type==="file")var pt=Hg;else if(Kg(ie))if(Gg)pt=F2;else{pt=O2;var Re=I2}else ue=ie.nodeName,!ue||ue.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ae&&Uc(ae.elementType)&&(pt=Hg):pt=L2;if(pt&&(pt=pt(n,ae))){$g(me,pt,l,he);break e}Re&&Re(n,ie,ae),n==="focusout"&&ae&&ie.type==="number"&&ae.memoizedProps.value!=null&&Wc(ie,"number",ie.value)}switch(Re=ae?oo(ae):window,n){case"focusin":(Kg(Re)||Re.contentEditable==="true")&&(Uo=Re,ad=ae,el=null);break;case"focusout":el=ad=Uo=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,av(me,l,he);break;case"selectionchange":if(j2)break;case"keydown":case"keyup":av(me,l,he)}var Ze;if(ed)e:{switch(n){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Wo?qg(n,l)&&(ot="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ot="onCompositionStart");ot&&(Xg&&l.locale!=="ko"&&(Wo||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Wo&&(Ze=Og()):(ha=he,Hc="value"in ha?ha.value:ha.textContent,Wo=!0)),Re=yu(ae,ot),0<Re.length&&(ot=new Vg(ot,n,null,l,he),me.push({event:ot,listeners:Re}),Ze?ot.data=Ze:(Ze=Yg(l),Ze!==null&&(ot.data=Ze)))),(Ze=B2?R2(n,l):A2(n,l))&&(ot=yu(ae,"onBeforeInput"),0<ot.length&&(Re=new Vg("onBeforeInput","beforeinput",null,l,he),me.push({event:Re,listeners:ot}),Re.data=Ze)),Sk(me,n,ae,l,he)}Ny(me,a)})}function Cl(n,a,l){return{instance:n,listener:a,currentTarget:l}}function yu(n,a){for(var l=a+"Capture",f=[];n!==null;){var v=n,m=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||m===null||(v=Yi(n,l),v!=null&&f.unshift(Cl(n,v,m)),v=Yi(n,a),v!=null&&f.push(Cl(n,v,m))),n.tag===3)return f;n=n.return}return[]}function _k(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ry(n,a,l,f,v){for(var m=a._reactName,T=[];l!==null&&l!==f;){var B=l,Y=B.alternate,ae=B.stateNode;if(B=B.tag,Y!==null&&Y===f)break;B!==5&&B!==26&&B!==27||ae===null||(Y=ae,v?(ae=Yi(l,m),ae!=null&&T.unshift(Cl(l,ae,Y))):v||(ae=Yi(l,m),ae!=null&&T.push(Cl(l,ae,Y)))),l=l.return}T.length!==0&&n.push({event:a,listeners:T})}var Dk=/\r\n?/g,Nk=/\u0000|\uFFFD/g;function Ay(n){return(typeof n=="string"?n:""+n).replace(Dk,`
`).replace(Nk,"")}function My(n,a){return a=Ay(a),Ay(n)===a}function St(n,a,l,f,v,m){switch(l){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Vo(n,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Vo(n,""+f);break;case"className":io(n,"class",f);break;case"tabIndex":io(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":io(n,l,f);break;case"style":Mg(n,f,m);break;case"data":if(a!=="object"){io(n,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=Ss(""+f),n.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(a!=="input"&&St(n,a,"name",v.name,v,null),St(n,a,"formEncType",v.formEncType,v,null),St(n,a,"formMethod",v.formMethod,v,null),St(n,a,"formTarget",v.formTarget,v,null)):(St(n,a,"encType",v.encType,v,null),St(n,a,"method",v.method,v,null),St(n,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=Ss(""+f),n.setAttribute(l,f);break;case"onClick":f!=null&&(n.onclick=Or);break;case"onScroll":f!=null&&nt("scroll",n);break;case"onScrollEnd":f!=null&&nt("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));n.innerHTML=l}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}l=Ss(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""+f):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":f===!0?n.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,f):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(l,f):n.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(l):n.setAttribute(l,f);break;case"popover":nt("beforetoggle",n),nt("toggle",n),fa(n,"popover",f);break;case"xlinkActuate":An(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":An(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":An(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":An(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":An(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":An(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":An(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":An(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":An(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":fa(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=a2.get(l)||l,fa(n,l,f))}}function Bf(n,a,l,f,v,m){switch(l){case"style":Mg(n,f,m);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(o(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(o(60));n.innerHTML=l}}break;case"children":typeof f=="string"?Vo(n,f):(typeof f=="number"||typeof f=="bigint")&&Vo(n,""+f);break;case"onScroll":f!=null&&nt("scroll",n);break;case"onScrollEnd":f!=null&&nt("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),m=n[Wt]||null,m=m!=null?m[l]:null,typeof m=="function"&&n.removeEventListener(a,m,v),typeof f=="function")){typeof m!="function"&&m!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,f,v);break e}l in n?n[l]=f:f===!0?n.setAttribute(l,""):fa(n,l,f)}}}function wn(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",n),nt("load",n);var f=!1,v=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:St(n,a,m,T,l,null)}}v&&St(n,a,"srcSet",l.srcSet,l,null),f&&St(n,a,"src",l.src,l,null);return;case"input":nt("invalid",n);var B=m=T=v=null,Y=null,ae=null;for(f in l)if(l.hasOwnProperty(f)){var he=l[f];if(he!=null)switch(f){case"name":v=he;break;case"type":T=he;break;case"checked":Y=he;break;case"defaultChecked":ae=he;break;case"value":m=he;break;case"defaultValue":B=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(o(137,a));break;default:St(n,a,f,he,l,null)}}Ng(n,m,B,Y,ae,T,v,!1);return;case"select":nt("invalid",n),f=T=m=null;for(v in l)if(l.hasOwnProperty(v)&&(B=l[v],B!=null))switch(v){case"value":m=B;break;case"defaultValue":T=B;break;case"multiple":f=B;default:St(n,a,v,B,l,null)}a=m,l=T,n.multiple=!!f,a!=null?Fo(n,!!f,a,!1):l!=null&&Fo(n,!!f,l,!0);return;case"textarea":nt("invalid",n),m=v=f=null;for(T in l)if(l.hasOwnProperty(T)&&(B=l[T],B!=null))switch(T){case"value":f=B;break;case"defaultValue":v=B;break;case"children":m=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(91));break;default:St(n,a,T,B,l,null)}Rg(n,f,v,m);return;case"option":for(Y in l)l.hasOwnProperty(Y)&&(f=l[Y],f!=null)&&(Y==="selected"?n.selected=f&&typeof f!="function"&&typeof f!="symbol":St(n,a,Y,f,l,null));return;case"dialog":nt("beforetoggle",n),nt("toggle",n),nt("cancel",n),nt("close",n);break;case"iframe":case"object":nt("load",n);break;case"video":case"audio":for(f=0;f<Sl.length;f++)nt(Sl[f],n);break;case"image":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"embed":case"source":case"link":nt("error",n),nt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in l)if(l.hasOwnProperty(ae)&&(f=l[ae],f!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:St(n,a,ae,f,l,null)}return;default:if(Uc(a)){for(he in l)l.hasOwnProperty(he)&&(f=l[he],f!==void 0&&Bf(n,a,he,f,l,void 0));return}}for(B in l)l.hasOwnProperty(B)&&(f=l[B],f!=null&&St(n,a,B,f,l,null))}function Bk(n,a,l,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,m=null,T=null,B=null,Y=null,ae=null,he=null;for(ue in l){var me=l[ue];if(l.hasOwnProperty(ue)&&me!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Y=me;default:f.hasOwnProperty(ue)||St(n,a,ue,null,f,me)}}for(var ie in f){var ue=f[ie];if(me=l[ie],f.hasOwnProperty(ie)&&(ue!=null||me!=null))switch(ie){case"type":m=ue;break;case"name":v=ue;break;case"checked":ae=ue;break;case"defaultChecked":he=ue;break;case"value":T=ue;break;case"defaultValue":B=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(o(137,a));break;default:ue!==me&&St(n,a,ie,ue,f,me)}}Xc(n,T,B,Y,ae,he,m,v);return;case"select":ue=T=B=ie=null;for(m in l)if(Y=l[m],l.hasOwnProperty(m)&&Y!=null)switch(m){case"value":break;case"multiple":ue=Y;default:f.hasOwnProperty(m)||St(n,a,m,null,f,Y)}for(v in f)if(m=f[v],Y=l[v],f.hasOwnProperty(v)&&(m!=null||Y!=null))switch(v){case"value":ie=m;break;case"defaultValue":B=m;break;case"multiple":T=m;default:m!==Y&&St(n,a,v,m,f,Y)}a=B,l=T,f=ue,ie!=null?Fo(n,!!l,ie,!1):!!f!=!!l&&(a!=null?Fo(n,!!l,a,!0):Fo(n,!!l,l?[]:"",!1));return;case"textarea":ue=ie=null;for(B in l)if(v=l[B],l.hasOwnProperty(B)&&v!=null&&!f.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:St(n,a,B,null,f,v)}for(T in f)if(v=f[T],m=l[T],f.hasOwnProperty(T)&&(v!=null||m!=null))switch(T){case"value":ie=v;break;case"defaultValue":ue=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:v!==m&&St(n,a,T,v,f,m)}Bg(n,ie,ue);return;case"option":for(var _e in l)ie=l[_e],l.hasOwnProperty(_e)&&ie!=null&&!f.hasOwnProperty(_e)&&(_e==="selected"?n.selected=!1:St(n,a,_e,null,f,ie));for(Y in f)ie=f[Y],ue=l[Y],f.hasOwnProperty(Y)&&ie!==ue&&(ie!=null||ue!=null)&&(Y==="selected"?n.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":St(n,a,Y,ie,f,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in l)ie=l[je],l.hasOwnProperty(je)&&ie!=null&&!f.hasOwnProperty(je)&&St(n,a,je,null,f,ie);for(ae in f)if(ie=f[ae],ue=l[ae],f.hasOwnProperty(ae)&&ie!==ue&&(ie!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(o(137,a));break;default:St(n,a,ae,ie,f,ue)}return;default:if(Uc(a)){for(var Ct in l)ie=l[Ct],l.hasOwnProperty(Ct)&&ie!==void 0&&!f.hasOwnProperty(Ct)&&Bf(n,a,Ct,void 0,f,ie);for(he in f)ie=f[he],ue=l[he],!f.hasOwnProperty(he)||ie===ue||ie===void 0&&ue===void 0||Bf(n,a,he,ie,f,ue);return}}for(var G in l)ie=l[G],l.hasOwnProperty(G)&&ie!=null&&!f.hasOwnProperty(G)&&St(n,a,G,null,f,ie);for(me in f)ie=f[me],ue=l[me],!f.hasOwnProperty(me)||ie===ue||ie==null&&ue==null||St(n,a,me,ie,f,ue)}function zy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Rk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var v=l[f],m=v.transferSize,T=v.initiatorType,B=v.duration;if(m&&B&&zy(T)){for(T=0,B=v.responseEnd,f+=1;f<l.length;f++){var Y=l[f],ae=Y.startTime;if(ae>B)break;var he=Y.transferSize,me=Y.initiatorType;he&&zy(me)&&(Y=Y.responseEnd,T+=he*(Y<B?1:(B-ae)/(Y-ae)))}if(--f,a+=8*(m+T)/(v.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Rf=null,Af=null;function bu(n){return n.nodeType===9?n:n.ownerDocument}function Iy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oy(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Mf(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zf=null;function Ak(){var n=window.event;return n&&n.type==="popstate"?n===zf?!1:(zf=n,!0):(zf=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,Mk=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,zk=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(n){return Fy.resolve(null).then(n).catch(Ik)}:Ly;function Ik(n){setTimeout(function(){throw n})}function Na(n){return n==="head"}function Vy(n,a){var l=a,f=0;do{var v=l.nextSibling;if(n.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"||l==="/&"){if(f===0){n.removeChild(v),mi(a);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Tl(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Tl(l);for(var m=l.firstChild;m;){var T=m.nextSibling,B=m.nodeName;m[la]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=T}}else l==="body"&&Tl(n.ownerDocument.body);l=v}while(l);mi(a)}function jy(n,a){var l=n;n=0;do{var f=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=f}while(l)}function If(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":If(l),Ui(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Ok(n,a,l,f){for(;n.nodeType===1;){var v=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[la])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence")||m!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var m=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=cr(n.nextSibling),n===null)break}return null}function Lk(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=cr(n.nextSibling),n===null))return null;return n}function Xy(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=cr(n.nextSibling),n===null))return null;return n}function Of(n){return n.data==="$?"||n.data==="$~"}function Lf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Fk(n,a){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||l.readyState!=="loading")a();else{var f=function(){a(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function cr(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Ff=null;function Wy(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(a===0)return cr(n.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}n=n.nextSibling}return null}function Uy(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return n;a--}else l!=="/$"&&l!=="/&"||a++}n=n.previousSibling}return null}function qy(n,a,l){switch(a=bu(l),n){case"html":if(n=a.documentElement,!n)throw Error(o(452));return n;case"head":if(n=a.head,!n)throw Error(o(453));return n;case"body":if(n=a.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Tl(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Ui(n)}var dr=new Map,Yy=new Set;function xu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Jr=V.d;V.d={f:Vk,r:jk,D:Xk,C:Wk,L:Uk,m:qk,X:Kk,S:Yk,M:$k};function Vk(){var n=Jr.f(),a=du();return n||a}function jk(n){var a=ua(n);a!==null&&a.tag===5&&a.type==="form"?um(a):Jr.r(n)}var pi=typeof document>"u"?null:document;function Ky(n,a,l){var f=pi;if(f&&typeof a=="string"&&a){var v=mr(a);v='link[rel="'+n+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Yy.has(v)||(Yy.add(v),n={rel:n,crossOrigin:l,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),wn(a,"link",n),en(a),f.head.appendChild(a)))}}function Xk(n){Jr.D(n),Ky("dns-prefetch",n,null)}function Wk(n,a){Jr.C(n,a),Ky("preconnect",n,a)}function Uk(n,a,l){Jr.L(n,a,l);var f=pi;if(f&&n&&a){var v='link[rel="preload"][as="'+mr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+mr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+mr(l.imageSizes)+'"]')):v+='[href="'+mr(n)+'"]';var m=v;switch(a){case"style":m=gi(n);break;case"script":m=vi(n)}dr.has(m)||(n=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),dr.set(m,n),f.querySelector(v)!==null||a==="style"&&f.querySelector(Pl(m))||a==="script"&&f.querySelector(_l(m))||(a=f.createElement("link"),wn(a,"link",n),en(a),f.head.appendChild(a)))}}function qk(n,a){Jr.m(n,a);var l=pi;if(l&&n){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+mr(f)+'"][href="'+mr(n)+'"]',m=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vi(n)}if(!dr.has(m)&&(n=g({rel:"modulepreload",href:n},a),dr.set(m,n),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_l(m)))return}f=l.createElement("link"),wn(f,"link",n),en(f),l.head.appendChild(f)}}}function Yk(n,a,l){Jr.S(n,a,l);var f=pi;if(f&&n){var v=ca(f).hoistableStyles,m=gi(n);a=a||"default";var T=v.get(m);if(!T){var B={loading:0,preload:null};if(T=f.querySelector(Pl(m)))B.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":a},l),(l=dr.get(m))&&Vf(n,l);var Y=T=f.createElement("link");en(Y),wn(Y,"link",n),Y._p=new Promise(function(ae,he){Y.onload=ae,Y.onerror=he}),Y.addEventListener("load",function(){B.loading|=1}),Y.addEventListener("error",function(){B.loading|=2}),B.loading|=4,wu(T,a,f)}T={type:"stylesheet",instance:T,count:1,state:B},v.set(m,T)}}}function Kk(n,a){Jr.X(n,a);var l=pi;if(l&&n){var f=ca(l).hoistableScripts,v=vi(n),m=f.get(v);m||(m=l.querySelector(_l(v)),m||(n=g({src:n,async:!0},a),(a=dr.get(v))&&jf(n,a),m=l.createElement("script"),en(m),wn(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},f.set(v,m))}}function $k(n,a){Jr.M(n,a);var l=pi;if(l&&n){var f=ca(l).hoistableScripts,v=vi(n),m=f.get(v);m||(m=l.querySelector(_l(v)),m||(n=g({src:n,async:!0,type:"module"},a),(a=dr.get(v))&&jf(n,a),m=l.createElement("script"),en(m),wn(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},f.set(v,m))}}function $y(n,a,l,f){var v=(v=se.current)?xu(v):null;if(!v)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=gi(l.href),l=ca(v).hoistableStyles,f=l.get(a),f||(f={type:"style",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=gi(l.href);var m=ca(v).hoistableStyles,T=m.get(n);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,T),(m=v.querySelector(Pl(n)))&&!m._p&&(T.instance=m,T.state.loading=5),dr.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dr.set(n,l),m||Hk(v,n,l,T.state))),a&&f===null)throw Error(o(528,""));return T}if(a&&f!==null)throw Error(o(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vi(l),l=ca(v).hoistableScripts,f=l.get(a),f||(f={type:"script",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function gi(n){return'href="'+mr(n)+'"'}function Pl(n){return'link[rel="stylesheet"]['+n+"]"}function Hy(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function Hk(n,a,l,f){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=n.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),wn(a,"link",l),en(a),n.head.appendChild(a))}function vi(n){return'[src="'+mr(n)+'"]'}function _l(n){return"script[async]"+n}function Gy(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var f=n.querySelector('style[data-href~="'+mr(l.href)+'"]');if(f)return a.instance=f,en(f),f;var v=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),en(f),wn(f,"style",v),wu(f,l.precedence,n),a.instance=f;case"stylesheet":v=gi(l.href);var m=n.querySelector(Pl(v));if(m)return a.state.loading|=4,a.instance=m,en(m),m;f=Hy(l),(v=dr.get(v))&&Vf(f,v),m=(n.ownerDocument||n).createElement("link"),en(m);var T=m;return T._p=new Promise(function(B,Y){T.onload=B,T.onerror=Y}),wn(m,"link",f),a.state.loading|=4,wu(m,l.precedence,n),a.instance=m;case"script":return m=vi(l.src),(v=n.querySelector(_l(m)))?(a.instance=v,en(v),v):(f=l,(v=dr.get(m))&&(f=g({},l),jf(f,v)),n=n.ownerDocument||n,v=n.createElement("script"),en(v),wn(v,"link",f),n.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,wu(f,l.precedence,n));return a.instance}function wu(n,a,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,m=v,T=0;T<f.length;T++){var B=f[T];if(B.dataset.precedence===a)m=B;else if(m!==v)break}m?m.parentNode.insertBefore(n,m.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function Vf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function jf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var ku=null;function Qy(n,a,l){if(ku===null){var f=new Map,v=ku=new Map;v.set(l,f)}else v=ku,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(n))return f;for(f.set(n,null),l=l.getElementsByTagName(n),v=0;v<l.length;v++){var m=l[v];if(!(m[la]||m[Xt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(a)||"";T=n+T;var B=f.get(T);B?B.push(m):f.set(T,[m])}}return f}function Zy(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function Gk(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(n=a.disabled,typeof a.precedence=="string"&&n==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Jy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Qk(n,a,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=gi(f.href),m=a.querySelector(Pl(v));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Eu.bind(n),a.then(n,n)),l.state.loading|=4,l.instance=m,en(m);return}m=a.ownerDocument||a,f=Hy(f),(v=dr.get(v))&&Vf(f,v),m=m.createElement("link"),en(m);var T=m;T._p=new Promise(function(B,Y){T.onload=B,T.onerror=Y}),wn(m,"link",f),l.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Eu.bind(n),a.addEventListener("load",l),a.addEventListener("error",l))}}var Xf=0;function Zk(n,a){return n.stylesheets&&n.count===0&&Cu(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var f=setTimeout(function(){if(n.stylesheets&&Cu(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+a);0<n.imgBytes&&Xf===0&&(Xf=62500*Rk());var v=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Cu(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Xf?50:800)+a);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Su=null;function Cu(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Su=new Map,a.forEach(Jk,n),Su=null,Eu.call(n))}function Jk(n,a){if(!(a.state.loading&4)){var l=Su.get(n);if(l)var f=l.get(null);else{l=new Map,Su.set(n,l);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<v.length;m++){var T=v[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),f=T)}f&&l.set(null,f)}v=a.instance,T=v.getAttribute("data-precedence"),m=l.get(T)||f,m===f&&l.set(null,v),l.set(T,v),this.count++,f=Eu.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),m?m.parentNode.insertBefore(v,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),a.state.loading|=4}}var Dl={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function eE(n,a,l,f,v,m,T,B,Y){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function e0(n,a,l,f,v,m,T,B,Y,ae,he,me){return n=new eE(n,a,l,T,Y,ae,he,me,B),a=1,m===!0&&(a|=24),m=Hn(3,null,null,a),n.current=m,m.stateNode=n,a=xd(),a.refCount++,n.pooledCache=a,a.refCount++,m.memoizedState={element:f,isDehydrated:l,cache:a},Sd(m),n}function t0(n){return n?(n=Ko,n):Ko}function n0(n,a,l,f,v,m){v=t0(v),f.context===null?f.context=v:f.pendingContext=v,f=ba(a),f.payload={element:l},m=m===void 0?null:m,m!==null&&(f.callback=m),l=xa(n,f,a),l!==null&&(Wn(l,n,a),ll(l,n,a))}function r0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Wf(n,a){r0(n,a),(n=n.alternate)&&r0(n,a)}function a0(n){if(n.tag===13||n.tag===31){var a=co(n,67108864);a!==null&&Wn(a,n,67108864),Wf(n,67108864)}}function o0(n){if(n.tag===13||n.tag===31){var a=er();a=rr(a);var l=co(n,a);l!==null&&Wn(l,n,a),Wf(n,a)}}var Tu=!0;function tE(n,a,l,f){var v=z.T;z.T=null;var m=V.p;try{V.p=2,Uf(n,a,l,f)}finally{V.p=m,z.T=v}}function nE(n,a,l,f){var v=z.T;z.T=null;var m=V.p;try{V.p=8,Uf(n,a,l,f)}finally{V.p=m,z.T=v}}function Uf(n,a,l,f){if(Tu){var v=qf(f);if(v===null)Nf(n,a,f,Pu,l),l0(n,f);else if(aE(v,n,a,l,f))f.stopPropagation();else if(l0(n,f),a&4&&-1<rE.indexOf(n)){for(;v!==null;){var m=ua(v);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ue(m.pendingLanes);if(T!==0){var B=m;for(B.pendingLanes|=2,B.entangledLanes|=2;T;){var Y=1<<31-fe(T);B.entanglements[1]|=Y,T&=~Y}Dr(m),(mt&6)===0&&(uu=Oe()+500,El(0))}}break;case 31:case 13:B=co(m,2),B!==null&&Wn(B,m,2),du(),Wf(m,2)}if(m=qf(f),m===null&&Nf(n,a,f,Pu,l),m===v)break;v=m}v!==null&&f.stopPropagation()}else Nf(n,a,f,null,l)}}function qf(n){return n=Yc(n),Yf(n)}var Pu=null;function Yf(n){if(Pu=null,n=sa(n),n!==null){var a=s(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=u(a),n!==null)return n;n=null}else if(l===31){if(n=h(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Pu=n,null}function i0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case ht:return 2;case xt:return 8;case rt:case st:return 32;case Se:return 268435456;default:return 32}default:return 32}}var Kf=!1,Ba=null,Ra=null,Aa=null,Nl=new Map,Bl=new Map,Ma=[],rE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l0(n,a){switch(n){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Nl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(a.pointerId)}}function Rl(n,a,l,f,v,m){return n===null||n.nativeEvent!==m?(n={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:m,targetContainers:[v]},a!==null&&(a=ua(a),a!==null&&a0(a)),n):(n.eventSystemFlags|=f,a=n.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),n)}function aE(n,a,l,f,v){switch(a){case"focusin":return Ba=Rl(Ba,n,a,l,f,v),!0;case"dragenter":return Ra=Rl(Ra,n,a,l,f,v),!0;case"mouseover":return Aa=Rl(Aa,n,a,l,f,v),!0;case"pointerover":var m=v.pointerId;return Nl.set(m,Rl(Nl.get(m)||null,n,a,l,f,v)),!0;case"gotpointercapture":return m=v.pointerId,Bl.set(m,Rl(Bl.get(m)||null,n,a,l,f,v)),!0}return!1}function s0(n){var a=sa(n.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){n.blockedOn=a,ro(n.priority,function(){o0(l)});return}}else if(a===31){if(a=h(l),a!==null){n.blockedOn=a,ro(n.priority,function(){o0(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _u(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=qf(n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);qc=f,l.target.dispatchEvent(f),qc=null}else return a=ua(l),a!==null&&a0(a),n.blockedOn=l,!1;a.shift()}return!0}function u0(n,a,l){_u(n)&&l.delete(a)}function oE(){Kf=!1,Ba!==null&&_u(Ba)&&(Ba=null),Ra!==null&&_u(Ra)&&(Ra=null),Aa!==null&&_u(Aa)&&(Aa=null),Nl.forEach(u0),Bl.forEach(u0)}function Du(n,a){n.blockedOn===a&&(n.blockedOn=null,Kf||(Kf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oE)))}var Nu=null;function c0(n){Nu!==n&&(Nu=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nu===n&&(Nu=null);for(var a=0;a<n.length;a+=3){var l=n[a],f=n[a+1],v=n[a+2];if(typeof f!="function"){if(Yf(f||l)===null)continue;break}var m=ua(l);m!==null&&(n.splice(a,3),a-=3,Ud(m,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function mi(n){function a(Y){return Du(Y,n)}Ba!==null&&Du(Ba,n),Ra!==null&&Du(Ra,n),Aa!==null&&Du(Aa,n),Nl.forEach(a),Bl.forEach(a);for(var l=0;l<Ma.length;l++){var f=Ma[l];f.blockedOn===n&&(f.blockedOn=null)}for(;0<Ma.length&&(l=Ma[0],l.blockedOn===null);)s0(l),l.blockedOn===null&&Ma.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],m=l[f+1],T=v[Wt]||null;if(typeof m=="function")T||c0(l);else if(T){var B=null;if(m&&m.hasAttribute("formAction")){if(v=m,T=m[Wt]||null)B=T.formAction;else if(Yf(v)!==null)continue}else B=T.action;typeof B=="function"?l[f+1]=B:(l.splice(f,3),f-=3),c0(l)}}}function d0(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function $f(n){this._internalRoot=n}Bu.prototype.render=$f.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(o(409));var l=a.current,f=er();n0(l,f,n,a,null,null)},Bu.prototype.unmount=$f.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;n0(n.current,2,null,n,null,null),du(),a[Gt]=null}};function Bu(n){this._internalRoot=n}Bu.prototype.unstable_scheduleHydration=function(n){if(n){var a=Bn();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Ma.length&&a!==0&&a<Ma[l].priority;l++);Ma.splice(l,0,n),l===0&&s0(n)}};var f0=t.version;if(f0!=="19.2.3")throw Error(o(527,f0,"19.2.3"));V.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=c(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var iE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{oe=Ru.inject(iE),le=Ru}catch{}}return Ml.createRoot=function(n,a){if(!i(n))throw Error(o(299));var l=!1,f="",v=bm,m=xm,T=wm;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=e0(n,1,!1,null,null,l,f,null,v,m,T,d0),n[Gt]=a.current,Df(n),new $f(a)},Ml.hydrateRoot=function(n,a,l){if(!i(n))throw Error(o(299));var f=!1,v="",m=bm,T=xm,B=wm,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.formState!==void 0&&(Y=l.formState)),a=e0(n,1,!0,a,l??null,f,v,Y,m,T,B,d0),a.context=t0(null),l=a.current,f=er(),f=rr(f),v=ba(f),v.callback=null,xa(l,v,f),l=f,a.current.lanes=l,$t(a,l),Dr(a),n[Gt]=a.current,Df(n),new Bu(a)},Ml.version="19.2.3",Ml}var T0;function vE(){if(T0)return Gf.exports;T0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gf.exports=gE(),Gf.exports}var mE=vE();let Rp=1,Ap=1;function Zf(e){return e==="edge"?`edge_${Ap++}`:`${e}_${Rp++}`}function yE(){const[e,t]=dt.useState([]),[r,o]=dt.useState(null),i=dt.useRef(null),s=dt.useCallback((b,x=null)=>{const k=x||{x:300+Math.random()*200,y:200+Math.random()*200},E={id:Zf(b),type:b,name:`New ${b.charAt(0).toUpperCase()+b.slice(1)}`};let w;switch(b){case"location":w={...E,keywords:[],content:"",contentShort:"",images:{},triggers:[],filters:{}};break;case"character":w={...E,keywords:[],content:"",contentShort:"",images:{},triggers:[],disabledFor:[],filters:{}};break;case"event":w={...E,keywords:[],content:"",timeFilter:[],isGlobal:!1,filters:{}};break;default:w=E}const S={data:w,position:k};return t(C=>[...C,S]),w.id},[]),u=dt.useCallback((b,x)=>{const k={id:Zf("subloc"),type:"sublocation",parent:b,name:x||"New Sublocation",images:{}};let E={x:300,y:300};if(i.current){const C=i.current.getElementById(b);C.length&&(E=C.position())}const w=e.filter(C=>C.data.parent===b).length*50,S={data:k,position:{x:E.x+w,y:E.y+20}};return t(C=>[...C,S]),k.id},[i,e]),h=dt.useCallback((b,x,k,E=.1,w={})=>{const S={id:Zf("edge"),source:b,target:x,edgeType:k,probability:k==="spawn"?E:void 0,...k==="knows"?{relationship:w.relationship||"",sourceThinks:w.sourceThinks||"",targetThinks:w.targetThinks||""}:{}},C={data:S};return t(_=>[..._,C]),S.id},[]),d=dt.useCallback((b,x)=>{t(k=>k.map(E=>E.data.id===b?{...E,data:{...E.data,...x}}:E)),r?.id===b&&o(k=>({...k,...x}))},[r]),c=dt.useCallback(b=>{t(x=>x.filter(k=>!(k.data.id===b||k.data.source===b||k.data.target===b||k.data.parent===b))),r?.id===b&&o(null)},[r]),p=dt.useCallback(()=>{t([]),o(null),Rp=1,Ap=1},[]),g=dt.useCallback(b=>{let x=0,k=0;b.forEach(E=>{const w=E.data.id;if(w.startsWith("edge_")){const S=parseInt(w.split("_")[1],10);S>k&&(k=S)}else{const S=w.split("_"),C=parseInt(S[S.length-1],10);C>x&&(x=C)}}),Rp=x+1,Ap=k+1,t(b),o(null)},[]),y=dt.useCallback(b=>{o(b)},[]);return{elements:e,selectedElement:r,cyRef:i,addNode:s,addSubLocation:u,addEdge:h,updateElement:d,deleteElement:c,clearGraph:p,loadElements:g,selectElement:y}}var P0={exports:{}},Jf,_0;function bE(){if(_0)return Jf;_0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jf=e,Jf}var eh,D0;function xE(){if(D0)return eh;D0=1;var e=bE();function t(){}function r(){}return r.resetWarningCache=t,eh=function(){function o(u,h,d,c,p,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}o.isRequired=o;function i(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},eh}var N0;function wE(){return N0||(N0=1,P0.exports=xE()()),P0.exports}var kE=wE();const EE=ux(kE);function Mp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function SE(e){if(Array.isArray(e))return e}function CE(e){if(Array.isArray(e))return Mp(e)}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TE(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,dx(o.key),o)}}function Ja(e,t,r){return t&&TE(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ag(e))||t){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,u=!0,h=!1;return{s:function(){r=r.call(e)},n:function(){var d=r.next();return u=d.done,d},e:function(d){h=!0,s=d},f:function(){try{u||r.return==null||r.return()}finally{if(h)throw s}}}}function cx(e,t,r){return(t=dx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PE(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _E(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,u,h=[],d=!0,c=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(o=s.call(r)).done)&&(h.push(o.value),h.length!==t);d=!0);}catch(p){c=!0,i=p}finally{try{if(!d&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw i}}return h}}function DE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ln(e,t){return SE(e)||_E(e,t)||ag(e,t)||DE()}function sc(e){return CE(e)||PE(e)||ag(e)||NE()}function BE(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dx(e){var t=BE(e,"string");return typeof t=="symbol"?t:t+""}function dn(e){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dn(e)}function ag(e,t){if(e){if(typeof e=="string")return Mp(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mp(e,t):void 0}}var un=typeof window>"u"?null:window,B0=un?un.navigator:null;un&&un.document;var RE=dn(""),fx=dn({}),AE=dn(function(){}),ME=typeof HTMLElement>"u"?"undefined":dn(HTMLElement),ls=function(e){return e&&e.instanceString&&Vt(e.instanceString)?e.instanceString():null},ze=function(e){return e!=null&&dn(e)==RE},Vt=function(e){return e!=null&&dn(e)===AE},_t=function(e){return!nr(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},ft=function(e){return e!=null&&dn(e)===fx&&!_t(e)&&e.constructor===Object},zE=function(e){return e!=null&&dn(e)===fx},ke=function(e){return e!=null&&dn(e)===dn(1)&&!isNaN(e)},IE=function(e){return ke(e)&&Math.floor(e)===e},uc=function(e){if(ME!=="undefined")return e!=null&&e instanceof HTMLElement},nr=function(e){return ss(e)||hx(e)},ss=function(e){return ls(e)==="collection"&&e._private.single},hx=function(e){return ls(e)==="collection"&&!e._private.single},og=function(e){return ls(e)==="core"},px=function(e){return ls(e)==="stylesheet"},OE=function(e){return ls(e)==="event"},Ya=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},LE=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},FE=function(e){return ft(e)&&ke(e.x1)&&ke(e.x2)&&ke(e.y1)&&ke(e.y2)},VE=function(e){return zE(e)&&Vt(e.then)},jE=function(){return B0&&B0.userAgent.match(/msie|trident|edge/i)},zi=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);return o.join("$")});var r=function(){var o=this,i=arguments,s,u=t.apply(o,i),h=r.cache;return(s=h[u])||(s=h[u]=e.apply(o,i)),s};return r.cache={},r},ig=zi(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),kc=zi(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),gx=zi(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),R0=function(e){return Ya(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},ja=function(e,t){return e.slice(-1*t.length)===t},cn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",XE="rgb[a]?\\(("+cn+"[%]?)\\s*,\\s*("+cn+"[%]?)\\s*,\\s*("+cn+"[%]?)(?:\\s*,\\s*("+cn+"))?\\)",WE="rgb[a]?\\((?:"+cn+"[%]?)\\s*,\\s*(?:"+cn+"[%]?)\\s*,\\s*(?:"+cn+"[%]?)(?:\\s*,\\s*(?:"+cn+"))?\\)",UE="hsl[a]?\\(("+cn+")\\s*,\\s*("+cn+"[%])\\s*,\\s*("+cn+"[%])(?:\\s*,\\s*("+cn+"))?\\)",qE="hsl[a]?\\((?:"+cn+")\\s*,\\s*(?:"+cn+"[%])\\s*,\\s*(?:"+cn+"[%])(?:\\s*,\\s*(?:"+cn+"))?\\)",YE="\\#[0-9a-fA-F]{3}",KE="\\#[0-9a-fA-F]{6}",vx=function(e,t){return e<t?-1:e>t?1:0},$E=function(e,t){return-1*vx(e,t)},Ve=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var o=t[r];if(o!=null)for(var i=Object.keys(o),s=0;s<i.length;s++){var u=i[s];e[u]=o[u]}}return e},HE=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,r,o,i,s=16;return t?(r=parseInt(e[1]+e[1],s),o=parseInt(e[2]+e[2],s),i=parseInt(e[3]+e[3],s)):(r=parseInt(e[1]+e[2],s),o=parseInt(e[3]+e[4],s),i=parseInt(e[5]+e[6],s)),[r,o,i]}},GE=function(e){var t,r,o,i,s,u,h,d;function c(b,x,k){return k<0&&(k+=1),k>1&&(k-=1),k<1/6?b+(x-b)*6*k:k<1/2?x:k<2/3?b+(x-b)*(2/3-k)*6:b}var p=new RegExp("^"+UE+"$").exec(e);if(p){if(r=parseInt(p[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,o=parseFloat(p[2]),o<0||o>100||(o=o/100,i=parseFloat(p[3]),i<0||i>100)||(i=i/100,s=p[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(o===0)u=h=d=Math.round(i*255);else{var g=i<.5?i*(1+o):i+o-i*o,y=2*i-g;u=Math.round(255*c(y,g,r+1/3)),h=Math.round(255*c(y,g,r)),d=Math.round(255*c(y,g,r-1/3))}t=[u,h,d,s]}return t},QE=function(e){var t,r=new RegExp("^"+XE+"$").exec(e);if(r){t=[];for(var o=[],i=1;i<=3;i++){var s=r[i];if(s[s.length-1]==="%"&&(o[i]=!0),s=parseFloat(s),o[i]&&(s=s/100*255),s<0||s>255)return;t.push(Math.floor(s))}var u=o[1]||o[2]||o[3],h=o[1]&&o[2]&&o[3];if(u&&!h)return;var d=r[4];if(d!==void 0){if(d=parseFloat(d),d<0||d>1)return;t.push(d)}}return t},ZE=function(e){return JE[e.toLowerCase()]},mx=function(e){return(_t(e)?e:null)||ZE(e)||HE(e)||QE(e)||GE(e)},JE={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},yx=function(e){for(var t=e.map,r=e.keys,o=r.length,i=0;i<o;i++){var s=r[i];if(ft(s))throw Error("Tried to set map with object key");i<r.length-1?(t[s]==null&&(t[s]={}),t=t[s]):t[s]=e.value}},bx=function(e){for(var t=e.map,r=e.keys,o=r.length,i=0;i<o;i++){var s=r[i];if(ft(s))throw Error("Tried to get map with object key");if(t=t[s],t==null)return t}return t},Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function us(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var th,A0;function cs(){if(A0)return th;A0=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return th=e,th}var nh,M0;function eS(){if(M0)return nh;M0=1;var e=typeof Au=="object"&&Au&&Au.Object===Object&&Au;return nh=e,nh}var rh,z0;function Ec(){if(z0)return rh;z0=1;var e=eS(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return rh=r,rh}var ah,I0;function tS(){if(I0)return ah;I0=1;var e=Ec(),t=function(){return e.Date.now()};return ah=t,ah}var oh,O0;function nS(){if(O0)return oh;O0=1;var e=/\s/;function t(r){for(var o=r.length;o--&&e.test(r.charAt(o)););return o}return oh=t,oh}var ih,L0;function rS(){if(L0)return ih;L0=1;var e=nS(),t=/^\s+/;function r(o){return o&&o.slice(0,e(o)+1).replace(t,"")}return ih=r,ih}var lh,F0;function lg(){if(F0)return lh;F0=1;var e=Ec(),t=e.Symbol;return lh=t,lh}var sh,V0;function aS(){if(V0)return sh;V0=1;var e=lg(),t=Object.prototype,r=t.hasOwnProperty,o=t.toString,i=e?e.toStringTag:void 0;function s(u){var h=r.call(u,i),d=u[i];try{u[i]=void 0;var c=!0}catch{}var p=o.call(u);return c&&(h?u[i]=d:delete u[i]),p}return sh=s,sh}var uh,j0;function oS(){if(j0)return uh;j0=1;var e=Object.prototype,t=e.toString;function r(o){return t.call(o)}return uh=r,uh}var ch,X0;function xx(){if(X0)return ch;X0=1;var e=lg(),t=aS(),r=oS(),o="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function u(h){return h==null?h===void 0?i:o:s&&s in Object(h)?t(h):r(h)}return ch=u,ch}var dh,W0;function iS(){if(W0)return dh;W0=1;function e(t){return t!=null&&typeof t=="object"}return dh=e,dh}var fh,U0;function ds(){if(U0)return fh;U0=1;var e=xx(),t=iS(),r="[object Symbol]";function o(i){return typeof i=="symbol"||t(i)&&e(i)==r}return fh=o,fh}var hh,q0;function lS(){if(q0)return hh;q0=1;var e=rS(),t=cs(),r=ds(),o=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,h=parseInt;function d(c){if(typeof c=="number")return c;if(r(c))return o;if(t(c)){var p=typeof c.valueOf=="function"?c.valueOf():c;c=t(p)?p+"":p}if(typeof c!="string")return c===0?c:+c;c=e(c);var g=s.test(c);return g||u.test(c)?h(c.slice(2),g?2:8):i.test(c)?o:+c}return hh=d,hh}var ph,Y0;function sS(){if(Y0)return ph;Y0=1;var e=cs(),t=tS(),r=lS(),o="Expected a function",i=Math.max,s=Math.min;function u(h,d,c){var p,g,y,b,x,k,E=0,w=!1,S=!1,C=!0;if(typeof h!="function")throw new TypeError(o);d=r(d)||0,e(c)&&(w=!!c.leading,S="maxWait"in c,y=S?i(r(c.maxWait)||0,d):y,C="trailing"in c?!!c.trailing:C);function _(U){var j=p,$=g;return p=g=void 0,E=U,b=h.apply($,j),b}function N(U){return E=U,x=setTimeout(I,d),w?_(U):b}function M(U){var j=U-k,$=U-E,z=d-j;return S?s(z,y-$):z}function P(U){var j=U-k,$=U-E;return k===void 0||j>=d||j<0||S&&$>=y}function I(){var U=t();if(P(U))return L(U);x=setTimeout(I,M(U))}function L(U){return x=void 0,C&&p?_(U):(p=g=void 0,b)}function F(){x!==void 0&&clearTimeout(x),E=0,p=k=g=x=void 0}function O(){return x===void 0?b:L(t())}function A(){var U=t(),j=P(U);if(p=arguments,g=this,k=U,j){if(x===void 0)return N(k);if(S)return clearTimeout(x),x=setTimeout(I,d),_(k)}return x===void 0&&(x=setTimeout(I,d)),b}return A.cancel=F,A.flush=O,A}return ph=u,ph}var uS=sS(),fs=us(uS),gh=un?un.performance:null,wx=gh&&gh.now?function(){return gh.now()}:function(){return Date.now()},cS=(function(){if(un){if(un.requestAnimationFrame)return function(e){un.requestAnimationFrame(e)};if(un.mozRequestAnimationFrame)return function(e){un.mozRequestAnimationFrame(e)};if(un.webkitRequestAnimationFrame)return function(e){un.webkitRequestAnimationFrame(e)};if(un.msRequestAnimationFrame)return function(e){un.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(wx())},1e3/60)}})(),cc=function(e){return cS(e)},ra=wx,_o=9261,kx=65599,Pi=5381,Ex=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_o,r=t,o;o=e.next(),!o.done;)r=r*kx+o.value|0;return r},Gl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_o;return t*kx+e|0},Ql=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pi;return(t<<5)+t+e|0},dS=function(e,t){return e*2097152+t},Ia=function(e){return e[0]*2097152+e[1]},Mu=function(e,t){return[Gl(e[0],t[0]),Ql(e[1],t[1])]},K0=function(e,t){var r={value:0,done:!1},o=0,i=e.length,s={next:function(){return o<i?r.value=e[o++]:r.done=!0,r}};return Ex(s,t)},Bo=function(e,t){var r={value:0,done:!1},o=0,i=e.length,s={next:function(){return o<i?r.value=e.charCodeAt(o++):r.done=!0,r}};return Ex(s,t)},Sx=function(){return fS(arguments)},fS=function(e){for(var t,r=0;r<e.length;r++){var o=e[r];r===0?t=Bo(o):t=Bo(o,t)}return t};function hS(e,t,r,o,i){var s=i*Math.PI/180,u=Math.cos(s)*(e-r)-Math.sin(s)*(t-o)+r,h=Math.sin(s)*(e-r)+Math.cos(s)*(t-o)+o;return{x:u,y:h}}var pS=function(e,t,r,o,i,s){return{x:(e-r)*i+r,y:(t-o)*s+o}};function gS(e,t,r){if(r===0)return e;var o=(t.x1+t.x2)/2,i=(t.y1+t.y2)/2,s=t.w/t.h,u=1/s,h=hS(e.x,e.y,o,i,r),d=pS(h.x,h.y,o,i,s,u);return{x:d.x,y:d.y}}var $0=!0,vS=console.warn!=null,mS=console.trace!=null,sg=Number.MAX_SAFE_INTEGER||9007199254740991,Cx=function(){return!0},dc=function(){return!1},H0=function(){return 0},ug=function(){},Lt=function(e){throw new Error(e)},Tx=function(e){if(e!==void 0)$0=!!e;else return $0},bt=function(e){Tx()&&(vS?console.warn(e):(console.log(e),mS&&console.trace()))},yS=function(e){return Ve({},e)},Ar=function(e){return e==null?e:_t(e)?e.slice():ft(e)?yS(e):e},bS=function(e){return e.slice()},Px=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},xS={},_x=function(){return xS},Sn=function(e){var t=Object.keys(e);return function(r){for(var o={},i=0;i<t.length;i++){var s=t[i],u=r?.[s];o[s]=u===void 0?e[s]:u}return o}},Ka=function(e,t,r){for(var o=e.length-1;o>=0;o--)e[o]===t&&e.splice(o,1)},cg=function(e){e.splice(0,e.length)},wS=function(e,t){for(var r=0;r<t.length;r++){var o=t[r];e.push(o)}},Un=function(e,t,r){return r&&(t=gx(r,t)),e[t]},ta=function(e,t,r,o){r&&(t=gx(r,t)),e[t]=o},kS=(function(){function e(){Za(this,e),this._obj={}}return Ja(e,[{key:"set",value:function(t,r){return this._obj[t]=r,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}])})(),na=typeof Map<"u"?Map:kS,ES="undefined",SS=(function(){function e(t){if(Za(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var o=0;o<r.length;o++)this.add(r[o])}}return Ja(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)}},{key:"delete",value:function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})}},{key:"forEach",value:function(t,r){return this.toArray().forEach(t,r)}}])})(),Li=(typeof Set>"u"?"undefined":dn(Set))!==ES?Set:SS,Sc=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!og(e)){Lt("An element must have a core reference and parameters set");return}var o=t.group;if(o==null&&(t.data&&t.data.source!=null&&t.data.target!=null?o="edges":o="nodes"),o!=="nodes"&&o!=="edges"){Lt("An element must be of type `nodes` or `edges`; you specified `"+o+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:o,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?o==="edges":!!t.pannable,active:!1,classes:new Li,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),t.renderedPosition){var s=t.renderedPosition,u=e.pan(),h=e.zoom();i.position={x:(s.x-u.x)/h,y:(s.y-u.y)/h}}var d=[];_t(t.classes)?d=t.classes:ze(t.classes)&&(d=t.classes.split(/\s+/));for(var c=0,p=d.length;c<p;c++){var g=d[c];!g||g===""||i.classes.add(g)}this.createEmitter(),(r===void 0||r)&&this.restore();var y=t.style||t.css;y&&(bt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(y))},G0=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,r,o){var i;ft(t)&&!nr(t)&&(i=t,t=i.roots||i.root,r=i.visit,o=i.directed),o=arguments.length===2&&!Vt(r)?r:o,r=Vt(r)?r:function(){};for(var s=this._private.cy,u=t=ze(t)?this.filter(t):t,h=[],d=[],c={},p={},g={},y=0,b,x=this.byGroup(),k=x.nodes,E=x.edges,w=0;w<u.length;w++){var S=u[w],C=S.id();S.isNode()&&(h.unshift(S),e.bfs&&(g[C]=!0,d.push(S)),p[C]=0)}for(var _=function(){var F=e.bfs?h.shift():h.pop(),O=F.id();if(e.dfs){if(g[O])return 0;g[O]=!0,d.push(F)}var A=p[O],U=c[O],j=U!=null?U.source():null,$=U!=null?U.target():null,z=U==null?void 0:F.same(j)?$[0]:j[0],V;if(V=r(F,U,z,y++,A),V===!0)return b=F,1;if(V===!1)return 1;for(var W=F.connectedEdges().filter(function(H){return(!o||H.source().same(F))&&E.has(H)}),q=0;q<W.length;q++){var Z=W[q],R=Z.connectedNodes().filter(function(H){return!H.same(F)&&k.has(H)}),X=R.id();R.length!==0&&!g[X]&&(R=R[0],h.push(R),e.bfs&&(g[X]=!0,d.push(R)),c[X]=Z,p[X]=p[O]+1)}},N;h.length!==0&&(N=_(),!(N!==0&&N===1)););for(var M=s.collection(),P=0;P<d.length;P++){var I=d[P],L=c[I.id()];L!=null&&M.push(L),M.push(I)}return{path:s.collection(M),found:s.collection(b)}}},Zl={breadthFirstSearch:G0({bfs:!0}),depthFirstSearch:G0({dfs:!0})};Zl.bfs=Zl.breadthFirstSearch;Zl.dfs=Zl.depthFirstSearch;var zp={exports:{}},CS=zp.exports,Q0;function TS(){return Q0||(Q0=1,(function(e,t){(function(){var r,o,i,s,u,h,d,c,p,g,y,b,x,k,E;i=Math.floor,g=Math.min,o=function(w,S){return w<S?-1:w>S?1:0},p=function(w,S,C,_,N){var M;if(C==null&&(C=0),N==null&&(N=o),C<0)throw new Error("lo must be non-negative");for(_==null&&(_=w.length);C<_;)M=i((C+_)/2),N(S,w[M])<0?_=M:C=M+1;return[].splice.apply(w,[C,C-C].concat(S)),S},h=function(w,S,C){return C==null&&(C=o),w.push(S),k(w,0,w.length-1,C)},u=function(w,S){var C,_;return S==null&&(S=o),C=w.pop(),w.length?(_=w[0],w[0]=C,E(w,0,S)):_=C,_},c=function(w,S,C){var _;return C==null&&(C=o),_=w[0],w[0]=S,E(w,0,C),_},d=function(w,S,C){var _;return C==null&&(C=o),w.length&&C(w[0],S)<0&&(_=[w[0],S],S=_[0],w[0]=_[1],E(w,0,C)),S},s=function(w,S){var C,_,N,M,P,I;for(S==null&&(S=o),M=(function(){I=[];for(var L=0,F=i(w.length/2);0<=F?L<F:L>F;0<=F?L++:L--)I.push(L);return I}).apply(this).reverse(),P=[],_=0,N=M.length;_<N;_++)C=M[_],P.push(E(w,C,S));return P},x=function(w,S,C){var _;if(C==null&&(C=o),_=w.indexOf(S),_!==-1)return k(w,0,_,C),E(w,_,C)},y=function(w,S,C){var _,N,M,P,I;if(C==null&&(C=o),N=w.slice(0,S),!N.length)return N;for(s(N,C),I=w.slice(S),M=0,P=I.length;M<P;M++)_=I[M],d(N,_,C);return N.sort(C).reverse()},b=function(w,S,C){var _,N,M,P,I,L,F,O,A;if(C==null&&(C=o),S*10<=w.length){if(M=w.slice(0,S).sort(C),!M.length)return M;for(N=M[M.length-1],F=w.slice(S),P=0,L=F.length;P<L;P++)_=F[P],C(_,N)<0&&(p(M,_,0,null,C),M.pop(),N=M[M.length-1]);return M}for(s(w,C),A=[],I=0,O=g(S,w.length);0<=O?I<O:I>O;0<=O?++I:--I)A.push(u(w,C));return A},k=function(w,S,C,_){var N,M,P;for(_==null&&(_=o),N=w[C];C>S;){if(P=C-1>>1,M=w[P],_(N,M)<0){w[C]=M,C=P;continue}break}return w[C]=N},E=function(w,S,C){var _,N,M,P,I;for(C==null&&(C=o),N=w.length,I=S,M=w[S],_=2*S+1;_<N;)P=_+1,P<N&&!(C(w[_],w[P])<0)&&(_=P),w[S]=w[_],S=_,_=2*S+1;return w[S]=M,k(w,I,S,C)},r=(function(){w.push=h,w.pop=u,w.replace=c,w.pushpop=d,w.heapify=s,w.updateItem=x,w.nlargest=y,w.nsmallest=b;function w(S){this.cmp=S??o,this.nodes=[]}return w.prototype.push=function(S){return h(this.nodes,S,this.cmp)},w.prototype.pop=function(){return u(this.nodes,this.cmp)},w.prototype.peek=function(){return this.nodes[0]},w.prototype.contains=function(S){return this.nodes.indexOf(S)!==-1},w.prototype.replace=function(S){return c(this.nodes,S,this.cmp)},w.prototype.pushpop=function(S){return d(this.nodes,S,this.cmp)},w.prototype.heapify=function(){return s(this.nodes,this.cmp)},w.prototype.updateItem=function(S){return x(this.nodes,S,this.cmp)},w.prototype.clear=function(){return this.nodes=[]},w.prototype.empty=function(){return this.nodes.length===0},w.prototype.size=function(){return this.nodes.length},w.prototype.clone=function(){var S;return S=new w,S.nodes=this.nodes.slice(0),S},w.prototype.toArray=function(){return this.nodes.slice(0)},w.prototype.insert=w.prototype.push,w.prototype.top=w.prototype.peek,w.prototype.front=w.prototype.peek,w.prototype.has=w.prototype.contains,w.prototype.copy=w.prototype.clone,w})(),(function(w,S){return e.exports=S()})(this,function(){return r})}).call(CS)})(zp)),zp.exports}var Z0,J0;function PS(){return J0||(J0=1,Z0=TS()),Z0}var _S=PS(),hs=us(_S),DS=Sn({root:null,weight:function(e){return 1},directed:!1}),NS={dijkstra:function(e){if(!ft(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=DS(e),o=r.root,i=r.weight,s=r.directed,u=this,h=i,d=ze(o)?this.filter(o)[0]:o[0],c={},p={},g={},y=this.byGroup(),b=y.nodes,x=y.edges;x.unmergeBy(function(j){return j.isLoop()});for(var k=function(j){return c[j.id()]},E=function(j,$){c[j.id()]=$,w.updateItem(j)},w=new hs(function(j,$){return k(j)-k($)}),S=0;S<b.length;S++){var C=b[S];c[C.id()]=C.same(d)?0:1/0,w.push(C)}for(var _=function(j,$){for(var z=(s?j.edgesTo($):j.edgesWith($)).intersect(x),V=1/0,W,q=0;q<z.length;q++){var Z=z[q],R=h(Z);(R<V||!W)&&(V=R,W=Z)}return{edge:W,dist:V}};w.size()>0;){var N=w.pop(),M=k(N),P=N.id();if(g[P]=M,M!==1/0)for(var I=N.neighborhood().intersect(b),L=0;L<I.length;L++){var F=I[L],O=F.id(),A=_(N,F),U=M+A.dist;U<k(F)&&(E(F,U),p[O]={node:N,edge:A.edge})}}return{distanceTo:function(j){var $=ze(j)?b.filter(j)[0]:j[0];return g[$.id()]},pathTo:function(j){var $=ze(j)?b.filter(j)[0]:j[0],z=[],V=$,W=V.id();if($.length>0)for(z.unshift($);p[W];){var q=p[W];z.unshift(q.edge),z.unshift(q.node),V=q.node,W=V.id()}return u.spawn(z)}}}},BS={kruskal:function(e){e=e||function(S){return 1};for(var t=this.byGroup(),r=t.nodes,o=t.edges,i=r.length,s=new Array(i),u=r,h=function(S){for(var C=0;C<s.length;C++){var _=s[C];if(_.has(S))return C}},d=0;d<i;d++)s[d]=this.spawn(r[d]);for(var c=o.sort(function(S,C){return e(S)-e(C)}),p=0;p<c.length;p++){var g=c[p],y=g.source()[0],b=g.target()[0],x=h(y),k=h(b),E=s[x],w=s[k];x!==k&&(u.merge(g),E.merge(w),s.splice(k,1))}return u}},RS=Sn({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),AS={aStar:function(e){var t=this.cy(),r=RS(e),o=r.root,i=r.goal,s=r.heuristic,u=r.directed,h=r.weight;o=t.collection(o)[0],i=t.collection(i)[0];var d=o.id(),c=i.id(),p={},g={},y={},b=new hs(function(q,Z){return g[q.id()]-g[Z.id()]}),x=new Li,k={},E={},w=function(q,Z){b.push(q),x.add(Z)},S,C,_=function(){S=b.pop(),C=S.id(),x.delete(C)},N=function(q){return x.has(q)};w(o,d),p[d]=0,g[d]=s(o);for(var M=0;b.size()>0;){if(_(),M++,C===c){for(var P=[],I=i,L=c,F=E[L];P.unshift(I),F!=null&&P.unshift(F),I=k[L],I!=null;)L=I.id(),F=E[L];return{found:!0,distance:p[C],path:this.spawn(P),steps:M}}y[C]=!0;for(var O=S._private.edges,A=0;A<O.length;A++){var U=O[A];if(this.hasElementWithId(U.id())&&!(u&&U.data("source")!==C)){var j=U.source(),$=U.target(),z=j.id()!==C?j:$,V=z.id();if(this.hasElementWithId(V)&&!y[V]){var W=p[C]+h(U);if(!N(V)){p[V]=W,g[V]=W+s(z),w(z,V),k[V]=S,E[V]=U;continue}W<p[V]&&(p[V]=W,g[V]=W+s(z),k[V]=S,E[V]=U)}}}}return{found:!1,distance:void 0,path:void 0,steps:M}}},MS=Sn({weight:function(e){return 1},directed:!1}),zS={floydWarshall:function(e){for(var t=this.cy(),r=MS(e),o=r.weight,i=r.directed,s=o,u=this.byGroup(),h=u.nodes,d=u.edges,c=h.length,p=c*c,g=function(R){return h.indexOf(R)},y=function(R){return h[R]},b=new Array(p),x=0;x<p;x++){var k=x%c,E=(x-k)/c;E===k?b[x]=0:b[x]=1/0}for(var w=new Array(p),S=new Array(p),C=0;C<d.length;C++){var _=d[C],N=_.source()[0],M=_.target()[0];if(N!==M){var P=g(N),I=g(M),L=P*c+I,F=s(_);if(b[L]>F&&(b[L]=F,w[L]=I,S[L]=_),!i){var O=I*c+P;!i&&b[O]>F&&(b[O]=F,w[O]=P,S[O]=_)}}}for(var A=0;A<c;A++)for(var U=0;U<c;U++)for(var j=U*c+A,$=0;$<c;$++){var z=U*c+$,V=A*c+$;b[j]+b[V]<b[z]&&(b[z]=b[j]+b[V],w[z]=w[j])}var W=function(R){return(ze(R)?t.filter(R):R)[0]},q=function(R){return g(W(R))},Z={distance:function(R,X){var H=q(R),ee=q(X);return b[H*c+ee]},path:function(R,X){var H=q(R),ee=q(X),de=y(H);if(H===ee)return de.collection();if(w[H*c+ee]==null)return t.collection();var se=t.collection(),pe=H,be;for(se.merge(de);H!==ee;)pe=H,H=w[H*c+ee],be=S[pe*c+H],se.merge(be),se.merge(y(H));return se}};return Z}},IS=Sn({weight:function(e){return 1},directed:!1,root:null}),OS={bellmanFord:function(e){var t=this,r=IS(e),o=r.weight,i=r.directed,s=r.root,u=o,h=this,d=this.cy(),c=this.byGroup(),p=c.edges,g=c.nodes,y=g.length,b=new na,x=!1,k=[];s=d.collection(s)[0],p.unmergeBy(function(Fe){return Fe.isLoop()});for(var E=p.length,w=function(Fe){var Ye=b.get(Fe.id());return Ye||(Ye={},b.set(Fe.id(),Ye)),Ye},S=function(Fe){return(ze(Fe)?d.$(Fe):Fe)[0]},C=function(Fe){return w(S(Fe)).dist},_=function(Fe){for(var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,it=S(Fe),xe=[],De=it;;){if(De==null)return t.spawn();var Ne=w(De),We=Ne.edge,qe=Ne.pred;if(xe.unshift(De[0]),De.same(Ye)&&xe.length>0)break;We!=null&&xe.unshift(We),De=qe}return h.spawn(xe)},N=0;N<y;N++){var M=g[N],P=w(M);M.same(s)?P.dist=0:P.dist=1/0,P.pred=null,P.edge=null}for(var I=!1,L=function(Fe,Ye,it,xe,De,Ne){var We=xe.dist+Ne;We<De.dist&&!it.same(xe.edge)&&(De.dist=We,De.pred=Fe,De.edge=it,I=!0)},F=1;F<y;F++){I=!1;for(var O=0;O<E;O++){var A=p[O],U=A.source(),j=A.target(),$=u(A),z=w(U),V=w(j);L(U,j,A,z,V,$),i||L(j,U,A,V,z,$)}if(!I)break}if(I)for(var W=[],q=0;q<E;q++){var Z=p[q],R=Z.source(),X=Z.target(),H=u(Z),ee=w(R).dist,de=w(X).dist;if(ee+H<de||!i&&de+H<ee)if(x||(bt("Graph contains a negative weight cycle for Bellman-Ford"),x=!0),e.findNegativeWeightCycles!==!1){var se=[];ee+H<de&&se.push(R),!i&&de+H<ee&&se.push(X);for(var pe=se.length,be=0;be<pe;be++){var Q=se[be],te=[Q];te.push(w(Q).edge);for(var ne=w(Q).pred;te.indexOf(ne)===-1;)te.push(ne),te.push(w(ne).edge),ne=w(ne).pred;te=te.slice(te.indexOf(ne));for(var ve=te[0].id(),we=0,Ee=2;Ee<te.length;Ee+=2)te[Ee].id()<ve&&(ve=te[Ee].id(),we=Ee);te=te.slice(we).concat(te.slice(0,we)),te.push(te[0]);var $e=te.map(function(Fe){return Fe.id()}).join(",");W.indexOf($e)===-1&&(k.push(h.spawn(te)),W.push($e))}}else break}return{distanceTo:C,pathTo:_,hasNegativeWeightCycle:x,negativeWeightCycles:k}}},LS=Math.sqrt(2),FS=function(e,t,r){r.length===0&&Lt("Karger-Stein must be run on a connected (sub)graph");for(var o=r[e],i=o[1],s=o[2],u=t[i],h=t[s],d=r,c=d.length-1;c>=0;c--){var p=d[c],g=p[1],y=p[2];(t[g]===u&&t[y]===h||t[g]===h&&t[y]===u)&&d.splice(c,1)}for(var b=0;b<d.length;b++){var x=d[b];x[1]===h?(d[b]=x.slice(),d[b][1]=u):x[2]===h&&(d[b]=x.slice(),d[b][2]=u)}for(var k=0;k<t.length;k++)t[k]===h&&(t[k]=u);return d},vh=function(e,t,r,o){for(;r>o;){var i=Math.floor(Math.random()*t.length);t=FS(i,e,t),r--}return t},VS={kargerStein:function(){var e=this,t=this.byGroup(),r=t.nodes,o=t.edges;o.unmergeBy(function(V){return V.isLoop()});var i=r.length,s=o.length,u=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),h=Math.floor(i/LS);if(i<2){Lt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var d=[],c=0;c<s;c++){var p=o[c];d.push([c,r.indexOf(p.source()),r.indexOf(p.target())])}for(var g=1/0,y=[],b=new Array(i),x=new Array(i),k=new Array(i),E=function(V,W){for(var q=0;q<i;q++)W[q]=V[q]},w=0;w<=u;w++){for(var S=0;S<i;S++)x[S]=S;var C=vh(x,d.slice(),i,h),_=C.slice();E(x,k);var N=vh(x,C,h,2),M=vh(k,_,h,2);N.length<=M.length&&N.length<g?(g=N.length,y=N,E(x,b)):M.length<=N.length&&M.length<g&&(g=M.length,y=M,E(k,b))}for(var P=this.spawn(y.map(function(V){return o[V[0]]})),I=this.spawn(),L=this.spawn(),F=b[0],O=0;O<b.length;O++){var A=b[O],U=r[O];A===F?I.merge(U):L.merge(U)}var j=function(V){var W=e.spawn();return V.forEach(function(q){W.merge(q),q.connectedEdges().forEach(function(Z){e.contains(Z)&&!P.contains(Z)&&W.merge(Z)})}),W},$=[j(I),j(L)],z={cut:P,components:$,partition1:I,partition2:L};return z}},mh,jS=function(e){return{x:e.x,y:e.y}},Cc=function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},Dx=function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},_i=function(e){return{x:e[0],y:e[1]}},XS=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=1/0,i=t;i<r;i++){var s=e[i];isFinite(s)&&(o=Math.min(s,o))}return o},WS=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=-1/0,i=t;i<r;i++){var s=e[i];isFinite(s)&&(o=Math.max(s,o))}return o},US=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=0,i=0,s=t;s<r;s++){var u=e[s];isFinite(u)&&(o+=u,i++)}return o/i},qS=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;o?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var u=0,h=e.length-1;h>=0;h--){var d=e[h];s?isFinite(d)||(e[h]=-1/0,u++):e.splice(h,1)}i&&e.sort(function(g,y){return g-y});var c=e.length,p=Math.floor(c/2);return c%2!==0?e[p+1+u]:(e[p-1+u]+e[p+u])/2},YS=function(e){return Math.PI*e/180},zu=function(e,t){return Math.atan2(t,e)-Math.PI/2},dg=Math.log2||function(e){return Math.log(e)/Math.log(2)},fg=function(e){return e>0?1:e<0?-1:0},Ro=function(e,t){return Math.sqrt(To(e,t))},To=function(e,t){var r=t.x-e.x,o=t.y-e.y;return r*r+o*o},KS=function(e){for(var t=e.length,r=0,o=0;o<t;o++)r+=e[o];for(var i=0;i<t;i++)e[i]=e[i]/r;return e},gn=function(e,t,r,o){return(1-o)*(1-o)*e+2*(1-o)*o*t+o*o*r},Bi=function(e,t,r,o){return{x:gn(e.x,t.x,r.x,o),y:gn(e.y,t.y,r.y,o)}},$S=function(e,t,r,o){var i={x:t.x-e.x,y:t.y-e.y},s=Ro(e,t),u={x:i.x/s,y:i.y/s};return r=r??0,o=o??r*s,{x:e.x+u.x*o,y:e.y+u.y*o}},Jl=function(e,t,r){return Math.max(e,Math.min(r,t))},In=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},HS=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},GS=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},QS=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},Nx=function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},Zu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Ju=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,o,i,s;if(t.length===1)r=o=i=s=t[0];else if(t.length===2)r=i=t[0],s=o=t[1];else if(t.length===4){var u=ln(t,4);r=u[0],o=u[1],i=u[2],s=u[3]}return e.x1-=s,e.x2+=o,e.y1-=r,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},eb=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},hg=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},Xa=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},tb=function(e,t){return Xa(e,t.x,t.y)},Bx=function(e,t){return Xa(e,t.x1,t.y1)&&Xa(e,t.x2,t.y2)},ZS=(mh=Math.hypot)!==null&&mh!==void 0?mh:function(e,t){return Math.sqrt(e*e+t*t)};function JS(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(P,I){return{x:P.x+I.x,y:P.y+I.y}},o=function(P,I){return{x:P.x-I.x,y:P.y-I.y}},i=function(P,I){return{x:P.x*I,y:P.y*I}},s=function(P,I){return P.x*I.y-P.y*I.x},u=function(P){var I=ZS(P.x,P.y);return I===0?{x:0,y:0}:{x:P.x/I,y:P.y/I}},h=function(P){for(var I=0,L=0;L<P.length;L++){var F=P[L],O=P[(L+1)%P.length];I+=F.x*O.y-O.x*F.y}return I/2},d=function(P,I,L,F){var O=o(I,P),A=o(F,L),U=s(O,A);if(Math.abs(U)<1e-9)return r(P,i(O,.5));var j=s(o(L,P),A)/U;return r(P,i(O,j))},c=e.map(function(P){return{x:P.x,y:P.y}});h(c)<0&&c.reverse();for(var p=c.length,g=[],y=0;y<p;y++){var b=c[y],x=c[(y+1)%p],k=o(x,b),E=u({x:k.y,y:-k.x});g.push(E)}for(var w=g.map(function(P,I){var L=r(c[I],i(P,t)),F=r(c[(I+1)%p],i(P,t));return{p1:L,p2:F}}),S=[],C=0;C<p;C++){var _=w[(C-1+p)%p],N=w[C],M=d(_.p1,_.p2,N.p1,N.p2);S.push(M)}return S}function eC(e,t,r,o,i,s){var u=uC(e,t,r,o,i),h=JS(u,s),d=In();return h.forEach(function(c){return Nx(d,c.x,c.y)}),d}var Rx=function(e,t,r,o,i,s,u){var h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",d=h==="auto"?$a(i,s):h,c=i/2,p=s/2;d=Math.min(d,c,p);var g=d!==c,y=d!==p,b;if(g){var x=r-c+d-u,k=o-p-u,E=r+c-d+u,w=k;if(b=Wa(e,t,r,o,x,k,E,w,!1),b.length>0)return b}if(y){var S=r+c+u,C=o-p+d-u,_=S,N=o+p-d+u;if(b=Wa(e,t,r,o,S,C,_,N,!1),b.length>0)return b}if(g){var M=r-c+d-u,P=o+p+u,I=r+c-d+u,L=P;if(b=Wa(e,t,r,o,M,P,I,L,!1),b.length>0)return b}if(y){var F=r-c-u,O=o-p+d-u,A=F,U=o+p-d+u;if(b=Wa(e,t,r,o,F,O,A,U,!1),b.length>0)return b}var j;{var $=r-c+d,z=o-p+d;if(j=Ul(e,t,r,o,$,z,d+u),j.length>0&&j[0]<=$&&j[1]<=z)return[j[0],j[1]]}{var V=r+c-d,W=o-p+d;if(j=Ul(e,t,r,o,V,W,d+u),j.length>0&&j[0]>=V&&j[1]<=W)return[j[0],j[1]]}{var q=r+c-d,Z=o+p-d;if(j=Ul(e,t,r,o,q,Z,d+u),j.length>0&&j[0]>=q&&j[1]>=Z)return[j[0],j[1]]}{var R=r-c+d,X=o+p-d;if(j=Ul(e,t,r,o,R,X,d+u),j.length>0&&j[0]<=R&&j[1]>=X)return[j[0],j[1]]}return[]},tC=function(e,t,r,o,i,s,u){var h=u,d=Math.min(r,i),c=Math.max(r,i),p=Math.min(o,s),g=Math.max(o,s);return d-h<=e&&e<=c+h&&p-h<=t&&t<=g+h},nC=function(e,t,r,o,i,s,u,h,d){var c={x1:Math.min(r,u,i)-d,x2:Math.max(r,u,i)+d,y1:Math.min(o,h,s)-d,y2:Math.max(o,h,s)+d};return!(e<c.x1||e>c.x2||t<c.y1||t>c.y2)},rC=function(e,t,r,o){r-=o;var i=t*t-4*e*r;if(i<0)return[];var s=Math.sqrt(i),u=2*e,h=(-t+s)/u,d=(-t-s)/u;return[h,d]},aC=function(e,t,r,o,i){var s=1e-5;e===0&&(e=s),t/=e,r/=e,o/=e;var u,h,d,c,p,g,y,b;if(h=(3*r-t*t)/9,d=-(27*o)+t*(9*r-2*(t*t)),d/=54,u=h*h*h+d*d,i[1]=0,y=t/3,u>0){p=d+Math.sqrt(u),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),g=d-Math.sqrt(u),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),i[0]=-y+p+g,y+=(p+g)/2,i[4]=i[2]=-y,y=Math.sqrt(3)*(-g+p)/2,i[3]=y,i[5]=-y;return}if(i[5]=i[3]=0,u===0){b=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-y+2*b,i[4]=i[2]=-(b+y);return}h=-h,c=h*h*h,c=Math.acos(d/Math.sqrt(c)),b=2*Math.sqrt(h),i[0]=-y+b*Math.cos(c/3),i[2]=-y+b*Math.cos((c+2*Math.PI)/3),i[4]=-y+b*Math.cos((c+4*Math.PI)/3)},oC=function(e,t,r,o,i,s,u,h){var d=1*r*r-4*r*i+2*r*u+4*i*i-4*i*u+u*u+o*o-4*o*s+2*o*h+4*s*s-4*s*h+h*h,c=9*r*i-3*r*r-3*r*u-6*i*i+3*i*u+9*o*s-3*o*o-3*o*h-6*s*s+3*s*h,p=3*r*r-6*r*i+r*u-r*e+2*i*i+2*i*e-u*e+3*o*o-6*o*s+o*h-o*t+2*s*s+2*s*t-h*t,g=1*r*i-r*r+r*e-i*e+o*s-o*o+o*t-s*t,y=[];aC(d,c,p,g,y);for(var b=1e-7,x=[],k=0;k<6;k+=2)Math.abs(y[k+1])<b&&y[k]>=0&&y[k]<=1&&x.push(y[k]);x.push(1),x.push(0);for(var E=-1,w,S,C,_=0;_<x.length;_++)w=Math.pow(1-x[_],2)*r+2*(1-x[_])*x[_]*i+x[_]*x[_]*u,S=Math.pow(1-x[_],2)*o+2*(1-x[_])*x[_]*s+x[_]*x[_]*h,C=Math.pow(w-e,2)+Math.pow(S-t,2),E>=0?C<E&&(E=C):E=C;return E},iC=function(e,t,r,o,i,s){var u=[e-r,t-o],h=[i-r,s-o],d=h[0]*h[0]+h[1]*h[1],c=u[0]*u[0]+u[1]*u[1],p=u[0]*h[0]+u[1]*h[1],g=p*p/d;return p<0?c:g>d?(e-i)*(e-i)+(t-s)*(t-s):c-g},qn=function(e,t,r){for(var o,i,s,u,h,d=0,c=0;c<r.length/2;c++)if(o=r[c*2],i=r[c*2+1],c+1<r.length/2?(s=r[(c+1)*2],u=r[(c+1)*2+1]):(s=r[(c+1-r.length/2)*2],u=r[(c+1-r.length/2)*2+1]),!(o==e&&s==e))if(o>=e&&e>=s||o<=e&&e<=s)h=(e-o)/(s-o)*(u-i)+i,h>t&&d++;else continue;return d%2!==0},aa=function(e,t,r,o,i,s,u,h,d){var c=new Array(r.length),p;h[0]!=null?(p=Math.atan(h[1]/h[0]),h[0]<0?p=p+Math.PI/2:p=-p-Math.PI/2):p=h;for(var g=Math.cos(-p),y=Math.sin(-p),b=0;b<c.length/2;b++)c[b*2]=s/2*(r[b*2]*g-r[b*2+1]*y),c[b*2+1]=u/2*(r[b*2+1]*g+r[b*2]*y),c[b*2]+=o,c[b*2+1]+=i;var x;if(d>0){var k=hc(c,-d);x=fc(k)}else x=c;return qn(e,t,x)},lC=function(e,t,r,o,i,s,u,h){for(var d=new Array(r.length*2),c=0;c<h.length;c++){var p=h[c];d[c*4+0]=p.startX,d[c*4+1]=p.startY,d[c*4+2]=p.stopX,d[c*4+3]=p.stopY;var g=Math.pow(p.cx-e,2)+Math.pow(p.cy-t,2);if(g<=Math.pow(p.radius,2))return!0}return qn(e,t,d)},fc=function(e){for(var t=new Array(e.length/2),r,o,i,s,u,h,d,c,p=0;p<e.length/4;p++){r=e[p*4],o=e[p*4+1],i=e[p*4+2],s=e[p*4+3],p<e.length/4-1?(u=e[(p+1)*4],h=e[(p+1)*4+1],d=e[(p+1)*4+2],c=e[(p+1)*4+3]):(u=e[0],h=e[1],d=e[2],c=e[3]);var g=Wa(r,o,i,s,u,h,d,c,!0);t[p*2]=g[0],t[p*2+1]=g[1]}return t},hc=function(e,t){for(var r=new Array(e.length*2),o,i,s,u,h=0;h<e.length/2;h++){o=e[h*2],i=e[h*2+1],h<e.length/2-1?(s=e[(h+1)*2],u=e[(h+1)*2+1]):(s=e[0],u=e[1]);var d=u-i,c=-(s-o),p=Math.sqrt(d*d+c*c),g=d/p,y=c/p;r[h*4]=o+g*t,r[h*4+1]=i+y*t,r[h*4+2]=s+g*t,r[h*4+3]=u+y*t}return r},sC=function(e,t,r,o,i,s){var u=r-e,h=o-t;u/=i,h/=s;var d=Math.sqrt(u*u+h*h),c=d-1;if(c<0)return[];var p=c/d;return[(r-e)*p+e,(o-t)*p+t]},No=function(e,t,r,o,i,s,u){return e-=i,t-=s,e/=r/2+u,t/=o/2+u,e*e+t*t<=1},Ul=function(e,t,r,o,i,s,u){var h=[r-e,o-t],d=[e-i,t-s],c=h[0]*h[0]+h[1]*h[1],p=2*(d[0]*h[0]+d[1]*h[1]),g=d[0]*d[0]+d[1]*d[1]-u*u,y=p*p-4*c*g;if(y<0)return[];var b=(-p+Math.sqrt(y))/(2*c),x=(-p-Math.sqrt(y))/(2*c),k=Math.min(b,x),E=Math.max(b,x),w=[];if(k>=0&&k<=1&&w.push(k),E>=0&&E<=1&&w.push(E),w.length===0)return[];var S=w[0]*h[0]+e,C=w[0]*h[1]+t;if(w.length>1){if(w[0]==w[1])return[S,C];var _=w[1]*h[0]+e,N=w[1]*h[1]+t;return[S,C,_,N]}else return[S,C]},yh=function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},Wa=function(e,t,r,o,i,s,u,h,d){var c=e-i,p=r-e,g=u-i,y=t-s,b=o-t,x=h-s,k=g*y-x*c,E=p*y-b*c,w=x*p-g*b;if(w!==0){var S=k/w,C=E/w,_=.001,N=0-_,M=1+_;return N<=S&&S<=M&&N<=C&&C<=M?[e+S*p,t+S*b]:d?[e+S*p,t+S*b]:[]}else return k===0||E===0?yh(e,r,u)===u?[u,h]:yh(e,r,i)===i?[i,s]:yh(i,u,r)===r?[r,o]:[]:[]},uC=function(e,t,r,o,i){var s=[],u=o/2,h=i/2,d=t,c=r;s.push({x:d+u*e[0],y:c+h*e[1]});for(var p=1;p<e.length/2;p++)s.push({x:d+u*e[p*2],y:c+h*e[p*2+1]});return s},es=function(e,t,r,o,i,s,u,h){var d=[],c,p=new Array(r.length),g=!0;s==null&&(g=!1);var y;if(g){for(var b=0;b<p.length/2;b++)p[b*2]=r[b*2]*s+o,p[b*2+1]=r[b*2+1]*u+i;if(h>0){var x=hc(p,-h);y=fc(x)}else y=p}else y=r;for(var k,E,w,S,C=0;C<y.length/2;C++)k=y[C*2],E=y[C*2+1],C<y.length/2-1?(w=y[(C+1)*2],S=y[(C+1)*2+1]):(w=y[0],S=y[1]),c=Wa(e,t,o,i,k,E,w,S),c.length!==0&&d.push(c[0],c[1]);return d},cC=function(e,t,r,o,i,s,u,h,d){var c=[],p,g=new Array(r.length*2);d.forEach(function(w,S){S===0?(g[g.length-2]=w.startX,g[g.length-1]=w.startY):(g[S*4-2]=w.startX,g[S*4-1]=w.startY),g[S*4]=w.stopX,g[S*4+1]=w.stopY,p=Ul(e,t,o,i,w.cx,w.cy,w.radius),p.length!==0&&c.push(p[0],p[1])});for(var y=0;y<g.length/4;y++)p=Wa(e,t,o,i,g[y*4],g[y*4+1],g[y*4+2],g[y*4+3],!1),p.length!==0&&c.push(p[0],p[1]);if(c.length>2){for(var b=[c[0],c[1]],x=Math.pow(b[0]-e,2)+Math.pow(b[1]-t,2),k=1;k<c.length/2;k++){var E=Math.pow(c[k*2]-e,2)+Math.pow(c[k*2+1]-t,2);E<=x&&(b[0]=c[k*2],b[1]=c[k*2+1],x=E)}return b}return c},Iu=function(e,t,r){var o=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=(i-r)/i;return s<0&&(s=1e-5),[t[0]+s*o[0],t[1]+s*o[1]]},zn=function(e,t){var r=Ip(e,t);return r=Ax(r),r},Ax=function(e){for(var t,r,o=e.length/2,i=1/0,s=1/0,u=-1/0,h=-1/0,d=0;d<o;d++)t=e[2*d],r=e[2*d+1],i=Math.min(i,t),u=Math.max(u,t),s=Math.min(s,r),h=Math.max(h,r);for(var c=2/(u-i),p=2/(h-s),g=0;g<o;g++)t=e[2*g]=e[2*g]*c,r=e[2*g+1]=e[2*g+1]*p,i=Math.min(i,t),u=Math.max(u,t),s=Math.min(s,r),h=Math.max(h,r);if(s<-1)for(var y=0;y<o;y++)r=e[2*y+1]=e[2*y+1]+(-1-s);return e},Ip=function(e,t){var r=1/e*2*Math.PI,o=e%2===0?Math.PI/2+r/2:Math.PI/2;o+=t;for(var i=new Array(e*2),s,u=0;u<e;u++)s=u*r+o,i[2*u]=Math.cos(s),i[2*u+1]=Math.sin(-s);return i},$a=function(e,t){return Math.min(e/4,t/4,8)},Mx=function(e,t){return Math.min(e/10,t/10,8)},pg=function(){return 8},dC=function(e,t,r){return[e-2*t+r,2*(t-e),e]},Op=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function bh(e,t){function r(g){for(var y=[],b=0;b<g.length;b++){var x=g[b],k=g[(b+1)%g.length],E={x:k.x-x.x,y:k.y-x.y},w={x:-E.y,y:E.x},S=Math.sqrt(w.x*w.x+w.y*w.y);y.push({x:w.x/S,y:w.y/S})}return y}function o(g,y){var b=1/0,x=-1/0,k=Yn(g),E;try{for(k.s();!(E=k.n()).done;){var w=E.value,S=w.x*y.x+w.y*y.y;b=Math.min(b,S),x=Math.max(x,S)}}catch(C){k.e(C)}finally{k.f()}return{min:b,max:x}}function i(g,y){return!(g.max<y.min||y.max<g.min)}var s=[].concat(sc(r(e)),sc(r(t))),u=Yn(s),h;try{for(u.s();!(h=u.n()).done;){var d=h.value,c=o(e,d),p=o(t,d);if(!i(c,p))return!1}}catch(g){u.e(g)}finally{u.f()}return!0}var fC=Sn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),hC={pageRank:function(e){for(var t=fC(e),r=t.dampingFactor,o=t.precision,i=t.iterations,s=t.weight,u=this._private.cy,h=this.byGroup(),d=h.nodes,c=h.edges,p=d.length,g=p*p,y=c.length,b=new Array(g),x=new Array(p),k=(1-r)/p,E=0;E<p;E++){for(var w=0;w<p;w++){var S=E*p+w;b[S]=0}x[E]=0}for(var C=0;C<y;C++){var _=c[C],N=_.data("source"),M=_.data("target");if(N!==M){var P=d.indexOfId(N),I=d.indexOfId(M),L=s(_),F=I*p+P;b[F]+=L,x[P]+=L}}for(var O=1/p+k,A=0;A<p;A++)if(x[A]===0)for(var U=0;U<p;U++){var j=U*p+A;b[j]=O}else for(var $=0;$<p;$++){var z=$*p+A;b[z]=b[z]/x[A]+k}for(var V=new Array(p),W=new Array(p),q,Z=0;Z<p;Z++)V[Z]=1;for(var R=0;R<i;R++){for(var X=0;X<p;X++)W[X]=0;for(var H=0;H<p;H++)for(var ee=0;ee<p;ee++){var de=H*p+ee;W[H]+=b[de]*V[ee]}KS(W),q=V,V=W,W=q;for(var se=0,pe=0;pe<p;pe++){var be=q[pe]-V[pe];se+=be*be}if(se<o)break}var Q={rank:function(te){return te=u.collection(te)[0],V[d.indexOf(te)]}};return Q}},nb=Sn({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ri={degreeCentralityNormalized:function(e){e=nb(e);var t=this.cy(),r=this.nodes(),o=r.length;if(e.directed){for(var i={},s={},u=0,h=0,d=0;d<o;d++){var c=r[d],p=c.id();e.root=c;var g=this.degreeCentrality(e);u<g.indegree&&(u=g.indegree),h<g.outdegree&&(h=g.outdegree),i[p]=g.indegree,s[p]=g.outdegree}return{indegree:function(w){return u==0?0:(ze(w)&&(w=t.filter(w)),i[w.id()]/u)},outdegree:function(w){return h===0?0:(ze(w)&&(w=t.filter(w)),s[w.id()]/h)}}}else{for(var y={},b=0,x=0;x<o;x++){var k=r[x];e.root=k;var E=this.degreeCentrality(e);b<E.degree&&(b=E.degree),y[k.id()]=E.degree}return{degree:function(w){return b===0?0:(ze(w)&&(w=t.filter(w)),y[w.id()]/b)}}}},degreeCentrality:function(e){e=nb(e);var t=this.cy(),r=this,o=e,i=o.root,s=o.weight,u=o.directed,h=o.alpha;if(i=t.collection(i)[0],u){for(var d=i.connectedEdges(),c=d.filter(function(N){return N.target().same(i)&&r.has(N)}),p=d.filter(function(N){return N.source().same(i)&&r.has(N)}),g=c.length,y=p.length,b=0,x=0,k=0;k<c.length;k++)b+=s(c[k]);for(var E=0;E<p.length;E++)x+=s(p[E]);return{indegree:Math.pow(g,1-h)*Math.pow(b,h),outdegree:Math.pow(y,1-h)*Math.pow(x,h)}}else{for(var w=i.connectedEdges().intersection(r),S=w.length,C=0,_=0;_<w.length;_++)C+=s(w[_]);return{degree:Math.pow(S,1-h)*Math.pow(C,h)}}}};Ri.dc=Ri.degreeCentrality;Ri.dcn=Ri.degreeCentralityNormalised=Ri.degreeCentralityNormalized;var rb=Sn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ai={closenessCentralityNormalized:function(e){for(var t=rb(e),r=t.harmonic,o=t.weight,i=t.directed,s=this.cy(),u={},h=0,d=this.nodes(),c=this.floydWarshall({weight:o,directed:i}),p=0;p<d.length;p++){for(var g=0,y=d[p],b=0;b<d.length;b++)if(p!==b){var x=c.distance(y,d[b]);r?g+=1/x:g+=x}r||(g=1/g),h<g&&(h=g),u[y.id()]=g}return{closeness:function(k){return h==0?0:(ze(k)?k=s.filter(k)[0].id():k=k.id(),u[k]/h)}}},closenessCentrality:function(e){var t=rb(e),r=t.root,o=t.weight,i=t.directed,s=t.harmonic;r=this.filter(r)[0];for(var u=this.dijkstra({root:r,weight:o,directed:i}),h=0,d=this.nodes(),c=0;c<d.length;c++){var p=d[c];if(!p.same(r)){var g=u.distanceTo(p);s?h+=1/g:h+=g}}return s?h:1/h}};Ai.cc=Ai.closenessCentrality;Ai.ccn=Ai.closenessCentralityNormalised=Ai.closenessCentralityNormalized;var pC=Sn({weight:null,directed:!1}),Lp={betweennessCentrality:function(e){for(var t=pC(e),r=t.directed,o=t.weight,i=o!=null,s=this.cy(),u=this.nodes(),h={},d={},c=0,p={set:function(w,S){d[w]=S,S>c&&(c=S)},get:function(w){return d[w]}},g=0;g<u.length;g++){var y=u[g],b=y.id();r?h[b]=y.outgoers().nodes():h[b]=y.openNeighborhood().nodes(),p.set(b,0)}for(var x=function(){for(var w=u[k].id(),S=[],C={},_={},N={},M=new hs(function(X,H){return N[X]-N[H]}),P=0;P<u.length;P++){var I=u[P].id();C[I]=[],_[I]=0,N[I]=1/0}for(_[w]=1,N[w]=0,M.push(w);!M.empty();){var L=M.pop();if(S.push(L),i)for(var F=0;F<h[L].length;F++){var O=h[L][F],A=s.getElementById(L),U=void 0;A.edgesTo(O).length>0?U=A.edgesTo(O)[0]:U=O.edgesTo(A)[0];var j=o(U);O=O.id(),N[O]>N[L]+j&&(N[O]=N[L]+j,M.nodes.indexOf(O)<0?M.push(O):M.updateItem(O),_[O]=0,C[O]=[]),N[O]==N[L]+j&&(_[O]=_[O]+_[L],C[O].push(L))}else for(var $=0;$<h[L].length;$++){var z=h[L][$].id();N[z]==1/0&&(M.push(z),N[z]=N[L]+1),N[z]==N[L]+1&&(_[z]=_[z]+_[L],C[z].push(L))}}for(var V={},W=0;W<u.length;W++)V[u[W].id()]=0;for(;S.length>0;){for(var q=S.pop(),Z=0;Z<C[q].length;Z++){var R=C[q][Z];V[R]=V[R]+_[R]/_[q]*(1+V[q])}q!=u[k].id()&&p.set(q,p.get(q)+V[q])}},k=0;k<u.length;k++)x();var E={betweenness:function(w){var S=s.collection(w).id();return p.get(S)},betweennessNormalized:function(w){if(c==0)return 0;var S=s.collection(w).id();return p.get(S)/c}};return E.betweennessNormalised=E.betweennessNormalized,E}};Lp.bc=Lp.betweennessCentrality;var gC=Sn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),vC=function(e){return gC(e)},mC=function(e,t){for(var r=0,o=0;o<t.length;o++)r+=t[o](e);return r},yC=function(e,t,r){for(var o=0;o<t;o++)e[o*t+o]=r},zx=function(e,t){for(var r,o=0;o<t;o++){r=0;for(var i=0;i<t;i++)r+=e[i*t+o];for(var s=0;s<t;s++)e[s*t+o]=e[s*t+o]/r}},bC=function(e,t,r){for(var o=new Array(r*r),i=0;i<r;i++){for(var s=0;s<r;s++)o[i*r+s]=0;for(var u=0;u<r;u++)for(var h=0;h<r;h++)o[i*r+h]+=e[i*r+u]*t[u*r+h]}return o},xC=function(e,t,r){for(var o=e.slice(0),i=1;i<r;i++)e=bC(e,o,t);return e},wC=function(e,t,r){for(var o=new Array(t*t),i=0;i<t*t;i++)o[i]=Math.pow(e[i],r);return zx(o,t),o},kC=function(e,t,r,o){for(var i=0;i<r;i++){var s=Math.round(e[i]*Math.pow(10,o))/Math.pow(10,o),u=Math.round(t[i]*Math.pow(10,o))/Math.pow(10,o);if(s!==u)return!1}return!0},EC=function(e,t,r,o){for(var i=[],s=0;s<t;s++){for(var u=[],h=0;h<t;h++)Math.round(e[s*t+h]*1e3)/1e3>0&&u.push(r[h]);u.length!==0&&i.push(o.collection(u))}return i},SC=function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},CC=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&SC(e[t],e[r])&&e.splice(r,1);return e},ab=function(e){for(var t=this.nodes(),r=this.edges(),o=this.cy(),i=vC(e),s={},u=0;u<t.length;u++)s[t[u].id()]=u;for(var h=t.length,d=h*h,c=new Array(d),p,g=0;g<d;g++)c[g]=0;for(var y=0;y<r.length;y++){var b=r[y],x=s[b.source().id()],k=s[b.target().id()],E=mC(b,i.attributes);c[x*h+k]+=E,c[k*h+x]+=E}yC(c,h,i.multFactor),zx(c,h);for(var w=!0,S=0;w&&S<i.maxIterations;)w=!1,p=xC(c,h,i.expandFactor),c=wC(p,h,i.inflateFactor),kC(c,p,d,4)||(w=!0),S++;var C=EC(c,h,t,o);return C=CC(C),C},TC={markovClustering:ab,mcl:ab},PC=function(e){return e},Ix=function(e,t){return Math.abs(t-e)},ob=function(e,t,r){return e+Ix(t,r)},ib=function(e,t,r){return e+Math.pow(r-t,2)},_C=function(e){return Math.sqrt(e)},DC=function(e,t,r){return Math.max(e,Ix(t,r))},zl=function(e,t,r,o,i){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:PC,u=o,h,d,c=0;c<e;c++)h=t(c),d=r(c),u=i(u,h,d);return s(u)},Ii={euclidean:function(e,t,r){return e>=2?zl(e,t,r,0,ib,_C):zl(e,t,r,0,ob)},squaredEuclidean:function(e,t,r){return zl(e,t,r,0,ib)},manhattan:function(e,t,r){return zl(e,t,r,0,ob)},max:function(e,t,r){return zl(e,t,r,-1/0,DC)}};Ii["squared-euclidean"]=Ii.squaredEuclidean;Ii.squaredeuclidean=Ii.squaredEuclidean;function Tc(e,t,r,o,i,s){var u;return Vt(e)?u=e:u=Ii[e]||Ii.euclidean,t===0&&Vt(e)?u(i,s):u(t,r,o,i,s)}var NC=Sn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),gg=function(e){return NC(e)},pc=function(e,t,r,o,i){var s=i!=="kMedoids",u=s?function(p){return r[p]}:function(p){return o[p](r)},h=function(p){return o[p](t)},d=r,c=t;return Tc(e,o.length,u,h,d,c)},xh=function(e,t,r){for(var o=r.length,i=new Array(o),s=new Array(o),u=new Array(t),h=null,d=0;d<o;d++)i[d]=e.min(r[d]).value,s[d]=e.max(r[d]).value;for(var c=0;c<t;c++){h=[];for(var p=0;p<o;p++)h[p]=Math.random()*(s[p]-i[p])+i[p];u[c]=h}return u},Ox=function(e,t,r,o,i){for(var s=1/0,u=0,h=0;h<t.length;h++){var d=pc(r,e,t[h],o,i);d<s&&(s=d,u=h)}return u},Lx=function(e,t,r){for(var o=[],i=null,s=0;s<t.length;s++)i=t[s],r[i.id()]===e&&o.push(i);return o},BC=function(e,t,r){return Math.abs(t-e)<=r},RC=function(e,t,r){for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++){var s=Math.abs(e[o][i]-t[o][i]);if(s>r)return!1}return!0},AC=function(e,t,r){for(var o=0;o<r;o++)if(e===t[o])return!0;return!1},lb=function(e,t){var r=new Array(t);if(e.length<50)for(var o=0;o<t;o++){for(var i=e[Math.floor(Math.random()*e.length)];AC(i,r,o);)i=e[Math.floor(Math.random()*e.length)];r[o]=i}else for(var s=0;s<t;s++)r[s]=e[Math.floor(Math.random()*e.length)];return r},sb=function(e,t,r){for(var o=0,i=0;i<t.length;i++)o+=pc("manhattan",t[i],e,r,"kMedoids");return o},MC=function(e){var t=this.cy(),r=this.nodes(),o=null,i=gg(e),s=new Array(i.k),u={},h;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,h=xh(r,i.k,i.attributes)):dn(i.testCentroids)==="object"?h=i.testCentroids:h=xh(r,i.k,i.attributes):h=xh(r,i.k,i.attributes);for(var d=!0,c=0;d&&c<i.maxIterations;){for(var p=0;p<r.length;p++)o=r[p],u[o.id()]=Ox(o,h,i.distance,i.attributes,"kMeans");d=!1;for(var g=0;g<i.k;g++){var y=Lx(g,r,u);if(y.length!==0){for(var b=i.attributes.length,x=h[g],k=new Array(b),E=new Array(b),w=0;w<b;w++){E[w]=0;for(var S=0;S<y.length;S++)o=y[S],E[w]+=i.attributes[w](o);k[w]=E[w]/y.length,BC(k[w],x[w],i.sensitivityThreshold)||(d=!0)}h[g]=k,s[g]=t.collection(y)}}c++}return s},zC=function(e){var t=this.cy(),r=this.nodes(),o=null,i=gg(e),s=new Array(i.k),u,h={},d,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(dn(i.testCentroids)==="object"?u=i.testCentroids:u=lb(r,i.k)):u=lb(r,i.k);for(var p=!0,g=0;p&&g<i.maxIterations;){for(var y=0;y<r.length;y++)o=r[y],h[o.id()]=Ox(o,u,i.distance,i.attributes,"kMedoids");p=!1;for(var b=0;b<u.length;b++){var x=Lx(b,r,h);if(x.length!==0){c[b]=sb(u[b],x,i.attributes);for(var k=0;k<x.length;k++)d=sb(x[k],x,i.attributes),d<c[b]&&(c[b]=d,u[b]=x[k],p=!0);s[b]=t.collection(x)}}g++}return s},IC=function(e,t,r,o,i){for(var s,u,h=0;h<t.length;h++)for(var d=0;d<e.length;d++)o[h][d]=Math.pow(r[h][d],i.m);for(var c=0;c<e.length;c++)for(var p=0;p<i.attributes.length;p++){s=0,u=0;for(var g=0;g<t.length;g++)s+=o[g][c]*i.attributes[p](t[g]),u+=o[g][c];e[c][p]=s/u}},OC=function(e,t,r,o,i){for(var s=0;s<e.length;s++)t[s]=e[s].slice();for(var u,h,d,c=2/(i.m-1),p=0;p<r.length;p++)for(var g=0;g<o.length;g++){u=0;for(var y=0;y<r.length;y++)h=pc(i.distance,o[g],r[p],i.attributes,"cmeans"),d=pc(i.distance,o[g],r[y],i.attributes,"cmeans"),u+=Math.pow(h/d,c);e[g][p]=1/u}},LC=function(e,t,r,o){for(var i=new Array(r.k),s=0;s<i.length;s++)i[s]=[];for(var u,h,d=0;d<t.length;d++){u=-1/0,h=-1;for(var c=0;c<t[0].length;c++)t[d][c]>u&&(u=t[d][c],h=c);i[h].push(e[d])}for(var p=0;p<i.length;p++)i[p]=o.collection(i[p]);return i},ub=function(e){var t=this.cy(),r=this.nodes(),o=gg(e),i,s,u,h,d;h=new Array(r.length);for(var c=0;c<r.length;c++)h[c]=new Array(o.k);u=new Array(r.length);for(var p=0;p<r.length;p++)u[p]=new Array(o.k);for(var g=0;g<r.length;g++){for(var y=0,b=0;b<o.k;b++)u[g][b]=Math.random(),y+=u[g][b];for(var x=0;x<o.k;x++)u[g][x]=u[g][x]/y}s=new Array(o.k);for(var k=0;k<o.k;k++)s[k]=new Array(o.attributes.length);d=new Array(r.length);for(var E=0;E<r.length;E++)d[E]=new Array(o.k);for(var w=!0,S=0;w&&S<o.maxIterations;)w=!1,IC(s,r,u,d,o),OC(u,h,s,r,o),RC(u,h,o.sensitivityThreshold)||(w=!0),S++;return i=LC(r,u,o,t),{clusters:i,degreeOfMembership:u}},FC={kMeans:MC,kMedoids:zC,fuzzyCMeans:ub,fcm:ub},VC=Sn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),jC={single:"min",complete:"max"},XC=function(e){var t=VC(e),r=jC[t.linkage];return r!=null&&(t.linkage=r),t},cb=function(e,t,r,o,i){for(var s=0,u=1/0,h,d=i.attributes,c=function(P,I){return Tc(i.distance,d.length,function(L){return d[L](P)},function(L){return d[L](I)},P,I)},p=0;p<e.length;p++){var g=e[p].key,y=r[g][o[g]];y<u&&(s=g,u=y)}if(i.mode==="threshold"&&u>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var b=t[s],x=t[o[s]],k;i.mode==="dendrogram"?k={left:b,right:x,key:b.key}:k={value:b.value.concat(x.value),key:b.key},e[b.index]=k,e.splice(x.index,1),t[b.key]=k;for(var E=0;E<e.length;E++){var w=e[E];b.key===w.key?h=1/0:i.linkage==="min"?(h=r[b.key][w.key],r[b.key][w.key]>r[x.key][w.key]&&(h=r[x.key][w.key])):i.linkage==="max"?(h=r[b.key][w.key],r[b.key][w.key]<r[x.key][w.key]&&(h=r[x.key][w.key])):i.linkage==="mean"?h=(r[b.key][w.key]*b.size+r[x.key][w.key]*x.size)/(b.size+x.size):i.mode==="dendrogram"?h=c(w.value,b.value):h=c(w.value[0],b.value[0]),r[b.key][w.key]=r[w.key][b.key]=h}for(var S=0;S<e.length;S++){var C=e[S].key;if(o[C]===b.key||o[C]===x.key){for(var _=C,N=0;N<e.length;N++){var M=e[N].key;r[C][M]<r[C][_]&&(_=M)}o[C]=_}e[S].index=S}return b.key=x.key=b.index=x.index=null,!0},Di=function(e,t,r){e&&(e.value?t.push(e.value):(e.left&&Di(e.left,t),e.right&&Di(e.right,t)))},Fp=function(e,t){if(!e)return"";if(e.left&&e.right){var r=Fp(e.left,t),o=Fp(e.right,t),i=t.add({group:"nodes",data:{id:r+","+o}});return t.add({group:"edges",data:{source:r,target:i.id()}}),t.add({group:"edges",data:{source:o,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},Vp=function(e,t,r){if(!e)return[];var o=[],i=[],s=[];return t===0?(e.left&&Di(e.left,o),e.right&&Di(e.right,i),s=o.concat(i),[r.collection(s)]):t===1?e.value?[r.collection(e.value)]:(e.left&&Di(e.left,o),e.right&&Di(e.right,i),[r.collection(o),r.collection(i)]):e.value?[r.collection(e.value)]:(e.left&&(o=Vp(e.left,t-1,r)),e.right&&(i=Vp(e.right,t-1,r)),o.concat(i))},db=function(e){for(var t=this.cy(),r=this.nodes(),o=XC(e),i=o.attributes,s=function(w,S){return Tc(o.distance,i.length,function(C){return i[C](w)},function(C){return i[C](S)},w,S)},u=[],h=[],d=[],c=[],p=0;p<r.length;p++){var g={value:o.mode==="dendrogram"?r[p]:[r[p]],key:p,index:p};u[p]=g,c[p]=g,h[p]=[],d[p]=0}for(var y=0;y<u.length;y++)for(var b=0;b<=y;b++){var x=void 0;o.mode==="dendrogram"?x=y===b?1/0:s(u[y].value,u[b].value):x=y===b?1/0:s(u[y].value[0],u[b].value[0]),h[y][b]=x,h[b][y]=x,x<h[y][d[y]]&&(d[y]=b)}for(var k=cb(u,c,h,d,o);k;)k=cb(u,c,h,d,o);var E;return o.mode==="dendrogram"?(E=Vp(u[0],o.dendrogramDepth,t),o.addDendrogram&&Fp(u[0],t)):(E=new Array(u.length),u.forEach(function(w,S){w.key=w.index=null,E[S]=t.collection(w.value)})),E},WC={hierarchicalClustering:db,hca:db},UC=Sn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),qC=function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||Lt("Damping must range on [0.5, 1).  Got: ".concat(t));var o=["median","mean","min","max"];return o.some(function(i){return i===r})||ke(r)||Lt("Preference must be one of [".concat(o.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(r)),UC(e)},YC=function(e,t,r,o){var i=function(s,u){return o[u](s)};return-Tc(e,o.length,function(s){return i(t,s)},function(s){return i(r,s)},t,r)},KC=function(e,t){var r=null;return t==="median"?r=qS(e):t==="mean"?r=US(e):t==="min"?r=XS(e):t==="max"?r=WS(e):r=t,r},$C=function(e,t,r){for(var o=[],i=0;i<e;i++)t[i*e+i]+r[i*e+i]>0&&o.push(i);return o},fb=function(e,t,r){for(var o=[],i=0;i<e;i++){for(var s=-1,u=-1/0,h=0;h<r.length;h++){var d=r[h];t[i*e+d]>u&&(s=d,u=t[i*e+d])}s>0&&o.push(s)}for(var c=0;c<r.length;c++)o[r[c]]=r[c];return o},HC=function(e,t,r){for(var o=fb(e,t,r),i=0;i<r.length;i++){for(var s=[],u=0;u<o.length;u++)o[u]===r[i]&&s.push(u);for(var h=-1,d=-1/0,c=0;c<s.length;c++){for(var p=0,g=0;g<s.length;g++)p+=t[s[g]*e+s[c]];p>d&&(h=c,d=p)}r[i]=s[h]}return o=fb(e,t,r),o},hb=function(e){for(var t=this.cy(),r=this.nodes(),o=qC(e),i={},s=0;s<r.length;s++)i[r[s].id()]=s;var u,h,d,c,p,g;u=r.length,h=u*u,d=new Array(h);for(var y=0;y<h;y++)d[y]=-1/0;for(var b=0;b<u;b++)for(var x=0;x<u;x++)b!==x&&(d[b*u+x]=YC(o.distance,r[b],r[x],o.attributes));c=KC(d,o.preference);for(var k=0;k<u;k++)d[k*u+k]=c;p=new Array(h);for(var E=0;E<h;E++)p[E]=0;g=new Array(h);for(var w=0;w<h;w++)g[w]=0;for(var S=new Array(u),C=new Array(u),_=new Array(u),N=0;N<u;N++)S[N]=0,C[N]=0,_[N]=0;for(var M=new Array(u*o.minIterations),P=0;P<M.length;P++)M[P]=0;var I;for(I=0;I<o.maxIterations;I++){for(var L=0;L<u;L++){for(var F=-1/0,O=-1/0,A=-1,U=0,j=0;j<u;j++)S[j]=p[L*u+j],U=g[L*u+j]+d[L*u+j],U>=F?(O=F,F=U,A=j):U>O&&(O=U);for(var $=0;$<u;$++)p[L*u+$]=(1-o.damping)*(d[L*u+$]-F)+o.damping*S[$];p[L*u+A]=(1-o.damping)*(d[L*u+A]-O)+o.damping*S[A]}for(var z=0;z<u;z++){for(var V=0,W=0;W<u;W++)S[W]=g[W*u+z],C[W]=Math.max(0,p[W*u+z]),V+=C[W];V-=C[z],C[z]=p[z*u+z],V+=C[z];for(var q=0;q<u;q++)g[q*u+z]=(1-o.damping)*Math.min(0,V-C[q])+o.damping*S[q];g[z*u+z]=(1-o.damping)*(V-C[z])+o.damping*S[z]}for(var Z=0,R=0;R<u;R++){var X=g[R*u+R]+p[R*u+R]>0?1:0;M[I%o.minIterations*u+R]=X,Z+=X}if(Z>0&&(I>=o.minIterations-1||I==o.maxIterations-1)){for(var H=0,ee=0;ee<u;ee++){_[ee]=0;for(var de=0;de<o.minIterations;de++)_[ee]+=M[de*u+ee];(_[ee]===0||_[ee]===o.minIterations)&&H++}if(H===u)break}}for(var se=$C(u,p,g),pe=HC(u,d,se),be={},Q=0;Q<se.length;Q++)be[se[Q]]=[];for(var te=0;te<r.length;te++){var ne=i[r[te].id()],ve=pe[ne];ve!=null&&be[ve].push(r[te])}for(var we=new Array(se.length),Ee=0;Ee<se.length;Ee++)we[Ee]=t.collection(be[se[Ee]]);return we},GC={affinityPropagation:hb,ap:hb},QC=Sn({root:void 0,directed:!1}),ZC={hierholzer:function(e){if(!ft(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r=QC(e),o=r.root,i=r.directed,s=this,u=!1,h,d,c;o&&(c=ze(o)?this.filter(o)[0].id():o[0].id());var p={},g={};i?s.forEach(function(w){var S=w.id();if(w.isNode()){var C=w.indegree(!0),_=w.outdegree(!0),N=C-_,M=_-C;N==1?h?u=!0:h=S:M==1?d?u=!0:d=S:(M>1||N>1)&&(u=!0),p[S]=[],w.outgoers().forEach(function(P){P.isEdge()&&p[S].push(P.id())})}else g[S]=[void 0,w.target().id()]}):s.forEach(function(w){var S=w.id();if(w.isNode()){var C=w.degree(!0);C%2&&(h?d?u=!0:d=S:h=S),p[S]=[],w.connectedEdges().forEach(function(_){return p[S].push(_.id())})}else g[S]=[w.source().id(),w.target().id()]});var y={found:!1,trail:void 0};if(u)return y;if(d&&h)if(i){if(c&&d!=c)return y;c=d}else{if(c&&d!=c&&h!=c)return y;c||(c=d)}else c||(c=s[0].id());var b=function(w){for(var S=w,C=[w],_,N,M;p[S].length;)_=p[S].shift(),N=g[_][0],M=g[_][1],S!=M?(p[M]=p[M].filter(function(P){return P!=_}),S=M):!i&&S!=N&&(p[N]=p[N].filter(function(P){return P!=_}),S=N),C.unshift(_),C.unshift(S);return C},x=[],k=[];for(k=b(c);k.length!=1;)p[k[0]].length==0?(x.unshift(s.getElementById(k.shift())),x.unshift(s.getElementById(k.shift()))):k=b(k.shift()).concat(k);x.unshift(s.getElementById(k.shift()));for(var E in p)if(p[E].length)return y;return y.found=!0,y.trail=this.spawn(x,!0),y}},Ou=function(){var e=this,t={},r=0,o=0,i=[],s=[],u={},h=function(p,g){for(var y=s.length-1,b=[],x=e.spawn();s[y].x!=p||s[y].y!=g;)b.push(s.pop().edge),y--;b.push(s.pop().edge),b.forEach(function(k){var E=k.connectedNodes().intersection(e);x.merge(k),E.forEach(function(w){var S=w.id(),C=w.connectedEdges().intersection(e);x.merge(w),t[S].cutVertex?x.merge(C.filter(function(_){return _.isLoop()})):x.merge(C)})}),i.push(x)},d=function(p,g,y){p===y&&(o+=1),t[g]={id:r,low:r++,cutVertex:!1};var b=e.getElementById(g).connectedEdges().intersection(e);if(b.size()===0)i.push(e.spawn(e.getElementById(g)));else{var x,k,E,w;b.forEach(function(S){x=S.source().id(),k=S.target().id(),E=x===g?k:x,E!==y&&(w=S.id(),u[w]||(u[w]=!0,s.push({x:g,y:E,edge:S})),E in t?t[g].low=Math.min(t[g].low,t[E].id):(d(p,E,g),t[g].low=Math.min(t[g].low,t[E].low),t[g].id<=t[E].low&&(t[g].cutVertex=!0,h(g,E))))})}};e.forEach(function(p){if(p.isNode()){var g=p.id();g in t||(o=0,d(g,g),t[g].cutVertex=o>1)}});var c=Object.keys(t).filter(function(p){return t[p].cutVertex}).map(function(p){return e.getElementById(p)});return{cut:e.spawn(c),components:i}},JC={hopcroftTarjanBiconnected:Ou,htbc:Ou,htb:Ou,hopcroftTarjanBiconnectedComponents:Ou},Lu=function(){var e=this,t={},r=0,o=[],i=[],s=e.spawn(e),u=function(h){i.push(h),t[h]={index:r,low:r++,explored:!1};var d=e.getElementById(h).connectedEdges().intersection(e);if(d.forEach(function(b){var x=b.target().id();x!==h&&(x in t||u(x),t[x].explored||(t[h].low=Math.min(t[h].low,t[x].low)))}),t[h].index===t[h].low){for(var c=e.spawn();;){var p=i.pop();if(c.merge(e.getElementById(p)),t[p].low=t[h].index,t[p].explored=!0,p===h)break}var g=c.edgesWith(c),y=c.merge(g);o.push(y),s=s.difference(y)}};return e.forEach(function(h){if(h.isNode()){var d=h.id();d in t||u(d)}}),{cut:s,components:o}},eT={tarjanStronglyConnected:Lu,tsc:Lu,tscc:Lu,tarjanStronglyConnectedComponents:Lu},Fx={};[Zl,NS,BS,AS,zS,OS,VS,hC,Ri,Ai,Lp,TC,FC,WC,GC,ZC,JC,eT].forEach(function(e){Ve(Fx,e)});var Vx=0,jx=1,Xx=2,Cr=function(e){if(!(this instanceof Cr))return new Cr(e);this.id="Thenable/1.0.7",this.state=Vx,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Cr.prototype={fulfill:function(e){return pb(this,jx,"fulfillValue",e)},reject:function(e){return pb(this,Xx,"rejectReason",e)},then:function(e,t){var r=this,o=new Cr;return r.onFulfilled.push(vb(e,o,"fulfill")),r.onRejected.push(vb(t,o,"reject")),Wx(r),o.proxy}};var pb=function(e,t,r,o){return e.state===Vx&&(e.state=t,e[r]=o,Wx(e)),e},Wx=function(e){e.state===jx?gb(e,"onFulfilled",e.fulfillValue):e.state===Xx&&gb(e,"onRejected",e.rejectReason)},gb=function(e,t,r){if(e[t].length!==0){var o=e[t];e[t]=[];var i=function(){for(var s=0;s<o.length;s++)o[s](r)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},vb=function(e,t,r){return function(o){if(typeof e!="function")t[r].call(t,o);else{var i;try{i=e(o)}catch(s){t.reject(s);return}Ux(t,i)}}},Ux=function(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(dn(t)==="object"&&t!==null||typeof t=="function")try{r=t.then}catch(i){e.reject(i);return}if(typeof r=="function"){var o=!1;try{r.call(t,function(i){o||(o=!0,i===t?e.reject(new TypeError("circular thenable chain")):Ux(e,i))},function(i){o||(o=!0,e.reject(i))})}catch(i){o||e.reject(i)}return}e.fulfill(t)};Cr.all=function(e){return new Cr(function(t,r){for(var o=new Array(e.length),i=0,s=function(h,d){o[h]=d,i++,i===e.length&&t(o)},u=0;u<e.length;u++)(function(h){var d=e[h],c=d!=null&&d.then!=null;if(c)d.then(function(g){s(h,g)},function(g){r(g)});else{var p=d;s(h,p)}})(u)})};Cr.resolve=function(e){return new Cr(function(t,r){t(e)})};Cr.reject=function(e){return new Cr(function(t,r){r(e)})};var Fi=typeof Promise<"u"?Promise:Cr,jp=function(e,t,r){var o=og(e),i=!o,s=this._private=Ve({duration:1e3},t,r);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Vt(s.complete)&&s.completes.push(s.complete),i){var u=e.position();s.startPosition=s.startPosition||{x:u.x,y:u.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(o){var h=e.pan();s.startPan={x:h.x,y:h.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Ao=jp.prototype;Ve(Ao,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;e.queue?t=r.queue:t=r.current,t.push(this),nr(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(h,d){var c=e[h];c!=null&&(e[h]=e[d],e[d]=c)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var o=0;o<e.style.length;o++){var i=e.style[o],s=i.name,u=e.startStyle[s];e.startStyle[s]=i,e.style[o]=u}return t&&this.play(),this},promise:function(e){var t=this._private,r;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new Fi(function(o,i){r.push(function(){o()})})}});Ao.complete=Ao.completed;Ao.run=Ao.play;Ao.running=Ao.playing;var tT={animated:function(){return function(){var e=this,t=e.length!==void 0,r=t?e:[e],o=this._private.cy||this;if(!o.styleEnabled())return!1;var i=r[0];if(i)return i._private.animation.current.length>0}},clearQueue:function(){return function(){var e=this,t=e.length!==void 0,r=t?e:[e],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var i=0;i<r.length;i++){var s=r[i];s._private.animation.queue=[]}return this}},delay:function(){return function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var r=this,o=r.length!==void 0,i=o?r:[r],s=this._private.cy||this,u=!o,h=!u;if(!s.styleEnabled())return this;var d=s.style();e=Ve({},e,t);var c=Object.keys(e).length===0;if(c)return new jp(i[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break}if(h&&(e.style=d.getPropsList(e.style||e.css),e.css=void 0),h&&e.renderedPosition!=null){var p=e.renderedPosition,g=s.pan(),y=s.zoom();e.position=Dx(p,y,g)}if(u&&e.panBy!=null){var b=e.panBy,x=s.pan();e.pan={x:x.x+b.x,y:x.y+b.y}}var k=e.center||e.centre;if(u&&k!=null){var E=s.getCenterPan(k.eles,e.zoom);E!=null&&(e.pan=E)}if(u&&e.fit!=null){var w=e.fit,S=s.getFitViewport(w.eles||w.boundingBox,w.padding);S!=null&&(e.pan=S.pan,e.zoom=S.zoom)}if(u&&ft(e.zoom)){var C=s.getZoomedViewport(e.zoom);C!=null?(C.zoomed&&(e.zoom=C.zoom),C.panned&&(e.pan=C.pan)):e.zoom=null}return new jp(i[0],e)}},animate:function(){return function(e,t){var r=this,o=r.length!==void 0,i=o?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return this;t&&(e=Ve({},e,t));for(var u=0;u<i.length;u++){var h=i[u],d=h.animated()&&(e.queue===void 0||e.queue),c=h.animation(e,d?{queue:!0}:void 0);c.play()}return this}},stop:function(){return function(e,t){var r=this,o=r.length!==void 0,i=o?r:[r],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<i.length;u++){for(var h=i[u],d=h._private,c=d.animation.current,p=0;p<c.length;p++){var g=c[p],y=g._private;t&&(y.duration=0)}e&&(d.animation.queue=[]),t||(d.animation.current=[])}return s.notify("draw"),this}}},wh,mb;function Pc(){if(mb)return wh;mb=1;var e=Array.isArray;return wh=e,wh}var kh,yb;function nT(){if(yb)return kh;yb=1;var e=Pc(),t=ds(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function i(s,u){if(e(s))return!1;var h=typeof s;return h=="number"||h=="symbol"||h=="boolean"||s==null||t(s)?!0:o.test(s)||!r.test(s)||u!=null&&s in Object(u)}return kh=i,kh}var Eh,bb;function rT(){if(bb)return Eh;bb=1;var e=xx(),t=cs(),r="[object AsyncFunction]",o="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function u(h){if(!t(h))return!1;var d=e(h);return d==o||d==i||d==r||d==s}return Eh=u,Eh}var Sh,xb;function aT(){if(xb)return Sh;xb=1;var e=Ec(),t=e["__core-js_shared__"];return Sh=t,Sh}var Ch,wb;function oT(){if(wb)return Ch;wb=1;var e=aT(),t=(function(){var o=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function r(o){return!!t&&t in o}return Ch=r,Ch}var Th,kb;function iT(){if(kb)return Th;kb=1;var e=Function.prototype,t=e.toString;function r(o){if(o!=null){try{return t.call(o)}catch{}try{return o+""}catch{}}return""}return Th=r,Th}var Ph,Eb;function lT(){if(Eb)return Ph;Eb=1;var e=rT(),t=oT(),r=cs(),o=iT(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,u=Function.prototype,h=Object.prototype,d=u.toString,c=h.hasOwnProperty,p=RegExp("^"+d.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!r(y)||t(y))return!1;var b=e(y)?p:s;return b.test(o(y))}return Ph=g,Ph}var _h,Sb;function sT(){if(Sb)return _h;Sb=1;function e(t,r){return t?.[r]}return _h=e,_h}var Dh,Cb;function vg(){if(Cb)return Dh;Cb=1;var e=lT(),t=sT();function r(o,i){var s=t(o,i);return e(s)?s:void 0}return Dh=r,Dh}var Nh,Tb;function _c(){if(Tb)return Nh;Tb=1;var e=vg(),t=e(Object,"create");return Nh=t,Nh}var Bh,Pb;function uT(){if(Pb)return Bh;Pb=1;var e=_c();function t(){this.__data__=e?e(null):{},this.size=0}return Bh=t,Bh}var Rh,_b;function cT(){if(_b)return Rh;_b=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Rh=e,Rh}var Ah,Db;function dT(){if(Db)return Ah;Db=1;var e=_c(),t="__lodash_hash_undefined__",r=Object.prototype,o=r.hasOwnProperty;function i(s){var u=this.__data__;if(e){var h=u[s];return h===t?void 0:h}return o.call(u,s)?u[s]:void 0}return Ah=i,Ah}var Mh,Nb;function fT(){if(Nb)return Mh;Nb=1;var e=_c(),t=Object.prototype,r=t.hasOwnProperty;function o(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return Mh=o,Mh}var zh,Bb;function hT(){if(Bb)return zh;Bb=1;var e=_c(),t="__lodash_hash_undefined__";function r(o,i){var s=this.__data__;return this.size+=this.has(o)?0:1,s[o]=e&&i===void 0?t:i,this}return zh=r,zh}var Ih,Rb;function pT(){if(Rb)return Ih;Rb=1;var e=uT(),t=cT(),r=dT(),o=fT(),i=hT();function s(u){var h=-1,d=u==null?0:u.length;for(this.clear();++h<d;){var c=u[h];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=o,s.prototype.set=i,Ih=s,Ih}var Oh,Ab;function gT(){if(Ab)return Oh;Ab=1;function e(){this.__data__=[],this.size=0}return Oh=e,Oh}var Lh,Mb;function qx(){if(Mb)return Lh;Mb=1;function e(t,r){return t===r||t!==t&&r!==r}return Lh=e,Lh}var Fh,zb;function Dc(){if(zb)return Fh;zb=1;var e=qx();function t(r,o){for(var i=r.length;i--;)if(e(r[i][0],o))return i;return-1}return Fh=t,Fh}var Vh,Ib;function vT(){if(Ib)return Vh;Ib=1;var e=Dc(),t=Array.prototype,r=t.splice;function o(i){var s=this.__data__,u=e(s,i);if(u<0)return!1;var h=s.length-1;return u==h?s.pop():r.call(s,u,1),--this.size,!0}return Vh=o,Vh}var jh,Ob;function mT(){if(Ob)return jh;Ob=1;var e=Dc();function t(r){var o=this.__data__,i=e(o,r);return i<0?void 0:o[i][1]}return jh=t,jh}var Xh,Lb;function yT(){if(Lb)return Xh;Lb=1;var e=Dc();function t(r){return e(this.__data__,r)>-1}return Xh=t,Xh}var Wh,Fb;function bT(){if(Fb)return Wh;Fb=1;var e=Dc();function t(r,o){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,o])):i[s][1]=o,this}return Wh=t,Wh}var Uh,Vb;function xT(){if(Vb)return Uh;Vb=1;var e=gT(),t=vT(),r=mT(),o=yT(),i=bT();function s(u){var h=-1,d=u==null?0:u.length;for(this.clear();++h<d;){var c=u[h];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=o,s.prototype.set=i,Uh=s,Uh}var qh,jb;function wT(){if(jb)return qh;jb=1;var e=vg(),t=Ec(),r=e(t,"Map");return qh=r,qh}var Yh,Xb;function kT(){if(Xb)return Yh;Xb=1;var e=pT(),t=xT(),r=wT();function o(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return Yh=o,Yh}var Kh,Wb;function ET(){if(Wb)return Kh;Wb=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return Kh=e,Kh}var $h,Ub;function Nc(){if(Ub)return $h;Ub=1;var e=ET();function t(r,o){var i=r.__data__;return e(o)?i[typeof o=="string"?"string":"hash"]:i.map}return $h=t,$h}var Hh,qb;function ST(){if(qb)return Hh;qb=1;var e=Nc();function t(r){var o=e(this,r).delete(r);return this.size-=o?1:0,o}return Hh=t,Hh}var Gh,Yb;function CT(){if(Yb)return Gh;Yb=1;var e=Nc();function t(r){return e(this,r).get(r)}return Gh=t,Gh}var Qh,Kb;function TT(){if(Kb)return Qh;Kb=1;var e=Nc();function t(r){return e(this,r).has(r)}return Qh=t,Qh}var Zh,$b;function PT(){if($b)return Zh;$b=1;var e=Nc();function t(r,o){var i=e(this,r),s=i.size;return i.set(r,o),this.size+=i.size==s?0:1,this}return Zh=t,Zh}var Jh,Hb;function _T(){if(Hb)return Jh;Hb=1;var e=kT(),t=ST(),r=CT(),o=TT(),i=PT();function s(u){var h=-1,d=u==null?0:u.length;for(this.clear();++h<d;){var c=u[h];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=o,s.prototype.set=i,Jh=s,Jh}var ep,Gb;function DT(){if(Gb)return ep;Gb=1;var e=_T(),t="Expected a function";function r(o,i){if(typeof o!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var u=arguments,h=i?i.apply(this,u):u[0],d=s.cache;if(d.has(h))return d.get(h);var c=o.apply(this,u);return s.cache=d.set(h,c)||d,c};return s.cache=new(r.Cache||e),s}return r.Cache=e,ep=r,ep}var tp,Qb;function NT(){if(Qb)return tp;Qb=1;var e=DT(),t=500;function r(o){var i=e(o,function(u){return s.size===t&&s.clear(),u}),s=i.cache;return i}return tp=r,tp}var np,Zb;function Yx(){if(Zb)return np;Zb=1;var e=NT(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(u,h,d,c){s.push(d?c.replace(r,"$1"):h||u)}),s});return np=o,np}var rp,Jb;function Kx(){if(Jb)return rp;Jb=1;function e(t,r){for(var o=-1,i=t==null?0:t.length,s=Array(i);++o<i;)s[o]=r(t[o],o,t);return s}return rp=e,rp}var ap,e1;function BT(){if(e1)return ap;e1=1;var e=lg(),t=Kx(),r=Pc(),o=ds(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function u(h){if(typeof h=="string")return h;if(r(h))return t(h,u)+"";if(o(h))return s?s.call(h):"";var d=h+"";return d=="0"&&1/h==-1/0?"-0":d}return ap=u,ap}var op,t1;function $x(){if(t1)return op;t1=1;var e=BT();function t(r){return r==null?"":e(r)}return op=t,op}var ip,n1;function Hx(){if(n1)return ip;n1=1;var e=Pc(),t=nT(),r=Yx(),o=$x();function i(s,u){return e(s)?s:t(s,u)?[s]:r(o(s))}return ip=i,ip}var lp,r1;function mg(){if(r1)return lp;r1=1;var e=ds();function t(r){if(typeof r=="string"||e(r))return r;var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}return lp=t,lp}var sp,a1;function RT(){if(a1)return sp;a1=1;var e=Hx(),t=mg();function r(o,i){i=e(i,o);for(var s=0,u=i.length;o!=null&&s<u;)o=o[t(i[s++])];return s&&s==u?o:void 0}return sp=r,sp}var up,o1;function AT(){if(o1)return up;o1=1;var e=RT();function t(r,o,i){var s=r==null?void 0:e(r,o);return s===void 0?i:s}return up=t,up}var MT=AT(),zT=us(MT),cp,i1;function IT(){if(i1)return cp;i1=1;var e=vg(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return cp=t,cp}var dp,l1;function OT(){if(l1)return dp;l1=1;var e=IT();function t(r,o,i){o=="__proto__"&&e?e(r,o,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[o]=i}return dp=t,dp}var fp,s1;function LT(){if(s1)return fp;s1=1;var e=OT(),t=qx(),r=Object.prototype,o=r.hasOwnProperty;function i(s,u,h){var d=s[u];(!(o.call(s,u)&&t(d,h))||h===void 0&&!(u in s))&&e(s,u,h)}return fp=i,fp}var hp,u1;function FT(){if(u1)return hp;u1=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(o,i){var s=typeof o;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(o))&&o>-1&&o%1==0&&o<i}return hp=r,hp}var pp,c1;function VT(){if(c1)return pp;c1=1;var e=LT(),t=Hx(),r=FT(),o=cs(),i=mg();function s(u,h,d,c){if(!o(u))return u;h=t(h,u);for(var p=-1,g=h.length,y=g-1,b=u;b!=null&&++p<g;){var x=i(h[p]),k=d;if(x==="__proto__"||x==="constructor"||x==="prototype")return u;if(p!=y){var E=b[x];k=c?c(E,x,b):void 0,k===void 0&&(k=o(E)?E:r(h[p+1])?[]:{})}e(b,x,k),b=b[x]}return u}return pp=s,pp}var gp,d1;function jT(){if(d1)return gp;d1=1;var e=VT();function t(r,o,i){return r==null?r:e(r,o,i)}return gp=t,gp}var XT=jT(),WT=us(XT),vp,f1;function UT(){if(f1)return vp;f1=1;function e(t,r){var o=-1,i=t.length;for(r||(r=Array(i));++o<i;)r[o]=t[o];return r}return vp=e,vp}var mp,h1;function qT(){if(h1)return mp;h1=1;var e=Kx(),t=UT(),r=Pc(),o=ds(),i=Yx(),s=mg(),u=$x();function h(d){return r(d)?e(d,s):o(d)?[d]:t(i(u(d)))}return mp=h,mp}var YT=qT(),KT=us(YT),$T={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(r){},beforeSet:function(r,o){},onSet:function(r){},canSet:function(r){return!0}};return e=Ve({},t,e),function(r,o){var i=e,s=this,u=s.length!==void 0,h=u?s:[s],d=u?s[0]:s;if(ze(r)){var c=r.indexOf(".")!==-1,p=c&&KT(r);if(i.allowGetting&&o===void 0){var g;return d&&(i.beforeGet(d),p&&d._private[i.field][r]===void 0?g=zT(d._private[i.field],p):g=d._private[i.field][r]),g}else if(i.allowSetting&&o!==void 0){var y=!i.immutableKeys[r];if(y){var b=cx({},r,o);i.beforeSet(s,b);for(var x=0,k=h.length;x<k;x++){var E=h[x];i.canSet(E)&&(p&&d._private[i.field][r]===void 0?WT(E._private[i.field],p,o):E._private[i.field][r]=o)}i.updateStyle&&s.updateStyle(),i.onSet(s),i.settingTriggersEvent&&s[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&ft(r)){var w=r,S,C,_=Object.keys(w);i.beforeSet(s,w);for(var N=0;N<_.length;N++){S=_[N],C=w[S];var M=!i.immutableKeys[S];if(M)for(var P=0;P<h.length;P++){var I=h[P];i.canSet(I)&&(I._private[i.field][S]=C)}}i.updateStyle&&s.updateStyle(),i.onSet(s),i.settingTriggersEvent&&s[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&Vt(r)){var L=r;s.on(i.bindingEvent,L)}else if(i.allowGetting&&r===void 0){var F;return d&&(i.beforeGet(d),F=d._private[i.field]),F}return s}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Ve({},t,e),function(r){var o=e,i=this,s=i.length!==void 0,u=s?i:[i];if(ze(r)){for(var h=r.split(/\s+/),d=h.length,c=0;c<d;c++){var p=h[c];if(!Ya(p)){var g=!o.immutableKeys[p];if(g)for(var y=0,b=u.length;y<b;y++)u[y]._private[o.field][p]=void 0}}o.triggerEvent&&i[o.triggerFnName](o.event)}else if(r===void 0){for(var x=0,k=u.length;x<k;x++)for(var E=u[x]._private[o.field],w=Object.keys(E),S=0;S<w.length;S++){var C=w[S],_=!o.immutableKeys[C];_&&(E[C]=void 0)}o.triggerEvent&&i[o.triggerFnName](o.event)}return i}}},HT={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,o){var i=this,s=Array.prototype.slice.call(arguments,0);return new Fi(function(u,h){var d=function(g){i.off.apply(i,p),u(g)},c=s.concat([d]),p=c.concat([]);i.on.apply(i,c)})}}},yt={};[tT,$T,HT].forEach(function(e){Ve(yt,e)});var GT={animate:yt.animate(),animation:yt.animation(),animated:yt.animated(),clearQueue:yt.clearQueue(),delay:yt.delay(),delayAnimation:yt.delayAnimation(),stop:yt.stop()},ec={classes:function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(b){return r.push(b)}),r}else _t(e)||(e=(e||"").match(/\S+/g)||[]);for(var o=[],i=new Li(e),s=0;s<t.length;s++){for(var u=t[s],h=u._private,d=h.classes,c=!1,p=0;p<e.length;p++){var g=e[p],y=d.has(g);if(!y){c=!0;break}}c||(c=d.size!==e.length),c&&(h.classes=i,o.push(u))}return o.length>0&&this.spawn(o).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){_t(e)||(e=e.match(/\S+/g)||[]);for(var r=this,o=t===void 0,i=[],s=0,u=r.length;s<u;s++)for(var h=r[s],d=h._private.classes,c=!1,p=0;p<e.length;p++){var g=e[p],y=d.has(g),b=!1;t||o&&!y?(d.add(g),b=!0):(!t||o&&y)&&(d.delete(g),b=!0),!c&&b&&(i.push(h),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r}};ec.className=ec.classNames=ec.classes;var ct={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:cn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ct.variable="(?:[\\w-.]|(?:\\\\"+ct.metaChar+"))+";ct.className="(?:[\\w-]|(?:\\\\"+ct.metaChar+"))+";ct.value=ct.string+"|"+ct.number;ct.id=ct.variable;(function(){var e,t,r;for(e=ct.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],ct.comparatorOp+="|@"+t;for(e=ct.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(ct.comparatorOp+="|\\!"+t)})();var Tt=function(){return{checks:[]}},Pe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Xp=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return $E(e.selector,t.selector)}),QT=(function(){for(var e={},t,r=0;r<Xp.length;r++)t=Xp[r],e[t.selector]=t.matches;return e})(),ZT=function(e,t){return QT[e](t)},JT="("+Xp.map(function(e){return e.selector}).join("|")+")",yi=function(e){return e.replace(new RegExp("\\\\("+ct.metaChar+")","g"),function(t,r){return r})},Oa=function(e,t,r){e[e.length-1]=r},Wp=[{name:"group",query:!0,regex:"("+ct.group+")",populate:function(e,t,r){var o=ln(r,1),i=o[0];t.checks.push({type:Pe.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:JT,populate:function(e,t,r){var o=ln(r,1),i=o[0];t.checks.push({type:Pe.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+ct.id+")",populate:function(e,t,r){var o=ln(r,1),i=o[0];t.checks.push({type:Pe.ID,value:yi(i)})}},{name:"className",query:!0,regex:"\\.("+ct.className+")",populate:function(e,t,r){var o=ln(r,1),i=o[0];t.checks.push({type:Pe.CLASS,value:yi(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ct.variable+")\\s*\\]",populate:function(e,t,r){var o=ln(r,1),i=o[0];t.checks.push({type:Pe.DATA_EXIST,field:yi(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ct.variable+")\\s*("+ct.comparatorOp+")\\s*("+ct.value+")\\s*\\]",populate:function(e,t,r){var o=ln(r,3),i=o[0],s=o[1],u=o[2],h=new RegExp("^"+ct.string+"$").exec(u)!=null;h?u=u.substring(1,u.length-1):u=parseFloat(u),t.checks.push({type:Pe.DATA_COMPARE,field:yi(i),operator:s,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ct.boolOp+")\\s*("+ct.variable+")\\s*\\]",populate:function(e,t,r){var o=ln(r,2),i=o[0],s=o[1];t.checks.push({type:Pe.DATA_BOOL,field:yi(s),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ct.meta+")\\s*("+ct.comparatorOp+")\\s*("+ct.number+")\\s*\\]\\]",populate:function(e,t,r){var o=ln(r,3),i=o[0],s=o[1],u=o[2];t.checks.push({type:Pe.META_COMPARE,field:yi(i),operator:s,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:ct.separator,populate:function(e,t){var r=e.currentSubject,o=e.edgeCount,i=e.compoundCount,s=e[e.length-1];r!=null&&(s.subject=r,e.currentSubject=null),s.edgeCount=o,s.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=Tt();return u}},{name:"directedEdge",separator:!0,regex:ct.directedEdge,populate:function(e,t){if(e.currentSubject==null){var r=Tt(),o=t,i=Tt();return r.checks.push({type:Pe.DIRECTED_EDGE,source:o,target:i}),Oa(e,t,r),e.edgeCount++,i}else{var s=Tt(),u=t,h=Tt();return s.checks.push({type:Pe.NODE_SOURCE,source:u,target:h}),Oa(e,t,s),e.edgeCount++,h}}},{name:"undirectedEdge",separator:!0,regex:ct.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var r=Tt(),o=t,i=Tt();return r.checks.push({type:Pe.UNDIRECTED_EDGE,nodes:[o,i]}),Oa(e,t,r),e.edgeCount++,i}else{var s=Tt(),u=t,h=Tt();return s.checks.push({type:Pe.NODE_NEIGHBOR,node:u,neighbor:h}),Oa(e,t,s),h}}},{name:"child",separator:!0,regex:ct.child,populate:function(e,t){if(e.currentSubject==null){var r=Tt(),o=Tt(),i=e[e.length-1];return r.checks.push({type:Pe.CHILD,parent:i,child:o}),Oa(e,t,r),e.compoundCount++,o}else if(e.currentSubject===t){var s=Tt(),u=e[e.length-1],h=Tt(),d=Tt(),c=Tt(),p=Tt();return s.checks.push({type:Pe.COMPOUND_SPLIT,left:u,right:h,subject:d}),d.checks=t.checks,t.checks=[{type:Pe.TRUE}],p.checks.push({type:Pe.TRUE}),h.checks.push({type:Pe.PARENT,parent:p,child:c}),Oa(e,u,s),e.currentSubject=d,e.compoundCount++,c}else{var g=Tt(),y=Tt(),b=[{type:Pe.PARENT,parent:g,child:y}];return g.checks=t.checks,t.checks=b,e.compoundCount++,y}}},{name:"descendant",separator:!0,regex:ct.descendant,populate:function(e,t){if(e.currentSubject==null){var r=Tt(),o=Tt(),i=e[e.length-1];return r.checks.push({type:Pe.DESCENDANT,ancestor:i,descendant:o}),Oa(e,t,r),e.compoundCount++,o}else if(e.currentSubject===t){var s=Tt(),u=e[e.length-1],h=Tt(),d=Tt(),c=Tt(),p=Tt();return s.checks.push({type:Pe.COMPOUND_SPLIT,left:u,right:h,subject:d}),d.checks=t.checks,t.checks=[{type:Pe.TRUE}],p.checks.push({type:Pe.TRUE}),h.checks.push({type:Pe.ANCESTOR,ancestor:p,descendant:c}),Oa(e,u,s),e.currentSubject=d,e.compoundCount++,c}else{var g=Tt(),y=Tt(),b=[{type:Pe.ANCESTOR,ancestor:g,descendant:y}];return g.checks=t.checks,t.checks=b,e.compoundCount++,y}}},{name:"subject",modifier:!0,regex:ct.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return bt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1],o=r.checks[0],i=o==null?null:o.type;i===Pe.DIRECTED_EDGE?o.type=Pe.NODE_TARGET:i===Pe.UNDIRECTED_EDGE&&(o.type=Pe.NODE_NEIGHBOR,o.node=o.nodes[1],o.neighbor=o.nodes[0],o.nodes=null)}}];Wp.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var eP=function(e){for(var t,r,o,i=0;i<Wp.length;i++){var s=Wp[i],u=s.name,h=e.match(s.regexObj);if(h!=null){r=h,t=s,o=u;var d=h[0];e=e.substring(d.length);break}}return{expr:t,match:r,name:o,remaining:e}},tP=function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},nP=function(e){var t=this,r=t.inputText=e,o=t[0]=Tt();for(t.length=1,r=tP(r);;){var i=eP(r);if(i.expr==null)return bt("The selector `"+e+"`is invalid"),!1;var s=i.match.slice(1),u=i.expr.populate(t,o,s);if(u===!1)return!1;if(u!=null&&(o=u),r=i.remaining,r.match(/^\s*$/))break}var h=t[t.length-1];t.currentSubject!=null&&(h.subject=t.currentSubject),h.edgeCount=t.edgeCount,h.compoundCount=t.compoundCount;for(var d=0;d<t.length;d++){var c=t[d];if(c.compoundCount>0&&c.edgeCount>0)return bt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return bt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&bt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},rP=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(d){return d??""},t=function(d){return ze(d)?'"'+d+'"':e(d)},r=function(d){return" "+d+" "},o=function(d,c){var p=d.type,g=d.value;switch(p){case Pe.GROUP:{var y=e(g);return y.substring(0,y.length-1)}case Pe.DATA_COMPARE:{var b=d.field,x=d.operator;return"["+b+r(e(x))+t(g)+"]"}case Pe.DATA_BOOL:{var k=d.operator,E=d.field;return"["+e(k)+E+"]"}case Pe.DATA_EXIST:{var w=d.field;return"["+w+"]"}case Pe.META_COMPARE:{var S=d.operator,C=d.field;return"[["+C+r(e(S))+t(g)+"]]"}case Pe.STATE:return g;case Pe.ID:return"#"+g;case Pe.CLASS:return"."+g;case Pe.PARENT:case Pe.CHILD:return i(d.parent,c)+r(">")+i(d.child,c);case Pe.ANCESTOR:case Pe.DESCENDANT:return i(d.ancestor,c)+" "+i(d.descendant,c);case Pe.COMPOUND_SPLIT:{var _=i(d.left,c),N=i(d.subject,c),M=i(d.right,c);return _+(_.length>0?" ":"")+N+M}case Pe.TRUE:return""}},i=function(d,c){return d.checks.reduce(function(p,g,y){return p+(c===d&&y===0?"$":"")+o(g,c)},"")},s="",u=0;u<this.length;u++){var h=this[u];s+=i(h,h.subject),this.length>1&&u<this.length-1&&(s+=", ")}return this.toStringCache=s,s},aP={parse:nP,toString:rP},Gx=function(e,t,r){var o,i=ze(e),s=ke(e),u=ze(r),h,d,c=!1,p=!1,g=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),p=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(i||u||c)&&(h=!i&&!s?"":""+e,d=""+r),c&&(e=h=h.toLowerCase(),r=d=d.toLowerCase()),t){case"*=":o=h.indexOf(d)>=0;break;case"$=":o=h.indexOf(d,h.length-d.length)>=0;break;case"^=":o=h.indexOf(d)===0;break;case"=":o=e===r;break;case">":g=!0,o=e>r;break;case">=":g=!0,o=e>=r;break;case"<":g=!0,o=e<r;break;case"<=":g=!0,o=e<=r;break;default:o=!1;break}return p&&(e!=null||!g)&&(o=!o),o},oP=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},iP=function(e){return e!==void 0},yg=function(e,t){return e.data(t)},lP=function(e,t){return e[t]()},Yt=[],Mt=function(e,t){return e.checks.every(function(r){return Yt[r.type](r,t)})};Yt[Pe.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};Yt[Pe.STATE]=function(e,t){var r=e.value;return ZT(r,t)};Yt[Pe.ID]=function(e,t){var r=e.value;return t.id()===r};Yt[Pe.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};Yt[Pe.META_COMPARE]=function(e,t){var r=e.field,o=e.operator,i=e.value;return Gx(lP(t,r),o,i)};Yt[Pe.DATA_COMPARE]=function(e,t){var r=e.field,o=e.operator,i=e.value;return Gx(yg(t,r),o,i)};Yt[Pe.DATA_BOOL]=function(e,t){var r=e.field,o=e.operator;return oP(yg(t,r),o)};Yt[Pe.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,iP(yg(t,r))};Yt[Pe.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],o=e.nodes[1],i=t.source(),s=t.target();return Mt(r,i)&&Mt(o,s)||Mt(o,i)&&Mt(r,s)};Yt[Pe.NODE_NEIGHBOR]=function(e,t){return Mt(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&Mt(e.neighbor,r)})};Yt[Pe.DIRECTED_EDGE]=function(e,t){return Mt(e.source,t.source())&&Mt(e.target,t.target())};Yt[Pe.NODE_SOURCE]=function(e,t){return Mt(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&Mt(e.target,r)})};Yt[Pe.NODE_TARGET]=function(e,t){return Mt(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&Mt(e.source,r)})};Yt[Pe.CHILD]=function(e,t){return Mt(e.child,t)&&Mt(e.parent,t.parent())};Yt[Pe.PARENT]=function(e,t){return Mt(e.parent,t)&&t.children().some(function(r){return Mt(e.child,r)})};Yt[Pe.DESCENDANT]=function(e,t){return Mt(e.descendant,t)&&t.ancestors().some(function(r){return Mt(e.ancestor,r)})};Yt[Pe.ANCESTOR]=function(e,t){return Mt(e.ancestor,t)&&t.descendants().some(function(r){return Mt(e.descendant,r)})};Yt[Pe.COMPOUND_SPLIT]=function(e,t){return Mt(e.subject,t)&&Mt(e.left,t)&&Mt(e.right,t)};Yt[Pe.TRUE]=function(){return!0};Yt[Pe.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};Yt[Pe.FILTER]=function(e,t){var r=e.value;return r(t)};var sP=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===Pe.ID)return e.getElementById(t[0].checks[0].value).collection();var r=function(o){for(var i=0;i<t.length;i++){var s=t[i];if(Mt(s,o))return!0}return!1};return t.text()==null&&(r=function(){return!0}),e.filter(r)},uP=function(e){for(var t=this,r=0;r<t.length;r++){var o=t[r];if(Mt(o,e))return!0}return!1},cP={matches:uP,filter:sP},Ha=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||ze(e)&&e.match(/^\s*$/)||(nr(e)?this.addQuery({checks:[{type:Pe.COLLECTION,value:e.collection()}]}):Vt(e)?this.addQuery({checks:[{type:Pe.FILTER,value:e}]}):ze(e)?this.parse(e)||(this.invalid=!0):Lt("A selector must be created from a string; found "))},Ga=Ha.prototype;[aP,cP].forEach(function(e){return Ve(Ga,e)});Ga.text=function(){return this.inputText};Ga.size=function(){return this.length};Ga.eq=function(e){return this[e]};Ga.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};Ga.addQuery=function(e){this[this.length++]=e};Ga.selector=Ga.toString;var Ua={allAre:function(e){var t=new Ha(e);return this.every(function(r){return t.matches(r)})},is:function(e){var t=new Ha(e);return this.some(function(r){return t.matches(r)})},some:function(e,t){for(var r=0;r<this.length;r++){var o=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(o)return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){var o=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!o)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,r=e.length;return t!==r?!1:t===1?this[0]===e[0]:this.every(function(o){return e.hasElementWithId(o.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})}};Ua.allAreNeighbours=Ua.allAreNeighbors;Ua.has=Ua.contains;Ua.equal=Ua.equals=Ua.same;var pr=function(e,t){return function(r,o,i,s){var u=r,h=this,d;if(u==null?d="":nr(u)&&u.length===1&&(d=u.id()),h.length===1&&d){var c=h[0]._private,p=c.traversalCache=c.traversalCache||{},g=p[t]=p[t]||[],y=Bo(d),b=g[y];return b||(g[y]=e.call(h,r,o,i,s))}else return e.call(h,r,o,i,s)}},Oi={parent:function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var o=0;o<this.length;o++){var i=this[o],s=i._private.parent;s&&t.push(s)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var o=0;o<r.length;o++){var i=r[o];t.push(i)}r=r.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var o=this[r],i=o.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:pr(function(e){for(var t=[],r=0;r<this.length;r++)for(var o=this[r],i=o._private.children,s=0;s<i.length;s++)t.push(i[s]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function r(o){for(var i=0;i<o.length;i++){var s=o[i];t.push(s),s.children().nonempty()&&r(s.children())}}return r(this.children()),this.spawn(t,!0).filter(e)}};function bg(e,t,r,o){for(var i=[],s=new Li,u=e.cy(),h=u.hasCompoundNodes(),d=0;d<e.length;d++){var c=e[d];r?i.push(c):h&&o(i,s,c)}for(;i.length>0;){var p=i.shift();t(p),s.add(p.id()),h&&o(i,s,p)}return e}function Qx(e,t,r){if(r.isParent())for(var o=r._private.children,i=0;i<o.length;i++){var s=o[i];t.has(s.id())||e.push(s)}}Oi.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return bg(this,e,t,Qx)};function Zx(e,t,r){if(r.isChild()){var o=r._private.parent;t.has(o.id())||e.push(o)}}Oi.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return bg(this,e,t,Zx)};function dP(e,t,r){Zx(e,t,r),Qx(e,t,r)}Oi.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return bg(this,e,t,dP)};Oi.ancestors=Oi.parents;var ts,Jx;ts=Jx={data:yt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:yt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:yt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:yt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:yt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:yt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};ts.attr=ts.data;ts.removeAttr=ts.removeData;var fP=Jx,Bc={};function yp(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var o=0,i=r[0],s=i._private.edges,u=0;u<s.length;u++){var h=s[u];!t&&h.isLoop()||(o+=e(i,h))}return o}else return}}Ve(Bc,{degree:yp(function(e,t){return t.source().same(t.target())?2:1}),indegree:yp(function(e,t){return t.target().same(e)?1:0}),outdegree:yp(function(e,t){return t.source().same(e)?1:0})});function bi(e,t){return function(r){for(var o,i=this.nodes(),s=0;s<i.length;s++){var u=i[s],h=u[e](r);h!==void 0&&(o===void 0||t(h,o))&&(o=h)}return o}}Ve(Bc,{minDegree:bi("degree",function(e,t){return e<t}),maxDegree:bi("degree",function(e,t){return e>t}),minIndegree:bi("indegree",function(e,t){return e<t}),maxIndegree:bi("indegree",function(e,t){return e>t}),minOutdegree:bi("outdegree",function(e,t){return e<t}),maxOutdegree:bi("outdegree",function(e,t){return e>t})});Ve(Bc,{totalDegree:function(e){for(var t=0,r=this.nodes(),o=0;o<r.length;o++)t+=r[o].degree(e);return t}});var Sr,ew,tw=function(e,t,r){for(var o=0;o<e.length;o++){var i=e[o];if(!i.locked()){var s=i._private.position,u={x:t.x!=null?t.x-s.x:0,y:t.y!=null?t.y-s.y:0};i.isParent()&&!(u.x===0&&u.y===0)&&i.children().shift(u,r),i.dirtyBoundingBoxCache()}}},p1={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){tw(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Sr=ew={position:yt.data(p1),silentPosition:yt.data(Ve({},p1,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){tw(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(ft(e))t?this.silentPosition(e):this.position(e);else if(Vt(e)){var r=e,o=this.cy();o.startBatch();for(var i=0;i<this.length;i++){var s=this[i],u=void 0;(u=r(s,i))&&(t?s.silentPosition(u):s.position(u))}o.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,r){var o;if(ft(e)?(o={x:ke(e.x)?e.x:0,y:ke(e.y)?e.y:0},r=t):ze(e)&&ke(t)&&(o={x:0,y:0},o[e]=t),o!=null){var i=this.cy();i.startBatch();for(var s=0;s<this.length;s++){var u=this[s];if(!(i.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var h=u.position(),d={x:h.x+o.x,y:h.y+o.y};r?u.silentPosition(d):u.position(d)}}i.endBatch()}return this},silentShift:function(e,t){return ft(e)?this.shift(e,!0):ze(e)&&ke(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var r=this[0],o=this.cy(),i=o.zoom(),s=o.pan(),u=ft(e)?e:void 0,h=u!==void 0||t!==void 0&&ze(e);if(r&&r.isNode())if(h)for(var d=0;d<this.length;d++){var c=this[d];t!==void 0?c.position(e,(t-s[e])/i):u!==void 0&&c.position(Dx(u,i,s))}else{var p=r.position();return u=Cc(p,i,s),e===void 0?u:u[e]}else if(!h)return;return this},relativePosition:function(e,t){var r=this[0],o=this.cy(),i=ft(e)?e:void 0,s=i!==void 0||t!==void 0&&ze(e),u=o.hasCompoundNodes();if(r&&r.isNode())if(s)for(var h=0;h<this.length;h++){var d=this[h],c=u?d.parent():null,p=c&&c.length>0,g=p;p&&(c=c[0]);var y=g?c.position():{x:0,y:0};t!==void 0?d.position(e,t+y[e]):i!==void 0&&d.position({x:i.x+y.x,y:i.y+y.y})}else{var b=r.position(),x=u?r.parent():null,k=x&&x.length>0,E=k;k&&(x=x[0]);var w=E?x.position():{x:0,y:0};return i={x:b.x-w.x,y:b.y-w.y},e===void 0?i:i[e]}else if(!s)return;return this}};Sr.modelPosition=Sr.point=Sr.position;Sr.modelPositions=Sr.points=Sr.positions;Sr.renderedPoint=Sr.renderedPosition;Sr.relativePoint=Sr.relativePosition;var hP=ew,Mi,eo;Mi=eo={};eo.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),o=r.zoom(),i=r.pan(),s=t.x1*o+i.x,u=t.x2*o+i.x,h=t.y1*o+i.y,d=t.y2*o+i.y;return{x1:s,x2:u,y1:h,y2:d,w:u-s,h:d-h}};eo.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var o=r._private;o.compoundBoundsClean=!1,o.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};eo.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(u){if(!u.isParent())return;var h=u._private,d=u.children(),c=u.pstyle("compound-sizing-wrt-labels").value==="include",p={width:{val:u.pstyle("min-width").pfValue,left:u.pstyle("min-width-bias-left"),right:u.pstyle("min-width-bias-right")},height:{val:u.pstyle("min-height").pfValue,top:u.pstyle("min-height-bias-top"),bottom:u.pstyle("min-height-bias-bottom")}},g=d.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),y=h.position;(g.w===0||g.h===0)&&(g={w:u.pstyle("width").pfValue,h:u.pstyle("height").pfValue},g.x1=y.x-g.w/2,g.x2=y.x+g.w/2,g.y1=y.y-g.h/2,g.y2=y.y+g.h/2);function b(L,F,O){var A=0,U=0,j=F+O;return L>0&&j>0&&(A=F/j*L,U=O/j*L),{biasDiff:A,biasComplementDiff:U}}function x(L,F,O,A){if(O.units==="%")switch(A){case"width":return L>0?O.pfValue*L:0;case"height":return F>0?O.pfValue*F:0;case"average":return L>0&&F>0?O.pfValue*(L+F)/2:0;case"min":return L>0&&F>0?L>F?O.pfValue*F:O.pfValue*L:0;case"max":return L>0&&F>0?L>F?O.pfValue*L:O.pfValue*F:0;default:return 0}else return O.units==="px"?O.pfValue:0}var k=p.width.left.value;p.width.left.units==="px"&&p.width.val>0&&(k=k*100/p.width.val);var E=p.width.right.value;p.width.right.units==="px"&&p.width.val>0&&(E=E*100/p.width.val);var w=p.height.top.value;p.height.top.units==="px"&&p.height.val>0&&(w=w*100/p.height.val);var S=p.height.bottom.value;p.height.bottom.units==="px"&&p.height.val>0&&(S=S*100/p.height.val);var C=b(p.width.val-g.w,k,E),_=C.biasDiff,N=C.biasComplementDiff,M=b(p.height.val-g.h,w,S),P=M.biasDiff,I=M.biasComplementDiff;h.autoPadding=x(g.w,g.h,u.pstyle("padding"),u.pstyle("padding-relative-to").value),h.autoWidth=Math.max(g.w,p.width.val),y.x=(-_+g.x1+g.x2+N)/2,h.autoHeight=Math.max(g.h,p.height.val),y.y=(-P+g.y1+g.y2+I)/2}for(var o=0;o<this.length;o++){var i=this[o],s=i._private;(!s.compoundBoundsClean||e)&&(r(i),t.batching()||(s.compoundBoundsClean=!0))}return this};var hr=function(e){return e===1/0||e===-1/0?0:e},Er=function(e,t,r,o,i){o-t===0||i-r===0||t==null||r==null||o==null||i==null||(e.x1=t<e.x1?t:e.x1,e.x2=o>e.x2?o:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Va=function(e,t){return t==null?e:Er(e,t.x1,t.y1,t.x2,t.y2)},Il=function(e,t,r){return Un(e,t,r)},Fu=function(e,t,r){if(!t.cy().headless()){var o=t._private,i=o.rstyle,s=i.arrowWidth/2,u=t.pstyle(r+"-arrow-shape").value,h,d;if(u!=="none"){r==="source"?(h=i.srcX,d=i.srcY):r==="target"?(h=i.tgtX,d=i.tgtY):(h=i.midX,d=i.midY);var c=o.arrowBounds=o.arrowBounds||{},p=c[r]=c[r]||{};p.x1=h-s,p.y1=d-s,p.x2=h+s,p.y2=d+s,p.w=p.x2-p.x1,p.h=p.y2-p.y1,Zu(p,1),Er(e,p.x1,p.y1,p.x2,p.y2)}}},bp=function(e,t,r){if(!t.cy().headless()){var o;r?o=r+"-":o="";var i=t._private,s=i.rstyle,u=t.pstyle(o+"label").strValue;if(u){var h=t.pstyle("text-halign"),d=t.pstyle("text-valign"),c=Il(s,"labelWidth",r),p=Il(s,"labelHeight",r),g=Il(s,"labelX",r),y=Il(s,"labelY",r),b=t.pstyle(o+"text-margin-x").pfValue,x=t.pstyle(o+"text-margin-y").pfValue,k=t.isEdge(),E=t.pstyle(o+"text-rotation"),w=t.pstyle("text-outline-width").pfValue,S=t.pstyle("text-border-width").pfValue,C=S/2,_=t.pstyle("text-background-padding").pfValue,N=2,M=p,P=c,I=P/2,L=M/2,F,O,A,U;if(k)F=g-I,O=g+I,A=y-L,U=y+L;else{switch(h.value){case"left":F=g-P,O=g;break;case"center":F=g-I,O=g+I;break;case"right":F=g,O=g+P;break}switch(d.value){case"top":A=y-M,U=y;break;case"center":A=y-L,U=y+L;break;case"bottom":A=y,U=y+M;break}}var j=b-Math.max(w,C)-_-N,$=b+Math.max(w,C)+_+N,z=x-Math.max(w,C)-_-N,V=x+Math.max(w,C)+_+N;F+=j,O+=$,A+=z,U+=V;var W=r||"main",q=i.labelBounds,Z=q[W]=q[W]||{};Z.x1=F,Z.y1=A,Z.x2=O,Z.y2=U,Z.w=O-F,Z.h=U-A,Z.leftPad=j,Z.rightPad=$,Z.topPad=z,Z.botPad=V;var R=k&&E.strValue==="autorotate",X=E.pfValue!=null&&E.pfValue!==0;if(R||X){var H=R?Il(i.rstyle,"labelAngle",r):E.pfValue,ee=Math.cos(H),de=Math.sin(H),se=(F+O)/2,pe=(A+U)/2;if(!k){switch(h.value){case"left":se=O;break;case"right":se=F;break}switch(d.value){case"top":pe=U;break;case"bottom":pe=A;break}}var be=function($e,Fe){return $e=$e-se,Fe=Fe-pe,{x:$e*ee-Fe*de+se,y:$e*de+Fe*ee+pe}},Q=be(F,A),te=be(F,U),ne=be(O,A),ve=be(O,U);F=Math.min(Q.x,te.x,ne.x,ve.x),O=Math.max(Q.x,te.x,ne.x,ve.x),A=Math.min(Q.y,te.y,ne.y,ve.y),U=Math.max(Q.y,te.y,ne.y,ve.y)}var we=W+"Rot",Ee=q[we]=q[we]||{};Ee.x1=F,Ee.y1=A,Ee.x2=O,Ee.y2=U,Ee.w=O-F,Ee.h=U-A,Er(e,F,A,O,U),Er(i.labelBounds.all,F,A,O,U)}return e}},g1=function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,o=t.pstyle("outline-width").value,i=t.pstyle("outline-offset").value,s=o+i;nw(e,t,r,s,"outside",s/2)}},nw=function(e,t,r,o,i,s){if(!(r===0||o<=0||i==="inside")){var u=t.cy(),h=t.pstyle("shape").value,d=u.renderer().nodeShapes[h],c=t.position(),p=c.x,g=c.y,y=t.width(),b=t.height();if(d.hasMiterBounds){i==="center"&&(o/=2);var x=d.miterBounds(p,g,y,b,o);Va(e,x)}else s!=null&&s>0&&Ju(e,[s,s,s,s])}},pP=function(e,t){if(!t.cy().headless()){var r=t.pstyle("border-opacity").value,o=t.pstyle("border-width").pfValue,i=t.pstyle("border-position").value;nw(e,t,r,o,i)}},gP=function(e,t){var r=e._private.cy,o=r.styleEnabled(),i=r.headless(),s=In(),u=e._private,h=e.isNode(),d=e.isEdge(),c,p,g,y,b,x,k=u.rstyle,E=h&&o?e.pstyle("bounds-expansion").pfValue:[0],w=function(Ee){return Ee.pstyle("display").value!=="none"},S=!o||w(e)&&(!d||w(e.source())&&w(e.target()));if(S){var C=0,_=0;o&&t.includeOverlays&&(C=e.pstyle("overlay-opacity").value,C!==0&&(_=e.pstyle("overlay-padding").value));var N=0,M=0;o&&t.includeUnderlays&&(N=e.pstyle("underlay-opacity").value,N!==0&&(M=e.pstyle("underlay-padding").value));var P=Math.max(_,M),I=0,L=0;if(o&&(I=e.pstyle("width").pfValue,L=I/2),h&&t.includeNodes){var F=e.position();b=F.x,x=F.y;var O=e.outerWidth(),A=O/2,U=e.outerHeight(),j=U/2;c=b-A,p=b+A,g=x-j,y=x+j,Er(s,c,g,p,y),o&&g1(s,e),o&&t.includeOutlines&&!i&&g1(s,e),o&&pP(s,e)}else if(d&&t.includeEdges)if(o&&!i){var $=e.pstyle("curve-style").strValue;if(c=Math.min(k.srcX,k.midX,k.tgtX),p=Math.max(k.srcX,k.midX,k.tgtX),g=Math.min(k.srcY,k.midY,k.tgtY),y=Math.max(k.srcY,k.midY,k.tgtY),c-=L,p+=L,g-=L,y+=L,Er(s,c,g,p,y),$==="haystack"){var z=k.haystackPts;if(z&&z.length===2){if(c=z[0].x,g=z[0].y,p=z[1].x,y=z[1].y,c>p){var V=c;c=p,p=V}if(g>y){var W=g;g=y,y=W}Er(s,c-L,g-L,p+L,y+L)}}else if($==="bezier"||$==="unbundled-bezier"||ja($,"segments")||ja($,"taxi")){var q;switch($){case"bezier":case"unbundled-bezier":q=k.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":q=k.linePts;break}if(q!=null)for(var Z=0;Z<q.length;Z++){var R=q[Z];c=R.x-L,p=R.x+L,g=R.y-L,y=R.y+L,Er(s,c,g,p,y)}}}else{var X=e.source(),H=X.position(),ee=e.target(),de=ee.position();if(c=H.x,p=de.x,g=H.y,y=de.y,c>p){var se=c;c=p,p=se}if(g>y){var pe=g;g=y,y=pe}c-=L,p+=L,g-=L,y+=L,Er(s,c,g,p,y)}if(o&&t.includeEdges&&d&&(Fu(s,e,"mid-source"),Fu(s,e,"mid-target"),Fu(s,e,"source"),Fu(s,e,"target")),o){var be=e.pstyle("ghost").value==="yes";if(be){var Q=e.pstyle("ghost-offset-x").pfValue,te=e.pstyle("ghost-offset-y").pfValue;Er(s,s.x1+Q,s.y1+te,s.x2+Q,s.y2+te)}}var ne=u.bodyBounds=u.bodyBounds||{};eb(ne,s),Ju(ne,E),Zu(ne,1),o&&(c=s.x1,p=s.x2,g=s.y1,y=s.y2,Er(s,c-P,g-P,p+P,y+P));var ve=u.overlayBounds=u.overlayBounds||{};eb(ve,s),Ju(ve,E),Zu(ve,1);var we=u.labelBounds=u.labelBounds||{};we.all!=null?GS(we.all):we.all=In(),o&&t.includeLabels&&(t.includeMainLabels&&bp(s,e,null),d&&(t.includeSourceLabels&&bp(s,e,"source"),t.includeTargetLabels&&bp(s,e,"target")))}return s.x1=hr(s.x1),s.y1=hr(s.y1),s.x2=hr(s.x2),s.y2=hr(s.y2),s.w=hr(s.x2-s.x1),s.h=hr(s.y2-s.y1),s.w>0&&s.h>0&&S&&(Ju(s,E),Zu(s,1)),s},rw=function(e){var t=0,r=function(i){return(i?1:0)<<t++},o=0;return o+=r(e.incudeNodes),o+=r(e.includeEdges),o+=r(e.includeLabels),o+=r(e.includeMainLabels),o+=r(e.includeSourceLabels),o+=r(e.includeTargetLabels),o+=r(e.includeOverlays),o+=r(e.includeOutlines),o},aw=function(e){var t=function(s){return Math.round(s)};if(e.isEdge()){var r=e.source().position(),o=e.target().position();return K0([t(r.x),t(r.y),t(o.x),t(o.y)])}else{var i=e.position();return K0([t(i.x),t(i.y)])}},v1=function(e,t){var r=e._private,o,i=e.isEdge(),s=t==null?m1:rw(t),u=s===m1;if(r.bbCache==null?(o=gP(e,ns),r.bbCache=o,r.bbCachePosKey=aw(e)):o=r.bbCache,!u){var h=e.isNode();o=In(),(t.includeNodes&&h||t.includeEdges&&!h)&&(t.includeOverlays?Va(o,r.overlayBounds):Va(o,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?Va(o,r.labelBounds.all):(t.includeMainLabels&&Va(o,r.labelBounds.mainRot),t.includeSourceLabels&&Va(o,r.labelBounds.sourceRot),t.includeTargetLabels&&Va(o,r.labelBounds.targetRot))),o.w=o.x2-o.x1,o.h=o.y2-o.y1}return o},ns={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},m1=rw(ns),y1=Sn(ns);eo.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,o=zi(function(p){var g=p._private;return g.bbCache==null||g.styleDirty||g.bbCachePosKey!==aw(p)},function(p){return p.id()});if(r&&this.length===1&&!o(this[0]))e===void 0?e=ns:e=y1(e),t=v1(this[0],e);else{t=In(),e=e||ns;var i=y1(e),s=this,u=s.cy(),h=u.styleEnabled();this.edges().forEach(o),this.nodes().forEach(o),h&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var d=0;d<s.length;d++){var c=s[d];o(c)&&c.dirtyBoundingBoxCache(),Va(t,v1(c,i))}}return t.x1=hr(t.x1),t.y1=hr(t.y1),t.x2=hr(t.x2),t.y2=hr(t.y2),t.w=hr(t.x2-t.x1),t.h=hr(t.y2-t.y1),t};eo.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};eo.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),o=r.hasCompoundNodes(),i=r.collection();if(o&&(i=t.filter(function(c){return c.isParent()}),t=t.not(i)),ft(e)){var s=e;e=function(){return s}}var u=function(c,p){return c._private.bbAtOldPos=e(c,p)},h=function(c){return c._private.bbAtOldPos};r.startBatch(),t.forEach(u).silentPositions(e),o&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var d=HS(this.boundingBox({useCache:!1}));return t.silentPositions(h),o&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),d};Mi.boundingbox=Mi.bb=Mi.boundingBox;Mi.renderedBoundingbox=Mi.renderedBoundingBox;var vP=eo,ql,ps;ql=ps={};var ow=function(e){e.uppercaseName=R0(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=R0(e.outerName),ql[e.name]=function(){var t=this[0],r=t._private,o=r.cy,i=o._private.styleEnabled;if(t)if(i){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var s=t.pstyle(e.name);return s.strValue==="label"?(t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0):s.pfValue}else return 1},ql["outer"+e.uppercaseName]=function(){var t=this[0],r=t._private,o=r.cy,i=o._private.styleEnabled;if(t)if(i){var s=t[e.name](),u=t.pstyle("border-position").value,h;u==="center"?h=t.pstyle("border-width").pfValue:u==="outside"?h=2*t.pstyle("border-width").pfValue:h=0;var d=2*t.padding();return s+h+d}else return 1},ql["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){var r=t[e.name]();return r*this.cy().zoom()}},ql["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){var r=t[e.outerName]();return r*this.cy().zoom()}}};ow({name:"width"});ow({name:"height"});ps.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};ps.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};ps.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var mP=ps,yP=function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)},bP=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy();return Cc(t(e),r.zoom(),r.pan())}},xP=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy(),o=r.pan(),i=r.zoom();return t(e).map(function(s){return Cc(s,i,o)})}},wP=function(e){return e.renderer().getControlPoints(e)},kP=function(e){return e.renderer().getSegmentPoints(e)},EP=function(e){return e.renderer().getSourceEndpoint(e)},SP=function(e){return e.renderer().getTargetEndpoint(e)},CP=function(e){return e.renderer().getEdgeMidpoint(e)},b1={controlPoints:{get:wP,mult:!0},segmentPoints:{get:kP,mult:!0},sourceEndpoint:{get:EP},targetEndpoint:{get:SP},midpoint:{get:CP}},TP=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},PP=Object.keys(b1).reduce(function(e,t){var r=b1[t],o=TP(t);return e[t]=function(){return yP(this,r.get)},r.mult?e[o]=function(){return xP(this,r.get)}:e[o]=function(){return bP(this,r.get)},e},{}),_P=Ve({},hP,vP,mP,PP),iw=function(e,t){this.recycle(e,t)};function Ol(){return!1}function Vu(){return!0}iw.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ol,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Vu:Ol):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,o=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*o+i.x,y:r.y*o+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Vu;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Vu;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Vu,this.stopPropagation()},isDefaultPrevented:Ol,isPropagationStopped:Ol,isImmediatePropagationStopped:Ol};var lw=/^([^.]+)(\.(?:[^.]+))?$/,DP=".*",sw={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},x1=Object.keys(sw),NP={};function Rc(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NP,t=arguments.length>1?arguments[1]:void 0,r=0;r<x1.length;r++){var o=x1[r];this[o]=e[o]||sw[o]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Qa=Rc.prototype,uw=function(e,t,r,o,i,s,u){Vt(o)&&(i=o,o=null),u&&(s==null?s=u:s=Ve({},s,u));for(var h=_t(r)?r:r.split(/\s+/),d=0;d<h.length;d++){var c=h[d];if(!Ya(c)){var p=c.match(lw);if(p){var g=p[1],y=p[2]?p[2]:null,b=t(e,c,g,y,o,i,s);if(b===!1)break}}}},w1=function(e,t){return e.addEventFields(e.context,t),new iw(t.type,t)},BP=function(e,t,r){if(OE(r)){t(e,r);return}else if(ft(r)){t(e,w1(e,r));return}for(var o=_t(r)?r:r.split(/\s+/),i=0;i<o.length;i++){var s=o[i];if(!Ya(s)){var u=s.match(lw);if(u){var h=u[1],d=u[2]?u[2]:null,c=w1(e,{type:h,namespace:d,target:e.context});t(e,c)}}}};Qa.on=Qa.addListener=function(e,t,r,o,i){return uw(this,function(s,u,h,d,c,p,g){Vt(p)&&s.listeners.push({event:u,callback:p,type:h,namespace:d,qualifier:c,conf:g})},e,t,r,o,i),this};Qa.one=function(e,t,r,o){return this.on(e,t,r,o,{one:!0})};Qa.removeListener=Qa.off=function(e,t,r,o){var i=this;this.emitting!==0&&(this.listeners=bS(this.listeners));for(var s=this.listeners,u=function(d){var c=s[d];uw(i,function(p,g,y,b,x,k){if((c.type===y||e==="*")&&(!b&&c.namespace!==".*"||c.namespace===b)&&(!x||p.qualifierCompare(c.qualifier,x))&&(!k||c.callback===k))return s.splice(d,1),!1},e,t,r,o)},h=s.length-1;h>=0;h--)u(h);return this};Qa.removeAllListeners=function(){return this.removeListener("*")};Qa.emit=Qa.trigger=function(e,t,r){var o=this.listeners,i=o.length;return this.emitting++,_t(t)||(t=[t]),BP(this,function(s,u){r!=null&&(o=[{event:u.event,type:u.type,namespace:u.namespace,callback:r}],i=o.length);for(var h=function(){var c=o[d];if(c.type===u.type&&(!c.namespace||c.namespace===u.namespace||c.namespace===DP)&&s.eventMatches(s.context,c,u)){var p=[u];t!=null&&wS(p,t),s.beforeEmit(s.context,c,u),c.conf&&c.conf.one&&(s.listeners=s.listeners.filter(function(b){return b!==c}));var g=s.callbackContext(s.context,c,u),y=c.callback.apply(g,p);s.afterEmit(s.context,c,u),y===!1&&(u.stopPropagation(),u.preventDefault())}},d=0;d<i;d++)h();s.bubble(s.context)&&!u.isPropagationStopped()&&s.parent(s.context).emit(u,t)},e),this.emitting--,this};var RP={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,r){var o=t.qualifier;return o!=null?e!==r.target&&ss(r.target)&&o.matches(r.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,r){return t.qualifier!=null?r.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ju=function(e){return ze(e)?new Ha(e):e},cw={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new Rc(RP,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,r){for(var o=ju(t),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,o,r)}return this},removeListener:function(e,t,r){for(var o=ju(t),i=0;i<this.length;i++){var s=this[i];s.emitter().removeListener(e,o,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,r){for(var o=ju(t),i=0;i<this.length;i++){var s=this[i];s.emitter().one(e,o,r)}return this},once:function(e,t,r){for(var o=ju(t),i=0;i<this.length;i++){var s=this[i];s.emitter().on(e,o,r,{once:!0,onceCollection:this})}},emit:function(e,t){for(var r=0;r<this.length;r++){var o=this[r];o.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};yt.eventAliasesOn(cw);var dw={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var o=this[r];o.isNode()?e.push(o):t.push(o)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(ze(e)||nr(e))return new Ha(e).filter(this);if(Vt(e)){for(var r=this.spawn(),o=this,i=0;i<o.length;i++){var s=o[i],u=t?e.apply(t,[s,i,o]):e(s,i,o);u&&r.push(s)}return r}return this.spawn()},not:function(e){if(e){ze(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var o=this[r],i=e.has(o);i||t.push(o)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(ze(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),o=this,i=e,s=this.length<e.length,u=s?o:i,h=s?i:o,d=0;d<u.length;d++){var c=u[d];h.has(c)&&r.push(c)}return r},xor:function(e){var t=this._private.cy;ze(e)&&(e=t.$(e));var r=this.spawn(),o=this,i=e,s=function(u,h){for(var d=0;d<u.length;d++){var c=u[d],p=c._private.data.id,g=h.hasElementWithId(p);g||r.push(c)}};return s(o,i),s(i,o),r},diff:function(e){var t=this._private.cy;ze(e)&&(e=t.$(e));var r=this.spawn(),o=this.spawn(),i=this.spawn(),s=this,u=e,h=function(d,c,p){for(var g=0;g<d.length;g++){var y=d[g],b=y._private.data.id,x=c.hasElementWithId(b);x?i.merge(y):p.push(y)}};return h(s,u,r),h(u,s,o),{left:r,right:o,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(ze(e)){var r=e;e=t.mutableElements().filter(r)}for(var o=this.spawnSelf(),i=0;i<e.length;i++){var s=e[i],u=!this.has(s);u&&o.push(s)}return o},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&ze(e)){var o=e;e=r.mutableElements().filter(o)}for(var i=t.map,s=0;s<e.length;s++){var u=e[s],h=u._private.data.id,d=!i.has(h);if(d){var c=this.length++;this[c]=u,i.set(h,{ele:u,index:c})}}return this},unmergeAt:function(e){var t=this[e],r=t.id(),o=this._private,i=o.map;this[e]=void 0,i.delete(r);var s=e===this.length-1;if(this.length>1&&!s){var u=this.length-1,h=this[u],d=h._private.data.id;this[u]=void 0,this[e]=h,i.set(d,{ele:h,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,r=e._private.data.id,o=t.map,i=o.get(r);if(!i)return this;var s=i.index;return this.unmergeAt(s),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&ze(e)){var r=e;e=t.mutableElements().filter(r)}for(var o=0;o<e.length;o++)this.unmergeOne(e[o]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];e(r)&&this.unmergeAt(t)}return this},map:function(e,t){for(var r=[],o=this,i=0;i<o.length;i++){var s=o[i],u=t?e.apply(t,[s,i,o]):e(s,i,o);r.push(u)}return r},reduce:function(e,t){for(var r=t,o=this,i=0;i<o.length;i++)r=e(r,o[i],i,o);return r},max:function(e,t){for(var r=-1/0,o,i=this,s=0;s<i.length;s++){var u=i[s],h=t?e.apply(t,[u,s,i]):e(u,s,i);h>r&&(r=h,o=u)}return{value:r,ele:o}},min:function(e,t){for(var r=1/0,o,i=this,s=0;s<i.length;s++){var u=i[s],h=t?e.apply(t,[u,s,i]):e(u,s,i);h<r&&(r=h,o=u)}return{value:r,ele:o}}},vt=dw;vt.u=vt["|"]=vt["+"]=vt.union=vt.or=vt.add;vt["\\"]=vt["!"]=vt["-"]=vt.difference=vt.relativeComplement=vt.subtract=vt.not;vt.n=vt["&"]=vt["."]=vt.and=vt.intersection=vt.intersect;vt["^"]=vt["(+)"]=vt["(-)"]=vt.symmetricDifference=vt.symdiff=vt.xor;vt.fnFilter=vt.filterFn=vt.stdFilter=vt.filter;vt.complement=vt.abscomp=vt.absoluteComplement;var AP={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},fw=function(e,t){var r=e.cy(),o=r.hasCompoundNodes();function i(c){var p=c.pstyle("z-compound-depth");return p.value==="auto"?o?c.zDepth():0:p.value==="bottom"?-1:p.value==="top"?sg:0}var s=i(e)-i(t);if(s!==0)return s;function u(c){var p=c.pstyle("z-index-compare");return p.value==="auto"&&c.isNode()?1:0}var h=u(e)-u(t);if(h!==0)return h;var d=e.pstyle("z-index").value-t.pstyle("z-index").value;return d!==0?d:e.poolIndex()-t.poolIndex()},gc={forEach:function(e,t){if(Vt(e))for(var r=this.length,o=0;o<r;o++){var i=this[o],s=t?e.apply(t,[i,o,this]):e(i,o,this);if(s===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],o=this.length;t==null&&(t=o),e==null&&(e=0),e<0&&(e=o+e),t<0&&(t=o+t);for(var i=e;i>=0&&i<t&&i<o;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Vt(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(fw)},zDepth:function(){var e=this[0];if(e){var t=e._private,r=t.group;if(r==="nodes"){var o=t.data.parent?e.parents().size():0;return e.isParent()?o:sg-1}else{var i=t.source,s=t.target,u=i.zDepth(),h=s.zDepth();return Math.max(u,h,0)}}}};gc.each=gc.forEach;var MP=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":dn(Symbol))!=e&&dn(Symbol.iterator)!=e;t&&(gc[Symbol.iterator]=function(){var r=this,o={value:void 0,done:!1},i=0,s=this.length;return cx({next:function(){return i<s?o.value=r[i++]:(o.value=void 0,o.done=!0),o}},Symbol.iterator,function(){return this})})};MP();var zP=Sn({nodeDimensionsIncludeLabels:!1}),tc={layoutDimensions:function(e){e=zP(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,r){var o=this.nodes().filter(function(_){return!_.isParent()}),i=this.cy(),s=t.eles,u=function(_){return _.id()},h=zi(r,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var d=function(_,N,M){var P={x:N.x1+N.w/2,y:N.y1+N.h/2},I={x:(M.x-P.x)*_,y:(M.y-P.y)*_};return{x:P.x+I.x,y:P.y+I.y}},c=t.spacingFactor&&t.spacingFactor!==1,p=function(){if(!c)return null;for(var _=In(),N=0;N<o.length;N++){var M=o[N],P=h(M,N);Nx(_,P.x,P.y)}return _},g=p(),y=zi(function(_,N){var M=h(_,N);if(c){var P=Math.abs(t.spacingFactor);M=d(P,g,M)}return t.transform!=null&&(M=t.transform(_,M)),M},u);if(t.animate){for(var b=0;b<o.length;b++){var x=o[b],k=y(x,b),E=t.animateFilter==null||t.animateFilter(x,b);if(E){var w=x.animation({position:k,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(w)}else x.position(k)}if(t.fit){var S=i.animation({fit:{boundingBox:s.boundingBoxAt(y),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(S)}else if(t.zoom!==void 0&&t.pan!==void 0){var C=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(C)}e.animations.forEach(function(_){return _.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Fi.all(e.animations.map(function(_){return _.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else o.positions(y),t.fit&&i.fit(t.eles,t.padding),t.zoom!=null&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(Ve({},e,{eles:this}))}};tc.createLayout=tc.makeLayout=tc.layout;function hw(e,t,r){var o=r._private,i=o.styleCache=o.styleCache||[],s;return(s=i[e])!=null||(s=i[e]=t(r)),s}function Ac(e,t){return e=Bo(e),function(r){return hw(e,t,r)}}function Mc(e,t){e=Bo(e);var r=function(o){return t.call(o)};return function(){var o=this[0];if(o)return hw(e,r,o)}}var kn={recalculateRenderedStyle:function(e){var t=this.cy(),r=t.renderer(),o=t.styleEnabled();return r&&o&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(o){t(o),o.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var r=t._private.batchStyleEles;return r.merge(this),this}var o=t.hasCompoundNodes(),i=this;e=!!(e||e===void 0),o&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=i;return e?s.emitAndNotify("style"):s.emit("style"),i.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],o=r.cy();if(o.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,o.style().apply(r));var i=r._private.style[e];return i??(t?o.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r)return t.style().getRenderedStyle(r,e)},style:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var o=!1,i=r.style();if(ft(e)){var s=e;i.applyBypass(this,s,o),this.emitAndNotify("style")}else if(ze(e))if(t===void 0){var u=this[0];return u?i.getStylePropertyValue(u,e):void 0}else i.applyBypass(this,e,t,o),this.emitAndNotify("style");else if(e===void 0){var h=this[0];return h?i.getRawStyle(h):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,o=t.style(),i=this;if(e===void 0)for(var s=0;s<i.length;s++){var u=i[s];o.removeAllBypasses(u,r)}else{e=e.split(/\s+/);for(var h=0;h<i.length;h++){var d=i[h];o.removeBypasses(d,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var o=r._private,i=r.pstyle("opacity").value;if(!t)return i;var s=o.data.parent?r.parents():null;if(s)for(var u=0;u<s.length;u++){var h=s[u],d=h.pstyle("opacity").value;i=d*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();if(t)return r?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function xp(e,t){var r=e._private,o=r.data.parent?e.parents():null;if(o)for(var i=0;i<o.length;i++){var s=o[i];if(!t(s))return!1}return!0}function xg(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,o=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var s=this[0],u=i.hasCompoundNodes();if(s){var h=s._private;if(!t(s))return!1;if(s.isNode())return!u||xp(s,o);var d=h.source,c=h.target;return r(d)&&(!u||xp(d,r))&&(d===c||r(c)&&(!u||xp(c,r)))}}}var Vi=Ac("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});kn.takesUpSpace=Mc("takesUpSpace",xg({ok:Vi}));var IP=Ac("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Vi(e)}),OP=Ac("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Vi(e)});kn.interactive=Mc("interactive",xg({ok:IP,parentOk:OP,edgeOkViaNode:Vi}));kn.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var LP=Ac("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Vi(e)}),FP=Vi;kn.visible=Mc("visible",xg({ok:LP,edgeOkViaNode:FP}));kn.hidden=function(){var e=this[0];if(e)return!e.visible()};kn.isBundledBezier=Mc("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});kn.bypass=kn.css=kn.style;kn.renderedCss=kn.renderedStyle;kn.removeBypass=kn.removeCss=kn.removeStyle;kn.pstyle=kn.parsedStyle;var qa={};function k1(e){return function(){var t=arguments,r=[];if(t.length===2){var o=t[0],i=t[1];this.on(e.event,o,i)}else if(t.length===1&&Vt(t[0])){var s=t[0];this.on(e.event,s)}else if(t.length===0||t.length===1&&_t(t[0])){for(var u=t.length===1?t[0]:null,h=0;h<this.length;h++){var d=this[h],c=!e.ableField||d._private[e.ableField],p=d._private[e.field]!=e.value;if(e.overrideAble){var g=e.overrideAble(d);if(g!==void 0&&(c=g,!g))return this}c&&(d._private[e.field]=e.value,p&&r.push(d))}var y=this.spawn(r);y.updateStyle(),y.emit(e.event),u&&y.emit(u)}return this}}function ji(e){qa[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},qa[e.on]=k1({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),qa[e.off]=k1({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}ji({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});ji({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});ji({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});ji({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});qa.deselect=qa.unselect;qa.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};ji({field:"active",on:"activate",off:"unactivate"});ji({field:"pannable",on:"panify",off:"unpanify"});qa.inactive=function(){var e=this[0];if(e)return!e._private.active};var _n={},E1=function(e){return function(t){for(var r=this,o=[],i=0;i<r.length;i++){var s=r[i];if(s.isNode()){for(var u=!1,h=s.connectedEdges(),d=0;d<h.length;d++){var c=h[d],p=c.source(),g=c.target();if(e.noIncomingEdges&&g===s&&p!==s||e.noOutgoingEdges&&p===s&&g!==s){u=!0;break}}u||o.push(s)}}return this.spawn(o,!0).filter(t)}},S1=function(e){return function(t){for(var r=this,o=[],i=0;i<r.length;i++){var s=r[i];if(s.isNode())for(var u=s.connectedEdges(),h=0;h<u.length;h++){var d=u[h],c=d.source(),p=d.target();e.outgoing&&c===s?(o.push(d),o.push(p)):e.incoming&&p===s&&(o.push(d),o.push(c))}}return this.spawn(o,!0).filter(t)}},C1=function(e){return function(t){for(var r=this,o=[],i={};;){var s=e.outgoing?r.outgoers():r.incomers();if(s.length===0)break;for(var u=!1,h=0;h<s.length;h++){var d=s[h],c=d.id();i[c]||(i[c]=!0,o.push(d),u=!0)}if(!u)break;r=s}return this.spawn(o,!0).filter(t)}};_n.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};Ve(_n,{roots:E1({noIncomingEdges:!0}),leaves:E1({noOutgoingEdges:!0}),outgoers:pr(S1({outgoing:!0}),"outgoers"),successors:C1({outgoing:!0}),incomers:pr(S1({incoming:!0}),"incomers"),predecessors:C1({})});Ve(_n,{neighborhood:pr(function(e){for(var t=[],r=this.nodes(),o=0;o<r.length;o++)for(var i=r[o],s=i.connectedEdges(),u=0;u<s.length;u++){var h=s[u],d=h.source(),c=h.target(),p=i===d?c:d;p.length>0&&t.push(p[0]),t.push(h[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});_n.neighbourhood=_n.neighborhood;_n.closedNeighbourhood=_n.closedNeighborhood;_n.openNeighbourhood=_n.openNeighborhood;Ve(_n,{source:pr(function(e){var t=this[0],r;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"source"),target:pr(function(e){var t=this[0],r;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"target"),sources:T1({attr:"source"}),targets:T1({attr:"target"})});function T1(e){return function(t){for(var r=[],o=0;o<this.length;o++){var i=this[o],s=i._private[e.attr];s&&r.push(s)}return this.spawn(r,!0).filter(t)}}Ve(_n,{edgesWith:pr(P1(),"edgesWith"),edgesTo:pr(P1({thisIsSrc:!0}),"edgesTo")});function P1(e){return function(t){var r=[],o=this._private.cy,i=e||{};ze(t)&&(t=o.$(t));for(var s=0;s<t.length;s++)for(var u=t[s]._private.edges,h=0;h<u.length;h++){var d=u[h],c=d._private.data,p=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),g=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target),y=p||g;y&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!p||i.thisIsTgt&&!g)||r.push(d))}return this.spawn(r,!0)}}Ve(_n,{connectedEdges:pr(function(e){for(var t=[],r=this,o=0;o<r.length;o++){var i=r[o];if(i.isNode())for(var s=i._private.edges,u=0;u<s.length;u++){var h=s[u];t.push(h)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:pr(function(e){for(var t=[],r=this,o=0;o<r.length;o++){var i=r[o];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:pr(_1(),"parallelEdges"),codirectedEdges:pr(_1({codirected:!0}),"codirectedEdges")});function _1(e){var t={codirected:!1};return e=Ve({},t,e),function(r){for(var o=[],i=this.edges(),s=e,u=0;u<i.length;u++)for(var h=i[u],d=h._private,c=d.source,p=c._private.data.id,g=d.data.target,y=c._private.edges,b=0;b<y.length;b++){var x=y[b],k=x._private.data,E=k.target,w=k.source,S=E===g&&w===p,C=p===E&&g===w;(s.codirected&&S||!s.codirected&&(S||C))&&o.push(x)}return this.spawn(o,!0).filter(r)}}Ve(_n,{components:function(e){var t=this,r=t.cy(),o=r.collection(),i=e==null?t.nodes():e.nodes(),s=[];e!=null&&i.empty()&&(i=e.sources());var u=function(d,c){o.merge(d),i.unmerge(d),c.merge(d)};if(i.empty())return t.spawn();var h=function(){var d=r.collection();s.push(d);var c=i[0];u(c,d),t.bfs({directed:!1,roots:c,visit:function(p){return u(p,d)}}),d.forEach(function(p){p.connectedEdges().forEach(function(g){t.has(g)&&d.has(g.source())&&d.has(g.target())&&d.merge(g)})})};do h();while(i.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});_n.componentsOf=_n.components;var En=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Lt("A collection must have a reference to the core");return}var i=new na,s=!1;if(!t)t=[];else if(t.length>0&&ft(t[0])&&!ss(t[0])){s=!0;for(var u=[],h=new Li,d=0,c=t.length;d<c;d++){var p=t[d];p.data==null&&(p.data={});var g=p.data;if(g.id==null)g.id=Px();else if(e.hasElementWithId(g.id)||h.has(g.id))continue;var y=new Sc(e,p,!1);u.push(y),h.add(g.id)}t=u}this.length=0;for(var b=0,x=t.length;b<x;b++){var k=t[b][0];if(k!=null){var E=k._private.data.id;(!r||!i.has(E))&&(r&&i.set(E,{index:this.length,ele:k}),this[this.length]=k,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(w){this.lazyMap=w},rebuildMap:function(){for(var w=this.lazyMap=new na,S=this.eles,C=0;C<S.length;C++){var _=S[C];w.set(_.id(),{index:C,ele:_})}}},r&&(this._private.map=i),s&&!o&&this.restore()},Nt=Sc.prototype=En.prototype=Object.create(Array.prototype);Nt.instanceString=function(){return"collection"};Nt.spawn=function(e,t){return new En(this.cy(),e,t)};Nt.spawnSelf=function(){return this.spawn(this)};Nt.cy=function(){return this._private.cy};Nt.renderer=function(){return this._private.cy.renderer()};Nt.element=function(){return this[0]};Nt.collection=function(){return hx(this)?this:new En(this._private.cy,[this])};Nt.unique=function(){return new En(this._private.cy,this,!0)};Nt.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};Nt.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new En(t)};Nt.$id=Nt.getElementById;Nt.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};Nt.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};Nt.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};Nt.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var o=t._private;if(ft(e)){if(r.startBatch(),e.data){t.data(e.data);var i=o.data;if(t.isEdge()){var s=!1,u={},h=e.data.source,d=e.data.target;h!=null&&h!=i.source&&(u.source=""+h,s=!0),d!=null&&d!=i.target&&(u.target=""+d,s=!0),s&&(t=t.move(u))}else{var c="parent"in e.data,p=e.data.parent;c&&(p!=null||i.parent!=null)&&p!=i.parent&&(p===void 0&&(p=null),p!=null&&(p=""+p),t=t.move({parent:p}))}}e.position&&t.position(e.position);var g=function(x,k,E){var w=e[x];w!=null&&w!==o[x]&&(w?t[k]():t[E]())};return g("removed","remove","restore"),g("selected","select","unselect"),g("selectable","selectify","unselectify"),g("locked","lock","unlock"),g("grabbable","grabify","ungrabify"),g("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var y={data:Ar(o.data),position:Ar(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,pannable:o.pannable,classes:null};y.classes="";var b=0;return o.classes.forEach(function(x){return y.classes+=b++===0?x:" "+x}),y}}};Nt.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],o=r.json();e.push(o)}return e};Nt.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var o=this[r],i=o.json(),s=new Sc(e,i,!1);t.push(s)}return new En(e,t)};Nt.copy=Nt.clone;Nt.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,o=r.cy(),i=o._private,s=[],u=[],h,d=0,c=r.length;d<c;d++){var p=r[d];t&&!p.removed()||(p.isNode()?s.push(p):u.push(p))}h=s.concat(u);var g,y=function(){h.splice(g,1),g--};for(g=0;g<h.length;g++){var b=h[g],x=b._private,k=x.data;if(b.clearTraversalCache(),!(!t&&!x.removed)){if(k.id===void 0)k.id=Px();else if(ke(k.id))k.id=""+k.id;else if(Ya(k.id)||!ze(k.id)){Lt("Can not create element with invalid string ID `"+k.id+"`"),y();continue}else if(o.hasElementWithId(k.id)){Lt("Can not create second element with ID `"+k.id+"`"),y();continue}}var E=k.id;if(b.isNode()){var w=x.position;w.x==null&&(w.x=0),w.y==null&&(w.y=0)}if(b.isEdge()){for(var S=b,C=["source","target"],_=C.length,N=!1,M=0;M<_;M++){var P=C[M],I=k[P];ke(I)&&(I=k[P]=""+k[P]),I==null||I===""?(Lt("Can not create edge `"+E+"` with unspecified "+P),N=!0):o.hasElementWithId(I)||(Lt("Can not create edge `"+E+"` with nonexistant "+P+" `"+I+"`"),N=!0)}if(N){y();continue}var L=o.getElementById(k.source),F=o.getElementById(k.target);L.same(F)?L._private.edges.push(S):(L._private.edges.push(S),F._private.edges.push(S)),S._private.source=L,S._private.target=F}x.map=new na,x.map.set(E,{ele:b,index:0}),x.removed=!1,t&&o.addToPool(b)}for(var O=0;O<s.length;O++){var A=s[O],U=A._private.data;ke(U.parent)&&(U.parent=""+U.parent);var j=U.parent,$=j!=null;if($||A._private.parent){var z=A._private.parent?o.collection().merge(A._private.parent):o.getElementById(j);if(z.empty())U.parent=void 0;else if(z[0].removed())bt("Node added with missing parent, reference to parent removed"),U.parent=void 0,A._private.parent=null;else{for(var V=!1,W=z;!W.empty();){if(A.same(W)){V=!0,U.parent=void 0;break}W=W.parent()}V||(z[0]._private.children.push(A),A._private.parent=z[0],i.hasCompoundNodes=!0)}}}if(h.length>0){for(var q=h.length===r.length?r:new En(o,h),Z=0;Z<q.length;Z++){var R=q[Z];R.isNode()||(R.parallelEdges().clearTraversalCache(),R.source().clearTraversalCache(),R.target().clearTraversalCache())}var X;i.hasCompoundNodes?X=o.collection().merge(q).merge(q.connectedNodes()).merge(q.parent()):X=q,X.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?q.emitAndNotify("add"):t&&q.emit("add")}return r};Nt.removed=function(){var e=this[0];return e&&e._private.removed};Nt.inside=function(){var e=this[0];return e&&!e._private.removed};Nt.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,o=[],i={},s=r._private.cy;function u(j){for(var $=j._private.edges,z=0;z<$.length;z++)d($[z])}function h(j){for(var $=j._private.children,z=0;z<$.length;z++)d($[z])}function d(j){var $=i[j.id()];t&&j.removed()||$||(i[j.id()]=!0,j.isNode()?(o.push(j),u(j),h(j)):o.unshift(j))}for(var c=0,p=r.length;c<p;c++){var g=r[c];d(g)}function y(j,$){var z=j._private.edges;Ka(z,$),j.clearTraversalCache()}function b(j){j.clearTraversalCache()}var x=[];x.ids={};function k(j,$){$=$[0],j=j[0];var z=j._private.children,V=j.id();Ka(z,$),$._private.parent=null,x.ids[V]||(x.ids[V]=!0,x.push(j))}r.dirtyCompoundBoundsCache(),t&&s.removeFromPool(o);for(var E=0;E<o.length;E++){var w=o[E];if(w.isEdge()){var S=w.source()[0],C=w.target()[0];y(S,w),y(C,w);for(var _=w.parallelEdges(),N=0;N<_.length;N++){var M=_[N];b(M),M.isBundledBezier()&&M.dirtyBoundingBoxCache()}}else{var P=w.parent();P.length!==0&&k(P,w)}t&&(w._private.removed=!0)}var I=s._private.elements;s._private.hasCompoundNodes=!1;for(var L=0;L<I.length;L++){var F=I[L];if(F.isParent()){s._private.hasCompoundNodes=!0;break}}var O=new En(this.cy(),o);O.size()>0&&(e?O.emitAndNotify("remove"):t&&O.emit("remove"));for(var A=0;A<x.length;A++){var U=x[A];(!t||!U.removed())&&U.updateStyle()}return O};Nt.move=function(e){var t=this._private.cy,r=this,o=!1,i=!1,s=function(b){return b==null?b:""+b};if(e.source!==void 0||e.target!==void 0){var u=s(e.source),h=s(e.target),d=u!=null&&t.hasElementWithId(u),c=h!=null&&t.hasElementWithId(h);(d||c)&&(t.batch(function(){r.remove(o,i),r.emitAndNotify("moveout");for(var b=0;b<r.length;b++){var x=r[b],k=x._private.data;x.isEdge()&&(d&&(k.source=u),c&&(k.target=h))}r.restore(o,i)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var p=s(e.parent),g=p===null||t.hasElementWithId(p);if(g){var y=p===null?void 0:p;t.batch(function(){var b=r.remove(o,i);b.emitAndNotify("moveout");for(var x=0;x<r.length;x++){var k=r[x],E=k._private.data;k.isNode()&&(E.parent=y)}b.restore(o,i)}),r.emitAndNotify("move")}}return this};[Fx,GT,ec,Ua,Oi,fP,Bc,_P,cw,dw,AP,gc,tc,kn,qa,_n].forEach(function(e){Ve(Nt,e)});var VP={add:function(e){var t,r=this;if(nr(e)){var o=e;if(o._private.cy===r)t=o.restore();else{for(var i=[],s=0;s<o.length;s++){var u=o[s];i.push(u.json())}t=new En(r,i)}}else if(_t(e)){var h=e;t=new En(r,h)}else if(ft(e)&&(_t(e.nodes)||_t(e.edges))){for(var d=e,c=[],p=["nodes","edges"],g=0,y=p.length;g<y;g++){var b=p[g],x=d[b];if(_t(x))for(var k=0,E=x.length;k<E;k++){var w=Ve({group:b},x[k]);c.push(w)}}t=new En(r,c)}else{var S=e;t=new Sc(r,S).collection()}return t},remove:function(e){if(!nr(e)&&ze(e)){var t=e;e=this.$(t)}return e.remove()}};function jP(e,t,r,o){var i=4,s=.001,u=1e-7,h=10,d=11,c=1/(d-1),p=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var g=0;g<4;++g)if(typeof arguments[g]!="number"||isNaN(arguments[g])||!isFinite(arguments[g]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var y=p?new Float32Array(d):new Array(d);function b(F,O){return 1-3*O+3*F}function x(F,O){return 3*O-6*F}function k(F){return 3*F}function E(F,O,A){return((b(O,A)*F+x(O,A))*F+k(O))*F}function w(F,O,A){return 3*b(O,A)*F*F+2*x(O,A)*F+k(O)}function S(F,O){for(var A=0;A<i;++A){var U=w(O,e,r);if(U===0)return O;var j=E(O,e,r)-F;O-=j/U}return O}function C(){for(var F=0;F<d;++F)y[F]=E(F*c,e,r)}function _(F,O,A){var U,j,$=0;do j=O+(A-O)/2,U=E(j,e,r)-F,U>0?A=j:O=j;while(Math.abs(U)>u&&++$<h);return j}function N(F){for(var O=0,A=1,U=d-1;A!==U&&y[A]<=F;++A)O+=c;--A;var j=(F-y[A])/(y[A+1]-y[A]),$=O+j*c,z=w($,e,r);return z>=s?S(F,$):z===0?$:_(F,O,O+c)}var M=!1;function P(){M=!0,(e!==t||r!==o)&&C()}var I=function(F){return M||P(),e===t&&r===o?F:F===0?0:F===1?1:E(N(F),t,o)};I.getControlPoints=function(){return[{x:e,y:t},{x:r,y:o}]};var L="generateBezier("+[e,t,r,o]+")";return I.toString=function(){return L},I}var XP=(function(){function e(o){return-o.tension*o.x-o.friction*o.v}function t(o,i,s){var u={x:o.x+s.dx*i,v:o.v+s.dv*i,tension:o.tension,friction:o.friction};return{dx:u.v,dv:e(u)}}function r(o,i){var s={dx:o.v,dv:e(o)},u=t(o,i*.5,s),h=t(o,i*.5,u),d=t(o,i,h),c=1/6*(s.dx+2*(u.dx+h.dx)+d.dx),p=1/6*(s.dv+2*(u.dv+h.dv)+d.dv);return o.x=o.x+c*i,o.v=o.v+p*i,o}return function o(i,s,u){var h={x:-1,v:0,tension:null,friction:null},d=[0],c=0,p=1/1e4,g=16/1e3,y,b,x;for(i=parseFloat(i)||500,s=parseFloat(s)||20,u=u||null,h.tension=i,h.friction=s,y=u!==null,y?(c=o(i,s),b=c/u*g):b=g;x=r(x||h,b),d.push(1+x.x),c+=16,Math.abs(x.x)>p&&Math.abs(x.v)>p;);return y?function(k){return d[k*(d.length-1)|0]}:c}})(),Dt=function(e,t,r,o){var i=jP(e,t,r,o);return function(s,u,h){return s+(u-s)*i(h)}},nc={linear:function(e,t,r){return e+(t-e)*r},ease:Dt(.25,.1,.25,1),"ease-in":Dt(.42,0,1,1),"ease-out":Dt(0,0,.58,1),"ease-in-out":Dt(.42,0,.58,1),"ease-in-sine":Dt(.47,0,.745,.715),"ease-out-sine":Dt(.39,.575,.565,1),"ease-in-out-sine":Dt(.445,.05,.55,.95),"ease-in-quad":Dt(.55,.085,.68,.53),"ease-out-quad":Dt(.25,.46,.45,.94),"ease-in-out-quad":Dt(.455,.03,.515,.955),"ease-in-cubic":Dt(.55,.055,.675,.19),"ease-out-cubic":Dt(.215,.61,.355,1),"ease-in-out-cubic":Dt(.645,.045,.355,1),"ease-in-quart":Dt(.895,.03,.685,.22),"ease-out-quart":Dt(.165,.84,.44,1),"ease-in-out-quart":Dt(.77,0,.175,1),"ease-in-quint":Dt(.755,.05,.855,.06),"ease-out-quint":Dt(.23,1,.32,1),"ease-in-out-quint":Dt(.86,0,.07,1),"ease-in-expo":Dt(.95,.05,.795,.035),"ease-out-expo":Dt(.19,1,.22,1),"ease-in-out-expo":Dt(1,0,0,1),"ease-in-circ":Dt(.6,.04,.98,.335),"ease-out-circ":Dt(.075,.82,.165,1),"ease-in-out-circ":Dt(.785,.135,.15,.86),spring:function(e,t,r){if(r===0)return nc.linear;var o=XP(e,t,r);return function(i,s,u){return i+(s-i)*o(u)}},"cubic-bezier":Dt};function D1(e,t,r,o,i){if(o===1||t===r)return r;var s=i(t,r,o);return e==null||((e.roundValue||e.color)&&(s=Math.round(s)),e.min!==void 0&&(s=Math.max(s,e.min)),e.max!==void 0&&(s=Math.min(s,e.max))),s}function N1(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function xi(e,t,r,o,i){var s=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var u=N1(e,i),h=N1(t,i);if(ke(u)&&ke(h))return D1(s,u,h,r,o);if(_t(u)&&_t(h)){for(var d=[],c=0;c<h.length;c++){var p=u[c],g=h[c];if(p!=null&&g!=null){var y=D1(s,p,g,r,o);d.push(y)}else d.push(g)}return d}}function WP(e,t,r,o){var i=!o,s=e._private,u=t._private,h=u.easing,d=u.startTime,c=o?e:e.cy(),p=c.style();if(!u.easingImpl)if(h==null)u.easingImpl=nc.linear;else{var g;if(ze(h)){var y=p.parse("transition-timing-function",h);g=y.value}else g=h;var b,x;ze(g)?(b=g,x=[]):(b=g[1],x=g.slice(2).map(function(q){return+q})),x.length>0?(b==="spring"&&x.push(u.duration),u.easingImpl=nc[b].apply(null,x)):u.easingImpl=nc[b]}var k=u.easingImpl,E;if(u.duration===0?E=1:E=(r-d)/u.duration,u.applying&&(E=u.progress),E<0?E=0:E>1&&(E=1),u.delay==null){var w=u.startPosition,S=u.position;if(S&&i&&!e.locked()){var C={};Ll(w.x,S.x)&&(C.x=xi(w.x,S.x,E,k)),Ll(w.y,S.y)&&(C.y=xi(w.y,S.y,E,k)),e.position(C)}var _=u.startPan,N=u.pan,M=s.pan,P=N!=null&&o;P&&(Ll(_.x,N.x)&&(M.x=xi(_.x,N.x,E,k)),Ll(_.y,N.y)&&(M.y=xi(_.y,N.y,E,k)),e.emit("pan"));var I=u.startZoom,L=u.zoom,F=L!=null&&o;F&&(Ll(I,L)&&(s.zoom=Jl(s.minZoom,xi(I,L,E,k),s.maxZoom)),e.emit("zoom")),(P||F)&&e.emit("viewport");var O=u.style;if(O&&O.length>0&&i){for(var A=0;A<O.length;A++){var U=O[A],j=U.name,$=U,z=u.startStyle[j],V=p.properties[z.name],W=xi(z,$,E,k,V);p.overrideBypass(e,j,W)}e.emit("style")}}return u.progress=E,E}function Ll(e,t){return e==null||t==null?!1:ke(e)&&ke(t)?!0:!!(e&&t)}function UP(e,t,r,o){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function B1(e,t){var r=t._private.aniEles,o=[];function i(p,g){var y=p._private,b=y.animation.current,x=y.animation.queue,k=!1;if(b.length===0){var E=x.shift();E&&b.push(E)}for(var w=function(N){for(var M=N.length-1;M>=0;M--){var P=N[M];P()}N.splice(0,N.length)},S=b.length-1;S>=0;S--){var C=b[S],_=C._private;if(_.stopped){b.splice(S,1),_.hooked=!1,_.playing=!1,_.started=!1,w(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||UP(p,C,e),WP(p,C,e,g),_.applying&&(_.applying=!1),w(_.frames),_.step!=null&&_.step(e),C.completed()&&(b.splice(S,1),_.hooked=!1,_.playing=!1,_.started=!1,w(_.completes)),k=!0)}return!g&&b.length===0&&x.length===0&&o.push(p),k}for(var s=!1,u=0;u<r.length;u++){var h=r[u],d=i(h);s=s||d}var c=i(t,!0);(s||c)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(o),t.emit("step")}var qP={animate:yt.animate(),animation:yt.animation(),animated:yt.animated(),clearQueue:yt.clearQueue(),delay:yt.delay(),delayAnimation:yt.delayAnimation(),stop:yt.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&cc(function(o){B1(o,e),t()})}var r=e.renderer();r&&r.beforeRender?r.beforeRender(function(o,i){B1(i,e)},r.beforeRenderPriorities.animations):t()}},YP={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,r){var o=t.qualifier;return o!=null?e!==r.target&&ss(r.target)&&o.matches(r.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,r){return t.qualifier!=null?r.target:e}},Xu=function(e){return ze(e)?new Ha(e):e},pw={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Rc(YP,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,r){return this.emitter().on(e,Xu(t),r),this},removeListener:function(e,t,r){return this.emitter().removeListener(e,Xu(t),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,r){return this.emitter().one(e,Xu(t),r),this},once:function(e,t,r){return this.emitter().one(e,Xu(t),r),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};yt.eventAliasesOn(pw);var Up={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};Up.jpeg=Up.jpg;var rc={layout:function(e){var t=this;if(e==null){Lt("Layout options must be specified to make a layout");return}if(e.name==null){Lt("A `name` must be specified to make a layout");return}var r=e.name,o=t.extension("layout",r);if(o==null){Lt("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;ze(e.eles)?i=t.$(e.eles):i=e.eles!=null?e.eles:t.$();var s=new o(Ve({},e,{cy:t,eles:i}));return s}};rc.createLayout=rc.makeLayout=rc.layout;var KP={notify:function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var o=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&o.merge(t);return}if(r.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var o=e.batchNotifications[r];o.empty()?t.notify(r):t.notify(r,o)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],s=e[i],u=t.getElementById(i);u.data(s)}})}},$P=Sn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),qp={renderTo:function(e,t,r,o){var i=this._private.renderer;return i.renderTo(e,t,r,o),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(r==null){Lt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&bt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var o=$P(e);o.cy=t,t._private.renderer=new r(o),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var o=r._private;o.rscratch={},o.rstyle={},o.animation.current=[],o.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};qp.invalidateDimensions=qp.resize;var ac={collection:function(e,t){return ze(e)?this.$(e):nr(e)?e.collection():_t(e)?(t||(t={}),new En(this,e,t.unique,t.removed)):new En(this)},nodes:function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};ac.elements=ac.filter=ac.$;var mn={},Kl="t",HP="f";mn.apply=function(e){for(var t=this,r=t._private,o=r.cy,i=o.collection(),s=0;s<e.length;s++){var u=e[s],h=t.getContextMeta(u);if(!h.empty){var d=t.getContextStyle(h),c=t.applyContextStyle(h,d,u);u._private.appliedInitStyle?t.updateTransitions(u,c.diffProps):u._private.appliedInitStyle=!0;var p=t.updateStyleHints(u);p&&i.push(u)}}return i};mn.getPropertiesDiff=function(e,t){var r=this,o=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,s=o[i];if(s)return s;for(var u=[],h={},d=0;d<r.length;d++){var c=r[d],p=e[d]===Kl,g=t[d]===Kl,y=p!==g,b=c.mappedProperties.length>0;if(y||g&&b){var x=void 0;y&&b||y?x=c.properties:b&&(x=c.mappedProperties);for(var k=0;k<x.length;k++){for(var E=x[k],w=E.name,S=!1,C=d+1;C<r.length;C++){var _=r[C],N=t[C]===Kl;if(N&&(S=_.properties[E.name]!=null,S))break}!h[w]&&!S&&(h[w]=!0,u.push(w))}}}return o[i]=u,u};mn.getContextMeta=function(e){for(var t=this,r="",o,i=e._private.styleCxtKey||"",s=0;s<t.length;s++){var u=t[s],h=u.selector&&u.selector.matches(e);h?r+=Kl:r+=HP}return o=t.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:o,empty:o.length===0}};mn.getContextStyle=function(e){var t=e.key,r=this,o=this._private.contextStyles=this._private.contextStyles||{};if(o[t])return o[t];for(var i={_private:{key:t}},s=0;s<r.length;s++){var u=r[s],h=t[s]===Kl;if(h)for(var d=0;d<u.properties.length;d++){var c=u.properties[d];i[c.name]=c}}return o[t]=i,i};mn.applyContextStyle=function(e,t,r){for(var o=this,i=e.diffPropNames,s={},u=o.types,h=0;h<i.length;h++){var d=i[h],c=t[d],p=r.pstyle(d);if(!c)if(p)p.bypass?c={name:d,deleteBypassed:!0}:c={name:d,delete:!0};else continue;if(p!==c){if(c.mapped===u.fn&&p!=null&&p.mapping!=null&&p.mapping.value===c.value){var g=p.mapping,y=g.fnValue=c.value(r);if(y===g.prevFnValue)continue}var b=s[d]={prev:p};o.applyParsedProperty(r,c),b.next=r.pstyle(d),b.next&&b.next.bypass&&(b.next=b.next.bypassed)}}return{diffProps:s}};mn.updateStyleHints=function(e){var t=e._private,r=this,o=r.propertyGroupNames,i=r.propertyGroupKeys,s=function(ne,ve,we){return r.getPropertiesHash(ne,ve,we)},u=t.styleKey;if(e.removed())return!1;var h=t.group==="nodes",d=e._private.style;o=Object.keys(d);for(var c=0;c<i.length;c++){var p=i[c];t.styleKeys[p]=[_o,Pi]}for(var g=function(ne,ve){return t.styleKeys[ve][0]=Gl(ne,t.styleKeys[ve][0])},y=function(ne,ve){return t.styleKeys[ve][1]=Ql(ne,t.styleKeys[ve][1])},b=function(ne,ve){g(ne,ve),y(ne,ve)},x=function(ne,ve){for(var we=0;we<ne.length;we++){var Ee=ne.charCodeAt(we);g(Ee,ve),y(Ee,ve)}},k=2e9,E=function(ne){return-128<ne&&ne<128&&Math.floor(ne)!==ne?k-(ne*1024|0):ne},w=0;w<o.length;w++){var S=o[w],C=d[S];if(C!=null){var _=this.properties[S],N=_.type,M=_.groupKey,P=void 0;_.hashOverride!=null?P=_.hashOverride(e,C):C.pfValue!=null&&(P=C.pfValue);var I=_.enums==null?C.value:null,L=P!=null,F=I!=null,O=L||F,A=C.units;if(N.number&&O&&!N.multiple){var U=L?P:I;b(E(U),M),!L&&A!=null&&x(A,M)}else x(C.strValue,M)}}for(var j=[_o,Pi],$=0;$<i.length;$++){var z=i[$],V=t.styleKeys[z];j[0]=Gl(V[0],j[0]),j[1]=Ql(V[1],j[1])}t.styleKey=dS(j[0],j[1]);var W=t.styleKeys;t.labelDimsKey=Ia(W.labelDimensions);var q=s(e,["label"],W.labelDimensions);if(t.labelKey=Ia(q),t.labelStyleKey=Ia(Mu(W.commonLabel,q)),!h){var Z=s(e,["source-label"],W.labelDimensions);t.sourceLabelKey=Ia(Z),t.sourceLabelStyleKey=Ia(Mu(W.commonLabel,Z));var R=s(e,["target-label"],W.labelDimensions);t.targetLabelKey=Ia(R),t.targetLabelStyleKey=Ia(Mu(W.commonLabel,R))}if(h){var X=t.styleKeys,H=X.nodeBody,ee=X.nodeBorder,de=X.nodeOutline,se=X.backgroundImage,pe=X.compound,be=X.pie,Q=X.stripe,te=[H,ee,de,se,pe,be,Q].filter(function(ne){return ne!=null}).reduce(Mu,[_o,Pi]);t.nodeKey=Ia(te),t.hasPie=be!=null&&be[0]!==_o&&be[1]!==Pi,t.hasStripe=Q!=null&&Q[0]!==_o&&Q[1]!==Pi}return u!==t.styleKey};mn.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null};mn.applyParsedProperty=function(e,t){var r=this,o=t,i=e._private.style,s,u=r.types,h=r.properties[o.name].type,d=o.bypass,c=i[o.name],p=c&&c.bypass,g=e._private,y="mapping",b=function(X){return X==null?null:X.pfValue!=null?X.pfValue:X.value},x=function(){var X=b(c),H=b(o);r.checkTriggers(e,o.name,X,H)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(o=t=this.parse(t.name,"bezier",d)),o.delete)return i[o.name]=void 0,x(),!0;if(o.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,x(),!0):!1:(x(),!0);if(o.deleteBypass)return c?c.bypass?(i[o.name]=c.bypassed,x(),!0):!1:(x(),!0);var k=function(){bt("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case u.mapData:{for(var E=o.field.split("."),w=g.data,S=0;S<E.length&&w;S++){var C=E[S];w=w[C]}if(w==null)return k(),!1;var _;if(ke(w)){var N=o.fieldMax-o.fieldMin;N===0?_=0:_=(w-o.fieldMin)/N}else return bt("Do not use continuous mappers without specifying numeric data (i.e. `"+o.field+": "+w+"` for `"+e.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),h.color){var M=o.valueMin[0],P=o.valueMax[0],I=o.valueMin[1],L=o.valueMax[1],F=o.valueMin[2],O=o.valueMax[2],A=o.valueMin[3]==null?1:o.valueMin[3],U=o.valueMax[3]==null?1:o.valueMax[3],j=[Math.round(M+(P-M)*_),Math.round(I+(L-I)*_),Math.round(F+(O-F)*_),Math.round(A+(U-A)*_)];s={bypass:o.bypass,name:o.name,value:j,strValue:"rgb("+j[0]+", "+j[1]+", "+j[2]+")"}}else if(h.number){var $=o.valueMin+(o.valueMax-o.valueMin)*_;s=this.parse(o.name,$,o.bypass,y)}else return!1;if(!s)return k(),!1;s.mapping=o,o=s;break}case u.data:{for(var z=o.field.split("."),V=g.data,W=0;W<z.length&&V;W++){var q=z[W];V=V[q]}if(V!=null&&(s=this.parse(o.name,V,o.bypass,y)),!s)return k(),!1;s.mapping=o,o=s;break}case u.fn:{var Z=o.value,R=o.fnValue!=null?o.fnValue:Z(e);if(o.prevFnValue=R,R==null)return bt("Custom function mappers may not return null (i.e. `"+o.name+"` for ele `"+e.id()+"` is null)"),!1;if(s=this.parse(o.name,R,o.bypass,y),!s)return bt("Custom function mappers may not return invalid values for the property type (i.e. `"+o.name+"` for ele `"+e.id()+"` is invalid)"),!1;s.mapping=Ar(o),o=s;break}case void 0:break;default:return!1}return d?(p?o.bypassed=c.bypassed:o.bypassed=c,i[o.name]=o):p?c.bypassed=o:i[o.name]=o,x(),!0};mn.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var o=e[r];if(this.clearStyleHints(o),o.dirtyCompoundBoundsCache(),o.dirtyBoundingBoxCache(),!t)o._private.style={};else for(var i=o._private.style,s=Object.keys(i),u=0;u<s.length;u++){var h=s[u],d=i[h];d!=null&&(d.bypass?d.bypassed=null:i[h]=null)}}};mn.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};mn.updateTransitions=function(e,t){var r=this,o=e._private,i=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,u=e.pstyle("transition-delay").pfValue;if(i.length>0&&s>0){for(var h={},d=!1,c=0;c<i.length;c++){var p=i[c],g=e.pstyle(p),y=t[p];if(y){var b=y.prev,x=b,k=y.next!=null?y.next:g,E=!1,w=void 0,S=1e-6;x&&(ke(x.pfValue)&&ke(k.pfValue)?(E=k.pfValue-x.pfValue,w=x.pfValue+S*E):ke(x.value)&&ke(k.value)?(E=k.value-x.value,w=x.value+S*E):_t(x.value)&&_t(k.value)&&(E=x.value[0]!==k.value[0]||x.value[1]!==k.value[1]||x.value[2]!==k.value[2],w=x.strValue),E&&(h[p]=k.strValue,this.applyBypass(e,p,w),d=!0))}}if(!d)return;o.transitioning=!0,new Fi(function(C){u>0?e.delayAnimation(u).play().promise().then(C):C()}).then(function(){return e.animation({style:h,duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),o.transitioning=!1})}else o.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),o.transitioning=!1)};mn.checkTrigger=function(e,t,r,o,i,s){var u=this.properties[t],h=i(u);e.removed()||h!=null&&h(r,o,e)&&s(u)};mn.checkZOrderTrigger=function(e,t,r,o){var i=this;this.checkTrigger(e,t,r,o,function(s){return s.triggersZOrder},function(){i._private.cy.notify("zorder",e)})};mn.checkBoundsTrigger=function(e,t,r,o){this.checkTrigger(e,t,r,o,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})};mn.checkConnectedEdgesBoundsTrigger=function(e,t,r,o){this.checkTrigger(e,t,r,o,function(i){return i.triggersBoundsOfConnectedEdges},function(i){e.connectedEdges().forEach(function(s){s.dirtyBoundingBoxCache()})})};mn.checkParallelEdgesBoundsTrigger=function(e,t,r,o){this.checkTrigger(e,t,r,o,function(i){return i.triggersBoundsOfParallelEdges},function(i){e.parallelEdges().forEach(function(s){s.dirtyBoundingBoxCache()})})};mn.checkTriggers=function(e,t,r,o){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,o),this.checkBoundsTrigger(e,t,r,o),this.checkConnectedEdgesBoundsTrigger(e,t,r,o),this.checkParallelEdgesBoundsTrigger(e,t,r,o)};var gs={};gs.applyBypass=function(e,t,r,o){var i=this,s=[],u=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var h=0;h<i.properties.length;h++){var d=i.properties[h],c=d.name,p=this.parse(c,r,!0);p&&s.push(p)}}else if(ze(t)){var g=this.parse(t,r,!0);g&&s.push(g)}else if(ft(t)){var y=t;o=r;for(var b=Object.keys(y),x=0;x<b.length;x++){var k=b[x],E=y[k];if(E===void 0&&(E=y[kc(k)]),E!==void 0){var w=this.parse(k,E,!0);w&&s.push(w)}}}else return!1;if(s.length===0)return!1;for(var S=!1,C=0;C<e.length;C++){for(var _=e[C],N={},M=void 0,P=0;P<s.length;P++){var I=s[P];if(o){var L=_.pstyle(I.name);M=N[I.name]={prev:L}}S=this.applyParsedProperty(_,Ar(I))||S,o&&(M.next=_.pstyle(I.name))}S&&this.updateStyleHints(_),o&&this.updateTransitions(_,N,u)}return S};gs.overrideBypass=function(e,t,r){t=ig(t);for(var o=0;o<e.length;o++){var i=e[o],s=i._private.style[t],u=this.properties[t].type,h=u.color,d=u.mutiple,c=s?s.pfValue!=null?s.pfValue:s.value:null;!s||!s.bypass?this.applyBypass(i,t,r):(s.value=r,s.pfValue!=null&&(s.pfValue=r),h?s.strValue="rgb("+r.join(",")+")":d?s.strValue=r.join(" "):s.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,t,c,r)}};gs.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};gs.removeBypasses=function(e,t,r){for(var o=!0,i=0;i<e.length;i++){for(var s=e[i],u={},h=0;h<t.length;h++){var d=t[h],c=this.properties[d],p=s.pstyle(c.name);if(!(!p||!p.bypass)){var g="",y=this.parse(d,g,!0),b=u[c.name]={prev:p};this.applyParsedProperty(s,y),b.next=s.pstyle(c.name)}}this.updateStyleHints(s),r&&this.updateTransitions(s,u,o)}};var wg={};wg.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};wg.containerCss=function(e){var t=this._private.cy,r=t.container(),o=t.window();if(o&&r&&o.getComputedStyle)return o.getComputedStyle(r).getPropertyValue(e)};var Mr={};Mr.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};Mr.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var o={},i=0;i<r.properties.length;i++){var s=r.properties[i],u=r.getStylePropertyValue(e,s.name,t);u!=null&&(o[s.name]=u,o[kc(s.name)]=u)}return o}};Mr.getIndexedStyle=function(e,t,r,o){var i=e.pstyle(t)[r][o];return i??e.cy().style().getDefaultProperty(t)[r][0]};Mr.getStylePropertyValue=function(e,t,r){var o=this;if(e=e[0],e){var i=o.properties[t];i.alias&&(i=i.pointsTo);var s=i.type,u=e.pstyle(i.name);if(u){var h=u.value,d=u.units,c=u.strValue;if(r&&s.number&&h!=null&&ke(h)){var p=e.cy().zoom(),g=function(k){return k*p},y=function(k,E){return g(k)+E},b=_t(h),x=b?d.every(function(k){return k!=null}):d!=null;return x?b?h.map(function(k,E){return y(k,d[E])}).join(" "):y(h,d):b?h.map(function(k){return ze(k)?k:""+g(k)}).join(" "):""+g(h)}else if(c!=null)return c}return null}};Mr.getAnimationStartStyle=function(e,t){for(var r={},o=0;o<t.length;o++){var i=t[o],s=i.name,u=e.pstyle(s);u!==void 0&&(ft(u)?u=this.parse(s,u.strValue):u=this.parse(s,u)),u&&(r[s]=u)}return r};Mr.getPropsList=function(e){var t=this,r=[],o=e,i=t.properties;if(o)for(var s=Object.keys(o),u=0;u<s.length;u++){var h=s[u],d=o[h],c=i[h]||i[ig(h)],p=this.parse(c.name,d);p&&r.push(p)}return r};Mr.getNonDefaultPropertiesHash=function(e,t,r){var o=r.slice(),i,s,u,h,d,c;for(d=0;d<t.length;d++)if(i=t[d],s=e.pstyle(i,!1),s!=null)if(s.pfValue!=null)o[0]=Gl(h,o[0]),o[1]=Ql(h,o[1]);else for(u=s.strValue,c=0;c<u.length;c++)h=u.charCodeAt(c),o[0]=Gl(h,o[0]),o[1]=Ql(h,o[1]);return o};Mr.getPropertiesHash=Mr.getNonDefaultPropertiesHash;var zc={};zc.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var o=e[r],i=o.selector,s=o.style||o.css,u=Object.keys(s);t.selector(i);for(var h=0;h<u.length;h++){var d=u[h],c=s[d];t.css(d,c)}}return t};zc.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};zc.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],o=r.selector,i=r.properties,s={},u=0;u<i.length;u++){var h=i[u];s[h.name]=h.strValue}e.push({selector:o?o.toString():"core",style:s})}return e};var kg={};kg.appendFromString=function(e){var t=this,r=this,o=""+e,i,s,u;o=o.replace(/[/][*](\s|.)+?[*][/]/g,"");function h(){o.length>i.length?o=o.substr(i.length):o=""}function d(){s.length>u.length?s=s.substr(u.length):s=""}for(;;){var c=o.match(/^\s*$/);if(c)break;var p=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!p){bt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+o);break}i=p[0];var g=p[1];if(g!=="core"){var y=new Ha(g);if(y.invalid){bt("Skipping parsing of block: Invalid selector found in string stylesheet: "+g),h();continue}}var b=p[2],x=!1;s=b;for(var k=[];;){var E=s.match(/^\s*$/);if(E)break;var w=s.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!w){bt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+b),x=!0;break}u=w[0];var S=w[1],C=w[2],_=t.properties[S];if(!_){bt("Skipping property: Invalid property name in: "+u),d();continue}var N=r.parse(S,C);if(!N){bt("Skipping property: Invalid property definition in: "+u),d();continue}k.push({name:S,val:C}),d()}if(x){h();break}r.selector(g);for(var M=0;M<k.length;M++){var P=k[M];r.css(P.name,P.val)}h()}return r};kg.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var on={};(function(){var e=cn,t=WE,r=qE,o=YE,i=KE,s=function(te){return"^"+te+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(te){var ne=e+"|\\w+|"+t+"|"+r+"|"+o+"|"+i;return"^"+te+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+ne+")\\s*\\,\\s*("+ne+")\\)$"},h=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];on.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:s("data")},layoutData:{mapping:!0,regex:s("layoutData")},scratch:{mapping:!0,regex:s("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:h,singleRegexMatchValue:!0},urls:{regexes:h,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(te,ne){switch(te.length){case 2:return ne[0]!=="deg"&&ne[0]!=="rad"&&ne[1]!=="deg"&&ne[1]!=="rad";case 1:return ze(te[0])||ne[0]==="deg"||ne[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(te){var ne=te.length;return ne===1||ne===2||ne===4}}};var d={zeroNonZero:function(te,ne){return(te==null||ne==null)&&te!==ne||te==0&&ne!=0?!0:te!=0&&ne==0},any:function(te,ne){return te!=ne},emptyNonEmpty:function(te,ne){var ve=Ya(te),we=Ya(ne);return ve&&!we||!ve&&we}},c=on.types,p=[{name:"label",type:c.text,triggersBounds:d.any,triggersZOrder:d.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:d.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:d.any}],g=[{name:"source-label",type:c.text,triggersBounds:d.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:d.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:d.any},{name:"source-text-offset",type:c.size,triggersBounds:d.any}],y=[{name:"target-label",type:c.text,triggersBounds:d.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:d.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:d.any},{name:"target-text-offset",type:c.size,triggersBounds:d.any}],b=[{name:"font-family",type:c.fontFamily,triggersBounds:d.any},{name:"font-style",type:c.fontStyle,triggersBounds:d.any},{name:"font-weight",type:c.fontWeight,triggersBounds:d.any},{name:"font-size",type:c.size,triggersBounds:d.any},{name:"text-transform",type:c.textTransform,triggersBounds:d.any},{name:"text-wrap",type:c.textWrap,triggersBounds:d.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:d.any},{name:"text-max-width",type:c.size,triggersBounds:d.any},{name:"text-outline-width",type:c.size,triggersBounds:d.any},{name:"line-height",type:c.positiveNumber,triggersBounds:d.any}],x=[{name:"text-valign",type:c.valign,triggersBounds:d.any},{name:"text-halign",type:c.halign,triggersBounds:d.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:d.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:d.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:d.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:d.any},{name:"text-justification",type:c.justification},{name:"box-select-labels",type:c.bool,triggersBounds:d.any}],k=[{name:"events",type:c.bool,triggersZOrder:d.any},{name:"text-events",type:c.bool,triggersZOrder:d.any},{name:"box-selection",type:c.boxSelection,triggersZOrder:d.any}],E=[{name:"display",type:c.display,triggersZOrder:d.any,triggersBounds:d.any,triggersBoundsOfConnectedEdges:d.any,triggersBoundsOfParallelEdges:function(te,ne,ve){return te===ne?!1:ve.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:d.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:d.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:d.any},{name:"z-index",type:c.number,triggersZOrder:d.any}],w=[{name:"overlay-padding",type:c.size,triggersBounds:d.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:d.any},{name:"overlay-corner-radius",type:c.cornerRadius}],S=[{name:"underlay-padding",type:c.size,triggersBounds:d.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:d.any},{name:"underlay-corner-radius",type:c.cornerRadius}],C=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],_=function(te,ne){return ne.value==="label"?-te.poolIndex():ne.pfValue},N=[{name:"height",type:c.nodeSize,triggersBounds:d.any,hashOverride:_},{name:"width",type:c.nodeSize,triggersBounds:d.any,hashOverride:_},{name:"shape",type:c.nodeShape,triggersBounds:d.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:d.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:d.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:d.any}],M=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:d.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],P=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:d.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:d.any}],I=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],L=[{name:"position",type:c.position,triggersBounds:d.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:d.any},{name:"min-width",type:c.size,triggersBounds:d.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"min-height",type:c.size,triggersBounds:d.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:d.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:d.any}],F=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:d.any,triggersBoundsOfParallelEdges:function(te,ne){return te===ne?!1:te==="bezier"||ne==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:d.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:d.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:d.any},{name:"control-point-step-size",type:c.size,triggersBounds:d.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:d.any},{name:"control-point-weights",type:c.numbers,triggersBounds:d.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:d.any},{name:"segment-weights",type:c.numbers,triggersBounds:d.any},{name:"segment-radii",type:c.numbers,triggersBounds:d.any},{name:"radius-type",type:c.radiusType,triggersBounds:d.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:d.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:d.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:d.any},{name:"taxi-radius",type:c.number,triggersBounds:d.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:d.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:d.any},{name:"loop-direction",type:c.angle,triggersBounds:d.any},{name:"loop-sweep",type:c.angle,triggersBounds:d.any},{name:"source-distance-from-node",type:c.size,triggersBounds:d.any},{name:"target-distance-from-node",type:c.size,triggersBounds:d.any}],O=[{name:"ghost",type:c.bool,triggersBounds:d.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:d.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:d.any},{name:"ghost-opacity",type:c.zeroOneNumber}],A=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],U=[];on.pieBackgroundN=16,U.push({name:"pie-size",type:c.sizeMaybePercent}),U.push({name:"pie-hole",type:c.sizeMaybePercent}),U.push({name:"pie-start-angle",type:c.angle});for(var j=1;j<=on.pieBackgroundN;j++)U.push({name:"pie-"+j+"-background-color",type:c.color}),U.push({name:"pie-"+j+"-background-size",type:c.percent}),U.push({name:"pie-"+j+"-background-opacity",type:c.zeroOneNumber});var $=[];on.stripeBackgroundN=16,$.push({name:"stripe-size",type:c.sizeMaybePercent}),$.push({name:"stripe-direction",type:c.axisDirectionPrimary});for(var z=1;z<=on.stripeBackgroundN;z++)$.push({name:"stripe-"+z+"-background-color",type:c.color}),$.push({name:"stripe-"+z+"-background-size",type:c.percent}),$.push({name:"stripe-"+z+"-background-opacity",type:c.zeroOneNumber});var V=[],W=on.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:d.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(te){W.forEach(function(ne){var ve=ne+"-"+te.name,we=te.type,Ee=te.triggersBounds;V.push({name:ve,type:we,triggersBounds:Ee})})},{});var q=on.properties=[].concat(k,C,E,w,S,O,x,b,p,g,y,N,M,P,I,U,$,L,F,V,A),Z=on.propertyGroups={behavior:k,transition:C,visibility:E,overlay:w,underlay:S,ghost:O,commonLabel:x,labelDimensions:b,mainLabel:p,sourceLabel:g,targetLabel:y,nodeBody:N,nodeBorder:M,nodeOutline:P,backgroundImage:I,pie:U,stripe:$,compound:L,edgeLine:F,edgeArrow:V,core:A},R=on.propertyGroupNames={},X=on.propertyGroupKeys=Object.keys(Z);X.forEach(function(te){R[te]=Z[te].map(function(ne){return ne.name}),Z[te].forEach(function(ne){return ne.groupKey=te})});var H=on.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];on.propertyNames=q.map(function(te){return te.name});for(var ee=0;ee<q.length;ee++){var de=q[ee];q[de.name]=de}for(var se=0;se<H.length;se++){var pe=H[se],be=q[pe.pointsTo],Q={name:pe.name,alias:!0,pointsTo:be};q.push(Q),q[pe.name]=Q}})();on.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};on.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=Ve({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(d,c){for(var p=1;p<=on.pieBackgroundN;p++){var g=c.name.replace("{{i}}",p),y=c.value;d[g]=y}return d},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(d,c){for(var p=1;p<=on.stripeBackgroundN;p++){var g=c.name.replace("{{i}}",p),y=c.value;d[g]=y}return d},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(d,c){return on.arrowPrefixes.forEach(function(p){var g=p+"-"+c.name,y=c.value;d[g]=y}),d},{})),r={},o=0;o<this.properties.length;o++){var i=this.properties[o];if(!i.pointsTo){var s=i.name,u=t[s],h=this.parse(s,u);r[s]=h}}return e.defaultProperties=r,e.defaultProperties};on.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ic={};Ic.parse=function(e,t,r,o){var i=this;if(Vt(t))return i.parseImplWarn(e,t,r,o);var s=o==="mapping"||o===!0||o===!1||o==null?"dontcare":o,u=r?"t":"f",h=""+t,d=Sx(e,h,u,s),c=i.propCache=i.propCache||[],p;return(p=c[d])||(p=c[d]=i.parseImplWarn(e,t,r,o)),(r||o==="mapping")&&(p=Ar(p),p&&(p.value=Ar(p.value))),p};Ic.parseImplWarn=function(e,t,r,o){var i=this.parseImpl(e,t,r,o);return!i&&t!=null&&bt("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&bt("The style value of `label` is deprecated for `"+i.name+"`"),i};Ic.parseImpl=function(e,t,r,o){var i=this;e=ig(e);var s=i.properties[e],u=t,h=i.types;if(!s||t===void 0)return null;s.alias&&(s=s.pointsTo,e=s.name);var d=ze(t);d&&(t=t.trim());var c=s.type;if(!c)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Vt(t))return{name:e,value:t,strValue:"fn",mapped:h.fn,bypass:r};var p,g;if(!(!d||o||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(p=new RegExp(h.data.regex).exec(t))){if(r)return!1;var y=h.data;return{name:e,value:p,strValue:""+t,mapped:y,field:p[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(g=new RegExp(h.mapData.regex).exec(t))){if(r||c.multiple)return!1;var b=h.mapData;if(!(c.color||c.number))return!1;var x=this.parse(e,g[4]);if(!x||x.mapped)return!1;var k=this.parse(e,g[5]);if(!k||k.mapped)return!1;if(x.pfValue===k.pfValue||x.strValue===k.strValue)return bt("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+x.strValue+"`"),this.parse(e,x.strValue);if(c.color){var E=x.value,w=k.value,S=E[0]===w[0]&&E[1]===w[1]&&E[2]===w[2]&&(E[3]===w[3]||(E[3]==null||E[3]===1)&&(w[3]==null||w[3]===1));if(S)return!1}return{name:e,value:g,strValue:""+t,mapped:b,field:g[1],fieldMin:parseFloat(g[2]),fieldMax:parseFloat(g[3]),valueMin:x.value,valueMax:k.value,bypass:r}}}if(c.multiple&&o!=="multiple"){var C;if(d?C=t.split(/\s+/):_t(t)?C=t:C=[t],c.evenMultiple&&C.length%2!==0)return null;for(var _=[],N=[],M=[],P="",I=!1,L=0;L<C.length;L++){var F=i.parse(e,C[L],r,"multiple");I=I||ze(F.value),_.push(F.value),M.push(F.pfValue!=null?F.pfValue:F.value),N.push(F.units),P+=(L>0?" ":"")+F.strValue}return c.validate&&!c.validate(_,N)?null:c.singleEnum&&I?_.length===1&&ze(_[0])?{name:e,value:_[0],strValue:_[0],bypass:r}:null:{name:e,value:_,pfValue:M,strValue:P,bypass:r,units:N}}var O=function(){for(var be=0;be<c.enums.length;be++){var Q=c.enums[be];if(Q===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(c.number){var A,U="px";if(c.units&&(A=c.units),c.implicitUnits&&(U=c.implicitUnits),!c.unitless)if(d){var j="px|em"+(c.allowPercent?"|\\%":"");A&&(j=A);var $=t.match("^("+cn+")("+j+")?$");$&&(t=$[1],A=$[2]||U)}else(!A||c.implicitUnits)&&(A=U);if(t=parseFloat(t),isNaN(t)&&c.enums===void 0)return null;if(isNaN(t)&&c.enums!==void 0)return t=u,O();if(c.integer&&!IE(t)||c.min!==void 0&&(t<c.min||c.strictMin&&t===c.min)||c.max!==void 0&&(t>c.max||c.strictMax&&t===c.max))return null;var z={name:e,value:t,strValue:""+t+(A||""),units:A,bypass:r};return c.unitless||A!=="px"&&A!=="em"?z.pfValue=t:z.pfValue=A==="px"||!A?t:this.getEmSizeInPixels()*t,(A==="ms"||A==="s")&&(z.pfValue=A==="ms"?t:1e3*t),(A==="deg"||A==="rad")&&(z.pfValue=A==="rad"?t:YS(t)),A==="%"&&(z.pfValue=t/100),z}else if(c.propList){var V=[],W=""+t;if(W!=="none"){for(var q=W.split(/\s*,\s*|\s+/),Z=0;Z<q.length;Z++){var R=q[Z].trim();i.properties[R]?V.push(R):bt("`"+R+"` is not a valid property name")}if(V.length===0)return null}return{name:e,value:V,strValue:V.length===0?"none":V.join(" "),bypass:r}}else if(c.color){var X=mx(t);return X?{name:e,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:r}:null}else if(c.regex||c.regexes){if(c.enums){var H=O();if(H)return H}for(var ee=c.regexes?c.regexes:[c.regex],de=0;de<ee.length;de++){var se=new RegExp(ee[de]),pe=se.exec(t);if(pe)return{name:e,value:c.singleRegexMatchValue?pe[1]:pe,strValue:""+t,bypass:r}}return null}else return c.string?{name:e,value:""+t,strValue:""+t,bypass:r}:c.enums?O():null};var vn=function(e){if(!(this instanceof vn))return new vn(e);if(!og(e)){Lt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Dn=vn.prototype;Dn.instanceString=function(){return"style"};Dn.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),o=0;o<this.length;o++)this[o]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var s=i[0]._private;s.styleDirty=!0,s.appliedInitStyle=!1}),this};Dn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Dn.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};Dn.selector=function(e){var t=e==="core"?null:new Ha(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};Dn.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],o=0;o<e.properties.length;o++){var i=e.properties[o],s=r[i.name];s===void 0&&(s=r[kc(i.name)]),s!==void 0&&this.cssRule(i.name,s)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Dn.style=Dn.css;Dn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var o=this.length-1;this[o].properties.push(r),this[o].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[o].mappedProperties.push(r);var i=!this[o].selector;i&&(this._private.coreStyle[r.name]=r)}return this};Dn.append=function(e){return px(e)?e.appendToStyle(this):_t(e)?this.appendFromJson(e):ze(e)&&this.appendFromString(e),this};vn.fromJson=function(e,t){var r=new vn(e);return r.fromJson(t),r};vn.fromString=function(e,t){return new vn(e).fromString(t)};[mn,gs,wg,Mr,zc,kg,on,Ic].forEach(function(e){Ve(Dn,e)});vn.types=Dn.types;vn.properties=Dn.properties;vn.propertyGroups=Dn.propertyGroups;vn.propertyGroupNames=Dn.propertyGroupNames;vn.propertyGroupKeys=Dn.propertyGroupKeys;var GP={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return px(e)?t.style=e.generateStyle(this):_t(e)?t.style=vn.fromJson(this,e):ze(e)?t.style=vn.fromString(this,e):t.style=vn(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},QP="single",Mo={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=QP),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,r,o,i,s,u;switch(e.length){case 0:return t;case 1:if(ze(e[0]))return r=e[0],t[r];if(ft(e[0])){if(!this._private.panningEnabled)return this;i=e[0],s=i.x,u=i.y,ke(s)&&(t.x=s),ke(u)&&(t.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],o=e[1],(r==="x"||r==="y")&&ke(o)&&(t[r]=o),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var r=arguments,o=this._private.pan,i,s,u,h,d;if(!this._private.panningEnabled)return this;switch(r.length){case 1:ft(e)&&(u=r[0],h=u.x,d=u.y,ke(h)&&(o.x+=h),ke(d)&&(o.y+=d),this.emit("pan viewport"));break;case 2:i=e,s=t,(i==="x"||i==="y")&&ke(s)&&(o[i]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var o=this._private;o.zoom=r.zoom,o.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(ke(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(ze(e)){var o=e;e=this.$(o)}else if(FE(e)){var i=e;r={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else nr(e)||(e=this.mutableElements());if(!(nr(e)&&e.empty())){r=r||e.boundingBox();var s=this.width(),u=this.height(),h;if(t=ke(t)?t:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){h=Math.min((s-2*t)/r.w,(u-2*t)/r.h),h=h>this._private.maxZoom?this._private.maxZoom:h,h=h<this._private.minZoom?this._private.minZoom:h;var d={x:(s-h*(r.x1+r.x2))/2,y:(u-h*(r.y1+r.y2))/2};return{zoom:h,pan:d}}}}},zoomRange:function(e,t){var r=this._private;if(t==null){var o=e;e=o.min,t=o.max}return ke(e)&&ke(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):ke(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:ke(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,r=t.pan,o=t.zoom,i,s,u=!1;if(t.zoomingEnabled||(u=!0),ke(e)?s=e:ft(e)&&(s=e.level,e.position!=null?i=Cc(e.position,o,r):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!t.panningEnabled&&(u=!0)),s=s>t.maxZoom?t.maxZoom:s,s=s<t.minZoom?t.minZoom:s,u||!ke(s)||s===o||i!=null&&(!ke(i.x)||!ke(i.y)))return null;if(i!=null){var h=r,d=o,c=s,p={x:-c/d*(i.x-h.x)+i.x,y:-c/d*(i.y-h.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:p}}else return{zoomed:!0,panned:!1,zoom:s,pan:r}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t==null||!t.zoomed?this:(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,r=!0,o=!0,i=[],s=!1,u=!1;if(!e)return this;if(ke(e.zoom)||(r=!1),ft(e.pan)||(o=!1),!r&&!o)return this;if(r){var h=e.zoom;h<t.minZoom||h>t.maxZoom||!t.zoomingEnabled?s=!0:(t.zoom=h,i.push("zoom"))}if(o&&(!s||!e.cancelOnFailedZoom)&&t.panningEnabled){var d=e.pan;ke(d.x)&&(t.pan.x=d.x,u=!1),ke(d.y)&&(t.pan.y=d.y,u=!1),u||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(ze(e)){var r=e;e=this.mutableElements().filter(r)}else nr(e)||(e=this.mutableElements());if(e.length!==0){var o=e.boundingBox(),i=this.width(),s=this.height();t=t===void 0?this._private.zoom:t;var u={x:(i-t*(o.x1+o.x2))/2,y:(s-t*(o.y1+o.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?(function(){var o=r.window().getComputedStyle(t),i=function(s){return parseFloat(o.getPropertyValue(s))};return{width:t.clientWidth-i("padding-left")-i("padding-right"),height:t.clientHeight-i("padding-top")-i("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),o={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return o.w=o.x2-o.x1,o.h=o.y2-o.y1,o},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Mo.centre=Mo.center;Mo.autolockNodes=Mo.autolock;Mo.autoungrabifyNodes=Mo.autoungrabify;var rs={data:yt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:yt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:yt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:yt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};rs.attr=rs.data;rs.removeAttr=rs.removeData;var as=function(e){var t=this;e=Ve({},e);var r=e.container;r&&!uc(r)&&uc(r[0])&&(r=r[0]);var o=r?r._cyreg:null;o=o||{},o&&o.cy&&(o.cy.destroy(),o={});var i=o.readies=o.readies||[];r&&(r._cyreg=o),o.cy=t;var s=un!==void 0&&r!==void 0&&!e.headless,u=e;u.layout=Ve({name:s?"grid":"null"},u.layout),u.renderer=Ve({name:s?"canvas":"null"},u.renderer);var h=function(y,b,x){return b!==void 0?b:x!==void 0?x:y},d=this._private={container:r,ready:!1,options:u,elements:new En(this),listeners:[],aniEles:new En(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,u.zoomingEnabled),userZoomingEnabled:h(!0,u.userZoomingEnabled),panningEnabled:h(!0,u.panningEnabled),userPanningEnabled:h(!0,u.userPanningEnabled),boxSelectionEnabled:h(!0,u.boxSelectionEnabled),autolock:h(!1,u.autolock,u.autolockNodes),autoungrabify:h(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:h(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?s:u.styleEnabled,zoom:ke(u.zoom)?u.zoom:1,pan:{x:ft(u.pan)&&ke(u.pan.x)?u.pan.x:0,y:ft(u.pan)&&ke(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:h(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var c=function(y,b){var x=y.some(VE);if(x)return Fi.all(y).then(b);b(y)};d.styleEnabled&&t.setStyle([]);var p=Ve({},u,u.renderer);t.initRenderer(p);var g=function(y,b,x){t.notifications(!1);var k=t.mutableElements();k.length>0&&k.remove(),y!=null&&(ft(y)||_t(y))&&t.add(y),t.one("layoutready",function(w){t.notifications(!0),t.emit(w),t.one("load",b),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",x),t.emit("done")});var E=Ve({},t._private.options.layout);E.eles=t.elements(),t.layout(E).run()};c([u.style,u.elements],function(y){var b=y[0],x=y[1];d.styleEnabled&&t.style().append(b),g(x,function(){t.startAnimationLoop(),d.ready=!0,Vt(u.ready)&&t.on("ready",u.ready);for(var k=0;k<i.length;k++){var E=i[k];t.on("ready",E)}o&&(o.readies=[]),t.emit("ready")},u.done)})},vc=as.prototype;Ve(vc,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return un;var t=this._private.container.ownerDocument;return t===void 0||t==null?un:t.defaultView||un},mount:function(e){if(e!=null){var t=this,r=t._private,o=r.options;return!uc(e)&&uc(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Ve({},o,o.renderer,{name:o.renderer.name==="null"?"canvas":o.renderer.name})),t.startAnimationLoop(),t.style(o.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ar(this._private.options)},json:function(e){var t=this,r=t._private,o=t.mutableElements(),i=function(S){return t.getElementById(S.id())};if(ft(e)){if(t.startBatch(),e.elements){var s={},u=function(S,C){for(var _=[],N=[],M=0;M<S.length;M++){var P=S[M];if(!P.data.id){bt("cy.json() cannot handle elements without an ID attribute");continue}var I=""+P.data.id,L=t.getElementById(I);s[I]=!0,L.length!==0?N.push({ele:L,json:P}):(C&&(P.group=C),_.push(P))}t.add(_);for(var F=0;F<N.length;F++){var O=N[F],A=O.ele,U=O.json;A.json(U)}};if(_t(e.elements))u(e.elements);else for(var h=["nodes","edges"],d=0;d<h.length;d++){var c=h[d],p=e.elements[c];_t(p)&&u(p,c)}var g=t.collection();o.filter(function(S){return!s[S.id()]}).forEach(function(S){S.isParent()?g.merge(S):S.remove()}),g.forEach(function(S){return S.children().move({parent:null})}),g.forEach(function(S){return i(S).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var y=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],b=0;b<y.length;b++){var x=y[b];e[x]!=null&&t[x](e[x])}return t.endBatch(),this}else{var k=!!e,E={};k?E.elements=this.elements().map(function(S){return S.json()}):(E.elements={},o.forEach(function(S){var C=S.group();E.elements[C]||(E.elements[C]=[]),E.elements[C].push(S.json())})),this._private.styleEnabled&&(E.style=t.style().json()),E.data=Ar(t.data());var w=r.options;return E.zoomingEnabled=r.zoomingEnabled,E.userZoomingEnabled=r.userZoomingEnabled,E.zoom=r.zoom,E.minZoom=r.minZoom,E.maxZoom=r.maxZoom,E.panningEnabled=r.panningEnabled,E.userPanningEnabled=r.userPanningEnabled,E.pan=Ar(r.pan),E.boxSelectionEnabled=r.boxSelectionEnabled,E.renderer=Ar(w.renderer),E.hideEdgesOnViewport=w.hideEdgesOnViewport,E.textureOnViewport=w.textureOnViewport,E.wheelSensitivity=w.wheelSensitivity,E.motionBlur=w.motionBlur,E.multiClickDebounceTime=w.multiClickDebounceTime,E}}});vc.$id=vc.getElementById;[VP,qP,pw,Up,rc,KP,qp,ac,GP,Mo,rs].forEach(function(e){Ve(vc,e)});var ZP={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},JP={maximal:!1,acyclic:!1},wi=function(e){return e.scratch("breadthfirst")},R1=function(e,t){return e.scratch("breadthfirst",t)};function gw(e){this.options=Ve({},ZP,JP,e)}gw.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,o=r.nodes().filter(function(xe){return xe.isChildless()}),i=r,s=e.directed,u=e.acyclic||e.maximal||e.maximalAdjustments>0,h=!!e.boundingBox,d=In(h?e.boundingBox:structuredClone(t.extent())),c;if(nr(e.roots))c=e.roots;else if(_t(e.roots)){for(var p=[],g=0;g<e.roots.length;g++){var y=e.roots[g],b=t.getElementById(y);p.push(b)}c=t.collection(p)}else if(ze(e.roots))c=t.$(e.roots);else if(s)c=o.roots();else{var x=r.components();c=t.collection();for(var k=function(){var xe=x[E],De=xe.maxDegree(!1),Ne=xe.filter(function(We){return We.degree(!1)===De});c=c.add(Ne)},E=0;E<x.length;E++)k()}var w=[],S={},C=function(xe,De){w[De]==null&&(w[De]=[]);var Ne=w[De].length;w[De].push(xe),R1(xe,{index:Ne,depth:De})},_=function(xe,De){var Ne=wi(xe),We=Ne.depth,qe=Ne.index;w[We][qe]=null,xe.isChildless()&&C(xe,De)};i.bfs({roots:c,directed:e.directed,visit:function(xe,De,Ne,We,qe){var Oe=xe[0],Je=Oe.id();Oe.isChildless()&&C(Oe,qe),S[Je]=!0}});for(var N=[],M=0;M<o.length;M++){var P=o[M];S[P.id()]||N.push(P)}var I=function(xe){for(var De=w[xe],Ne=0;Ne<De.length;Ne++){var We=De[Ne];if(We==null){De.splice(Ne,1),Ne--;continue}R1(We,{depth:xe,index:Ne})}},L=function(xe,De){for(var Ne=wi(xe),We=xe.incomers().filter(function(st){return st.isNode()&&r.has(st)}),qe=-1,Oe=xe.id(),Je=0;Je<We.length;Je++){var ht=We[Je],xt=wi(ht);qe=Math.max(qe,xt.depth)}if(Ne.depth<=qe){if(!e.acyclic&&De[Oe])return null;var rt=qe+1;return _(xe,rt),De[Oe]=rt,!0}return!1};if(s&&u){var F=[],O={},A=function(xe){return F.push(xe)},U=function(){return F.shift()};for(o.forEach(function(xe){return F.push(xe)});F.length>0;){var j=U(),$=L(j,O);if($)j.outgoers().filter(function(xe){return xe.isNode()&&r.has(xe)}).forEach(A);else if($===null){bt("Detected double maximal shift for node `"+j.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var z=0;if(e.avoidOverlap)for(var V=0;V<o.length;V++){var W=o[V],q=W.layoutDimensions(e),Z=q.w,R=q.h;z=Math.max(z,Z,R)}var X={},H=function(xe){if(X[xe.id()])return X[xe.id()];for(var De=wi(xe).depth,Ne=xe.neighborhood(),We=0,qe=0,Oe=0;Oe<Ne.length;Oe++){var Je=Ne[Oe];if(!(Je.isEdge()||Je.isParent()||!o.has(Je))){var ht=wi(Je);if(ht!=null){var xt=ht.index,rt=ht.depth;if(!(xt==null||rt==null)){var st=w[rt].length;rt<De&&(We+=xt/st,qe++)}}}}return qe=Math.max(1,qe),We=We/qe,qe===0&&(We=0),X[xe.id()]=We,We},ee=function(xe,De){var Ne=H(xe),We=H(De),qe=Ne-We;return qe===0?vx(xe.id(),De.id()):qe};e.depthSort!==void 0&&(ee=e.depthSort);for(var de=w.length,se=0;se<de;se++)w[se].sort(ee),I(se);for(var pe=[],be=0;be<N.length;be++)pe.push(N[be]);var Q=function(){for(var xe=0;xe<de;xe++)I(xe)};pe.length&&(w.unshift(pe),de=w.length,Q());for(var te=0,ne=0;ne<de;ne++)te=Math.max(w[ne].length,te);var ve={x:d.x1+d.w/2,y:d.y1+d.h/2},we=o.reduce(function(xe,De){return(function(Ne){return{w:xe.w===-1?Ne.w:(xe.w+Ne.w)/2,h:xe.h===-1?Ne.h:(xe.h+Ne.h)/2}})(De.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),Ee=Math.max(de===1?0:h?(d.h-e.padding*2-we.h)/(de-1):(d.h-e.padding*2-we.h)/(de+1),z),$e=w.reduce(function(xe,De){return Math.max(xe,De.length)},0),Fe=function(xe){var De=wi(xe),Ne=De.depth,We=De.index;if(e.circle){var qe=Math.min(d.w/2/de,d.h/2/de);qe=Math.max(qe,z);var Oe=qe*Ne+qe-(de>0&&w[0].length<=3?qe/2:0),Je=2*Math.PI/w[Ne].length*We;return Ne===0&&w[0].length===1&&(Oe=1),{x:ve.x+Oe*Math.cos(Je),y:ve.y+Oe*Math.sin(Je)}}else{var ht=w[Ne].length,xt=Math.max(ht===1?0:h?(d.w-e.padding*2-we.w)/((e.grid?$e:ht)-1):(d.w-e.padding*2-we.w)/((e.grid?$e:ht)+1),z),rt={x:ve.x+(We+1-(ht+1)/2)*xt,y:ve.y+(Ne+1-(de+1)/2)*Ee};return rt}},Ye={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Ye).indexOf(e.direction)===-1&&Lt("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Ye).join(", ")));var it=function(xe){return gS(Fe(xe),d,Ye[e.direction])};return r.nodes().layoutPositions(this,e,it),this};var e_={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function vw(e){this.options=Ve({},e_,e)}vw.prototype.run=function(){var e=this.options,t=e,r=e.cy,o=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,s=o.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var u=In(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),h={x:u.x1+u.w/2,y:u.y1+u.h/2},d=t.sweep===void 0?2*Math.PI-2*Math.PI/s.length:t.sweep,c=d/Math.max(1,s.length-1),p,g=0,y=0;y<s.length;y++){var b=s[y],x=b.layoutDimensions(t),k=x.w,E=x.h;g=Math.max(g,k,E)}if(ke(t.radius)?p=t.radius:s.length<=1?p=0:p=Math.min(u.h,u.w)/2-g,s.length>1&&t.avoidOverlap){g*=1.75;var w=Math.cos(c)-Math.cos(0),S=Math.sin(c)-Math.sin(0),C=Math.sqrt(g*g/(w*w+S*S));p=Math.max(C,p)}var _=function(N,M){var P=t.startAngle+M*c*(i?1:-1),I=p*Math.cos(P),L=p*Math.sin(P),F={x:h.x+I,y:h.y+L};return F};return o.nodes().layoutPositions(this,t,_),this};var t_={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function mw(e){this.options=Ve({},t_,e)}mw.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,o=e.cy,i=t.eles,s=i.nodes().not(":parent"),u=In(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),h={x:u.x1+u.w/2,y:u.y1+u.h/2},d=[],c=0,p=0;p<s.length;p++){var g=s[p],y=void 0;y=t.concentric(g),d.push({value:y,node:g}),g._private.scratch.concentric=y}s.updateStyle();for(var b=0;b<s.length;b++){var x=s[b],k=x.layoutDimensions(t);c=Math.max(c,k.w,k.h)}d.sort(function(Ee,$e){return $e.value-Ee.value});for(var E=t.levelWidth(s),w=[[]],S=w[0],C=0;C<d.length;C++){var _=d[C];if(S.length>0){var N=Math.abs(S[0].value-_.value);N>=E&&(S=[],w.push(S))}S.push(_)}var M=c+t.minNodeSpacing;if(!t.avoidOverlap){var P=w.length>0&&w[0].length>1,I=Math.min(u.w,u.h)/2-M,L=I/(w.length+P?1:0);M=Math.min(M,L)}for(var F=0,O=0;O<w.length;O++){var A=w[O],U=t.sweep===void 0?2*Math.PI-2*Math.PI/A.length:t.sweep,j=A.dTheta=U/Math.max(1,A.length-1);if(A.length>1&&t.avoidOverlap){var $=Math.cos(j)-Math.cos(0),z=Math.sin(j)-Math.sin(0),V=Math.sqrt(M*M/($*$+z*z));F=Math.max(V,F)}A.r=F,F+=M}if(t.equidistant){for(var W=0,q=0,Z=0;Z<w.length;Z++){var R=w[Z],X=R.r-q;W=Math.max(W,X)}q=0;for(var H=0;H<w.length;H++){var ee=w[H];H===0&&(q=ee.r),ee.r=q,q+=W}}for(var de={},se=0;se<w.length;se++)for(var pe=w[se],be=pe.dTheta,Q=pe.r,te=0;te<pe.length;te++){var ne=pe[te],ve=t.startAngle+(r?1:-1)*be*te,we={x:h.x+Q*Math.cos(ve),y:h.y+Q*Math.sin(ve)};de[ne.node.id()]=we}return i.nodes().layoutPositions(this,t,function(Ee){var $e=Ee.id();return de[$e]}),this};var wp,n_={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Oc(e){this.options=Ve({},n_,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),o=r.filter(function(i){var s=i.source().data("id"),u=i.target().data("id"),h=t.some(function(c){return c.data("id")===s}),d=t.some(function(c){return c.data("id")===u});return!h||!d});this.options.eles=this.options.eles.not(o)}Oc.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?wp=!0:wp=!1;var o=r_(t,r,e);wp&&o_(o),e.randomize&&i_(o);var i=ra(),s=function(){l_(o,t,e),e.fit===!0&&t.fit(e.padding)},u=function(g){return!(r.stopped||g>=e.numIter||(s_(o,e),o.temperature=o.temperature*e.coolingFactor,o.temperature<e.minTemp))},h=function(){if(e.animate===!0||e.animate===!1)s(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var g=e.eles.nodes(),y=bw(o,e,g);g.layoutPositions(r,e,y)}},d=0,c=!0;if(e.animate===!0){var p=function(){for(var g=0;c&&g<e.refresh;)c=u(d),d++,g++;if(!c)M1(o,e),h();else{var y=ra();y-i>=e.animationThreshold&&s(),cc(p)}};p()}else{for(;c;)c=u(d),d++;M1(o,e),h()}return this};Oc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Oc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var r_=function(e,t,r){for(var o=r.eles.edges(),i=r.eles.nodes(),s=In(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:o.size(),temperature:r.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},h=r.eles.components(),d={},c=0;c<h.length;c++)for(var p=h[c],g=0;g<p.length;g++){var y=p[g];d[y.id()]=c}for(var c=0;c<u.nodeSize;c++){var b=i[c],x=b.layoutDimensions(r),k={};k.isLocked=b.locked(),k.id=b.data("id"),k.parentId=b.data("parent"),k.cmptId=d[b.id()],k.children=[],k.positionX=b.position("x"),k.positionY=b.position("y"),k.offsetX=0,k.offsetY=0,k.height=x.w,k.width=x.h,k.maxX=k.positionX+k.width/2,k.minX=k.positionX-k.width/2,k.maxY=k.positionY+k.height/2,k.minY=k.positionY-k.height/2,k.padLeft=parseFloat(b.style("padding")),k.padRight=parseFloat(b.style("padding")),k.padTop=parseFloat(b.style("padding")),k.padBottom=parseFloat(b.style("padding")),k.nodeRepulsion=Vt(r.nodeRepulsion)?r.nodeRepulsion(b):r.nodeRepulsion,u.layoutNodes.push(k),u.idToIndex[k.id]=c}for(var E=[],w=0,S=-1,C=[],c=0;c<u.nodeSize;c++){var b=u.layoutNodes[c],_=b.parentId;_!=null?u.layoutNodes[u.idToIndex[_]].children.push(b.id):(E[++S]=b.id,C.push(b.id))}for(u.graphSet.push(C);w<=S;){var N=E[w++],M=u.idToIndex[N],y=u.layoutNodes[M],P=y.children;if(P.length>0){u.graphSet.push(P);for(var c=0;c<P.length;c++)E[++S]=P[c]}}for(var c=0;c<u.graphSet.length;c++)for(var I=u.graphSet[c],g=0;g<I.length;g++){var L=u.idToIndex[I[g]];u.indexToGraph[L]=c}for(var c=0;c<u.edgeSize;c++){var F=o[c],O={};O.id=F.data("id"),O.sourceId=F.data("source"),O.targetId=F.data("target");var A=Vt(r.idealEdgeLength)?r.idealEdgeLength(F):r.idealEdgeLength,U=Vt(r.edgeElasticity)?r.edgeElasticity(F):r.edgeElasticity,j=u.idToIndex[O.sourceId],$=u.idToIndex[O.targetId],z=u.indexToGraph[j],V=u.indexToGraph[$];if(z!=V){for(var W=a_(O.sourceId,O.targetId,u),q=u.graphSet[W],Z=0,k=u.layoutNodes[j];q.indexOf(k.id)===-1;)k=u.layoutNodes[u.idToIndex[k.parentId]],Z++;for(k=u.layoutNodes[$];q.indexOf(k.id)===-1;)k=u.layoutNodes[u.idToIndex[k.parentId]],Z++;A*=Z*r.nestingFactor}O.idealLength=A,O.elasticity=U,u.layoutEdges.push(O)}return u},a_=function(e,t,r){var o=yw(e,t,0,r);return 2>o.count?0:o.graph},yw=function(e,t,r,o){var i=o.graphSet[r];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:r};for(var s=0,u=0;u<i.length;u++){var h=i[u],d=o.idToIndex[h],c=o.layoutNodes[d].children;if(c.length!==0){var p=o.indexToGraph[o.idToIndex[c[0]]],g=yw(e,t,p,o);if(g.count!==0)if(g.count===1){if(s++,s===2)break}else return g}}return{count:s,graph:r}},o_,i_=function(e,t){for(var r=e.clientWidth,o=e.clientHeight,i=0;i<e.nodeSize;i++){var s=e.layoutNodes[i];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*r,s.positionY=Math.random()*o)}},bw=function(e,t,r){var o=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(s){var u=e.layoutNodes[e.idToIndex[s.data("id")]];i.x1=Math.min(i.x1,u.positionX),i.x2=Math.max(i.x2,u.positionX),i.y1=Math.min(i.y1,u.positionY),i.y2=Math.max(i.y2,u.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(s,u){var h=e.layoutNodes[e.idToIndex[s.data("id")]];if(t.boundingBox){var d=i.w===0?.5:(h.positionX-i.x1)/i.w,c=i.h===0?.5:(h.positionY-i.y1)/i.h;return{x:o.x1+d*o.w,y:o.y1+c*o.h}}else return{x:h.positionX,y:h.positionY}}},l_=function(e,t,r){var o=r.layout,i=r.eles.nodes(),s=bw(e,r,i);i.positions(s),e.ready!==!0&&(e.ready=!0,o.one("layoutready",r.ready),o.emit({type:"layoutready",layout:this}))},s_=function(e,t,r){u_(e,t),f_(e),h_(e,t),p_(e),g_(e)},u_=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var o=e.graphSet[r],i=o.length,s=0;s<i;s++)for(var u=e.layoutNodes[e.idToIndex[o[s]]],h=s+1;h<i;h++){var d=e.layoutNodes[e.idToIndex[o[h]]];c_(u,d,e,t)}},A1=function(e){return-1+2*e*Math.random()},c_=function(e,t,r,o){var i=e.cmptId,s=t.cmptId;if(!(i!==s&&!r.isCompound)){var u=t.positionX-e.positionX,h=t.positionY-e.positionY,d=1;u===0&&h===0&&(u=A1(d),h=A1(d));var c=d_(e,t,u,h);if(c>0)var E=o.nodeOverlap*c,k=Math.sqrt(u*u+h*h),w=E*u/k,S=E*h/k;else var p=mc(e,u,h),g=mc(t,-1*u,-1*h),y=g.x-p.x,b=g.y-p.y,x=y*y+b*b,k=Math.sqrt(x),E=(e.nodeRepulsion+t.nodeRepulsion)/x,w=E*y/k,S=E*b/k;e.isLocked||(e.offsetX-=w,e.offsetY-=S),t.isLocked||(t.offsetX+=w,t.offsetY+=S)}},d_=function(e,t,r,o){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(o>0)var s=e.maxY-t.minY;else var s=t.maxY-e.minY;return i>=0&&s>=0?Math.sqrt(i*i+s*s):0},mc=function(e,t,r){var o=e.positionX,i=e.positionY,s=e.height||1,u=e.width||1,h=r/t,d=s/u,c={};return t===0&&0<r||t===0&&0>r?(c.x=o,c.y=i+s/2,c):0<t&&-1*d<=h&&h<=d?(c.x=o+u/2,c.y=i+u*r/2/t,c):0>t&&-1*d<=h&&h<=d?(c.x=o-u/2,c.y=i-u*r/2/t,c):0<r&&(h<=-1*d||h>=d)?(c.x=o+s*t/2/r,c.y=i+s/2,c):(0>r&&(h<=-1*d||h>=d)&&(c.x=o-s*t/2/r,c.y=i-s/2),c)},f_=function(e,t){for(var r=0;r<e.edgeSize;r++){var o=e.layoutEdges[r],i=e.idToIndex[o.sourceId],s=e.layoutNodes[i],u=e.idToIndex[o.targetId],h=e.layoutNodes[u],d=h.positionX-s.positionX,c=h.positionY-s.positionY;if(!(d===0&&c===0)){var p=mc(s,d,c),g=mc(h,-1*d,-1*c),y=g.x-p.x,b=g.y-p.y,x=Math.sqrt(y*y+b*b),k=Math.pow(o.idealLength-x,2)/o.elasticity;if(x!==0)var E=k*y/x,w=k*b/x;else var E=0,w=0;s.isLocked||(s.offsetX+=E,s.offsetY+=w),h.isLocked||(h.offsetX-=E,h.offsetY-=w)}}},h_=function(e,t){if(t.gravity!==0)for(var r=1,o=0;o<e.graphSet.length;o++){var i=e.graphSet[o],s=i.length;if(o===0)var d=e.clientHeight/2,c=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],h=e.layoutNodes[e.idToIndex[u.parentId]],d=h.positionX,c=h.positionY;for(var p=0;p<s;p++){var g=e.layoutNodes[e.idToIndex[i[p]]];if(!g.isLocked){var y=d-g.positionX,b=c-g.positionY,x=Math.sqrt(y*y+b*b);if(x>r){var k=t.gravity*y/x,E=t.gravity*b/x;g.offsetX+=k,g.offsetY+=E}}}}},p_=function(e,t){var r=[],o=0,i=-1;for(r.push.apply(r,e.graphSet[0]),i+=e.graphSet[0].length;o<=i;){var s=r[o++],u=e.idToIndex[s],h=e.layoutNodes[u],d=h.children;if(0<d.length&&!h.isLocked){for(var c=h.offsetX,p=h.offsetY,g=0;g<d.length;g++){var y=e.layoutNodes[e.idToIndex[d[g]]];y.offsetX+=c,y.offsetY+=p,r[++i]=d[g]}h.offsetX=0,h.offsetY=0}}},g_=function(e,t){for(var r=0;r<e.nodeSize;r++){var o=e.layoutNodes[r];0<o.children.length&&(o.maxX=void 0,o.minX=void 0,o.maxY=void 0,o.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var o=e.layoutNodes[r];if(!(0<o.children.length||o.isLocked)){var i=v_(o.offsetX,o.offsetY,e.temperature);o.positionX+=i.x,o.positionY+=i.y,o.offsetX=0,o.offsetY=0,o.minX=o.positionX-o.width,o.maxX=o.positionX+o.width,o.minY=o.positionY-o.height,o.maxY=o.positionY+o.height,xw(o,e)}}for(var r=0;r<e.nodeSize;r++){var o=e.layoutNodes[r];0<o.children.length&&!o.isLocked&&(o.positionX=(o.maxX+o.minX)/2,o.positionY=(o.maxY+o.minY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY)}},v_=function(e,t,r){var o=Math.sqrt(e*e+t*t);if(o>r)var i={x:r*e/o,y:r*t/o};else var i={x:e,y:t};return i},xw=function(e,t){var r=e.parentId;if(r!=null){var o=t.layoutNodes[t.idToIndex[r]],i=!1;if((o.maxX==null||e.maxX+o.padRight>o.maxX)&&(o.maxX=e.maxX+o.padRight,i=!0),(o.minX==null||e.minX-o.padLeft<o.minX)&&(o.minX=e.minX-o.padLeft,i=!0),(o.maxY==null||e.maxY+o.padBottom>o.maxY)&&(o.maxY=e.maxY+o.padBottom,i=!0),(o.minY==null||e.minY-o.padTop<o.minY)&&(o.minY=e.minY-o.padTop,i=!0),i)return xw(o,t)}},M1=function(e,t){for(var r=e.layoutNodes,o=[],i=0;i<r.length;i++){var s=r[i],u=s.cmptId,h=o[u]=o[u]||[];h.push(s)}for(var d=0,i=0;i<o.length;i++){var c=o[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var p=0;p<c.length;p++){var g=c[p];c.x1=Math.min(c.x1,g.positionX-g.width/2),c.x2=Math.max(c.x2,g.positionX+g.width/2),c.y1=Math.min(c.y1,g.positionY-g.height/2),c.y2=Math.max(c.y2,g.positionY+g.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,d+=c.w*c.h}}o.sort(function(w,S){return S.w*S.h-w.w*w.h});for(var y=0,b=0,x=0,k=0,E=Math.sqrt(d)*e.clientWidth/e.clientHeight,i=0;i<o.length;i++){var c=o[i];if(c){for(var p=0;p<c.length;p++){var g=c[p];g.isLocked||(g.positionX+=y-c.x1,g.positionY+=b-c.y1)}y+=c.w+t.componentSpacing,x+=c.w+t.componentSpacing,k=Math.max(k,c.h),x>E&&(b+=k+t.componentSpacing,y=0,x=0,k=0)}}},m_={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function ww(e){this.options=Ve({},m_,e)}ww.prototype.run=function(){var e=this.options,t=e,r=e.cy,o=t.eles,i=o.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var s=In(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(s.h===0||s.w===0)o.nodes().layoutPositions(this,t,function(H){return{x:s.x1,y:s.y1}});else{var u=i.size(),h=Math.sqrt(u*s.h/s.w),d=Math.round(h),c=Math.round(s.w/s.h*h),p=function(H){if(H==null)return Math.min(d,c);var ee=Math.min(d,c);ee==d?d=H:c=H},g=function(H){if(H==null)return Math.max(d,c);var ee=Math.max(d,c);ee==d?d=H:c=H},y=t.rows,b=t.cols!=null?t.cols:t.columns;if(y!=null&&b!=null)d=y,c=b;else if(y!=null&&b==null)d=y,c=Math.ceil(u/d);else if(y==null&&b!=null)c=b,d=Math.ceil(u/c);else if(c*d>u){var x=p(),k=g();(x-1)*k>=u?p(x-1):(k-1)*x>=u&&g(k-1)}else for(;c*d<u;){var E=p(),w=g();(w+1)*E>=u?g(w+1):p(E+1)}var S=s.w/c,C=s.h/d;if(t.condense&&(S=0,C=0),t.avoidOverlap)for(var _=0;_<i.length;_++){var N=i[_],M=N._private.position;(M.x==null||M.y==null)&&(M.x=0,M.y=0);var P=N.layoutDimensions(t),I=t.avoidOverlapPadding,L=P.w+I,F=P.h+I;S=Math.max(S,L),C=Math.max(C,F)}for(var O={},A=function(H,ee){return!!O["c-"+H+"-"+ee]},U=function(H,ee){O["c-"+H+"-"+ee]=!0},j=0,$=0,z=function(){$++,$>=c&&($=0,j++)},V={},W=0;W<i.length;W++){var q=i[W],Z=t.position(q);if(Z&&(Z.row!==void 0||Z.col!==void 0)){var R={row:Z.row,col:Z.col};if(R.col===void 0)for(R.col=0;A(R.row,R.col);)R.col++;else if(R.row===void 0)for(R.row=0;A(R.row,R.col);)R.row++;V[q.id()]=R,U(R.row,R.col)}}var X=function(H,ee){var de,se;if(H.locked()||H.isParent())return!1;var pe=V[H.id()];if(pe)de=pe.col*S+S/2+s.x1,se=pe.row*C+C/2+s.y1;else{for(;A(j,$);)z();de=$*S+S/2+s.x1,se=j*C+C/2+s.y1,U(j,$),z()}return{x:de,y:se}};i.layoutPositions(this,t,X)}return this};var y_={ready:function(){},stop:function(){}};function Eg(e){this.options=Ve({},y_,e)}Eg.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};Eg.prototype.stop=function(){return this};var b_={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function kw(e){this.options=Ve({},b_,e)}kw.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),o=Vt(e.positions);function i(s){if(e.positions==null)return jS(s.position());if(o)return e.positions(s);var u=e.positions[s._private.data.id];return u??null}return r.layoutPositions(this,e,function(s,u){var h=i(s);return s.locked()||h==null?!1:h}),this};var x_={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ew(e){this.options=Ve({},x_,e)}Ew.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,o=In(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=function(s,u){return{x:o.x1+Math.round(Math.random()*o.w),y:o.y1+Math.round(Math.random()*o.h)}};return r.nodes().layoutPositions(this,e,i),this};var w_=[{name:"breadthfirst",impl:gw},{name:"circle",impl:vw},{name:"concentric",impl:mw},{name:"cose",impl:Oc},{name:"grid",impl:ww},{name:"null",impl:Eg},{name:"preset",impl:kw},{name:"random",impl:Ew}];function Sw(e){this.options=e,this.notifications=0}var z1=function(){},I1=function(){throw new Error("A headless instance can not render images")};Sw.prototype={recalculateRenderedStyle:z1,notify:function(){this.notifications++},init:z1,isHeadless:function(){return!0},png:I1,jpg:I1};var Sg={};Sg.arrowShapeWidth=.3;Sg.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(d,c,p,g,y,b,x){var k=y.x-p/2-x,E=y.x+p/2+x,w=y.y-p/2-x,S=y.y+p/2+x,C=k<=d&&d<=E&&w<=c&&c<=S;return C},o=function(d,c,p,g,y){var b=d*Math.cos(g)-c*Math.sin(g),x=d*Math.sin(g)+c*Math.cos(g),k=b*p,E=x*p,w=k+y.x,S=E+y.y;return{x:w,y:S}},i=function(d,c,p,g){for(var y=[],b=0;b<d.length;b+=2){var x=d[b],k=d[b+1];y.push(o(x,k,c,p,g))}return y},s=function(d){for(var c=[],p=0;p<d.length;p++){var g=d[p];c.push(g.x,g.y)}return c},u=function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").pfValue*2},h=function(d,c){ze(c)&&(c=e[c]),e[d]=Ve({name:d,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,g,y,b,x,k){var E=s(i(this.points,y+2*k,b,x)),w=qn(p,g,E);return w},roughCollide:r,draw:function(p,g,y,b){var x=i(this.points,g,y,b);t.arrowShapeImpl("polygon")(p,x)},spacing:function(p){return 0},gap:u},c)};h("none",{collide:dc,roughCollide:dc,draw:ug,spacing:H0,gap:H0}),h("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),h("arrow","triangle"),h("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(d,c,p,g,y){var b=i(this.points,c,p,g),x=this.controlPoint,k=o(x[0],x[1],c,p,g);t.arrowShapeImpl(this.name)(d,b,k)},gap:function(d){return u(d)*.8}}),h("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(d,c,p,g,y,b,x){var k=s(i(this.points,p+2*x,g,y)),E=s(i(this.pointsTee,p+2*x,g,y)),w=qn(d,c,k)||qn(d,c,E);return w},draw:function(d,c,p,g,y){var b=i(this.points,c,p,g),x=i(this.pointsTee,c,p,g);t.arrowShapeImpl(this.name)(d,b,x)}}),h("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(d,c,p,g,y,b,x){var k=y,E=Math.pow(k.x-d,2)+Math.pow(k.y-c,2)<=Math.pow((p+2*x)*this.radius,2),w=s(i(this.points,p+2*x,g,y));return qn(d,c,w)||E},draw:function(d,c,p,g,y){var b=i(this.pointsTr,c,p,g);t.arrowShapeImpl(this.name)(d,b,g.x,g.y,this.radius*c)},spacing:function(d){return t.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),h("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(d,c){var p=this.baseCrossLinePts.slice(),g=c/d,y=3,b=5;return p[y]=p[y]-g,p[b]=p[b]-g,p},collide:function(d,c,p,g,y,b,x){var k=s(i(this.points,p+2*x,g,y)),E=s(i(this.crossLinePts(p,b),p+2*x,g,y)),w=qn(d,c,k)||qn(d,c,E);return w},draw:function(d,c,p,g,y){var b=i(this.points,c,p,g),x=i(this.crossLinePts(c,y),c,p,g);t.arrowShapeImpl(this.name)(d,b,x)}}),h("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(d){return u(d)*.525}}),h("circle",{radius:.15,collide:function(d,c,p,g,y,b,x){var k=y,E=Math.pow(k.x-d,2)+Math.pow(k.y-c,2)<=Math.pow((p+2*x)*this.radius,2);return E},draw:function(d,c,p,g,y){t.arrowShapeImpl(this.name)(d,g.x,g.y,this.radius*c)},spacing:function(d){return t.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),h("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(d){return 1},gap:function(d){return 1}}),h("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),h("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}}),h("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(d){return .95*d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}})};var Oo={};Oo.projectIntoViewport=function(e,t){var r=this.cy,o=this.findContainerClientCoords(),i=o[0],s=o[1],u=o[4],h=r.pan(),d=r.zoom(),c=((e-i)/u-h.x)/d,p=((t-s)/u-h.y)/d;return[c,p]};Oo.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),o=function(E){return parseFloat(r.getPropertyValue(E))},i={left:o("padding-left"),right:o("padding-right"),top:o("padding-top"),bottom:o("padding-bottom")},s={left:o("border-left-width"),right:o("border-right-width"),top:o("border-top-width"),bottom:o("border-bottom-width")},u=e.clientWidth,h=e.clientHeight,d=i.left+i.right,c=i.top+i.bottom,p=s.left+s.right,g=t.width/(u+p),y=u-d,b=h-c,x=t.left+i.left+s.left,k=t.top+i.top+s.top;return this.containerBB=[x,k,y,b,g]};Oo.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Oo.findNearestElement=function(e,t,r,o){return this.findNearestElements(e,t,r,o)[0]};Oo.findNearestElements=function(e,t,r,o){var i=this,s=this,u=s.getCachedZSortedEles(),h=[],d=s.cy.zoom(),c=s.cy.hasCompoundNodes(),p=(o?24:8)/d,g=(o?8:2)/d,y=(o?8:2)/d,b=1/0,x,k;r&&(u=u.interactive);function E(P,I){if(P.isNode()){if(k)return;k=P,h.push(P)}if(P.isEdge()&&(I==null||I<b))if(x){if(x.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value&&x.pstyle("z-compound-depth").value===P.pstyle("z-compound-depth").value){for(var L=0;L<h.length;L++)if(h[L].isEdge()){h[L]=P,x=P,b=I??b;break}}}else h.push(P),x=P,b=I??b}function w(P){var I=P.outerWidth()+2*g,L=P.outerHeight()+2*g,F=I/2,O=L/2,A=P.position(),U=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,j=P._private.rscratch;if(A.x-F<=e&&e<=A.x+F&&A.y-O<=t&&t<=A.y+O){var $=s.nodeShapes[i.getNodeShape(P)];if($.checkPoint(e,t,0,I,L,A.x,A.y,U,j))return E(P,0),!0}}function S(P){var I=P._private,L=I.rscratch,F=P.pstyle("width").pfValue,O=P.pstyle("arrow-scale").value,A=F/2+p,U=A*A,j=A*2,$=I.source,z=I.target,V;if(L.edgeType==="segments"||L.edgeType==="straight"||L.edgeType==="haystack"){for(var W=L.allpts,q=0;q+3<W.length;q+=2)if(tC(e,t,W[q],W[q+1],W[q+2],W[q+3],j)&&U>(V=iC(e,t,W[q],W[q+1],W[q+2],W[q+3])))return E(P,V),!0}else if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"){for(var W=L.allpts,q=0;q+5<L.allpts.length;q+=4)if(nC(e,t,W[q],W[q+1],W[q+2],W[q+3],W[q+4],W[q+5],j)&&U>(V=oC(e,t,W[q],W[q+1],W[q+2],W[q+3],W[q+4],W[q+5])))return E(P,V),!0}for(var $=$||I.source,z=z||I.target,Z=i.getArrowWidth(F,O),R=[{name:"source",x:L.arrowStartX,y:L.arrowStartY,angle:L.srcArrowAngle},{name:"target",x:L.arrowEndX,y:L.arrowEndY,angle:L.tgtArrowAngle},{name:"mid-source",x:L.midX,y:L.midY,angle:L.midsrcArrowAngle},{name:"mid-target",x:L.midX,y:L.midY,angle:L.midtgtArrowAngle}],q=0;q<R.length;q++){var X=R[q],H=s.arrowShapes[P.pstyle(X.name+"-arrow-shape").value],ee=P.pstyle("width").pfValue;if(H.roughCollide(e,t,Z,X.angle,{x:X.x,y:X.y},ee,p)&&H.collide(e,t,Z,X.angle,{x:X.x,y:X.y},ee,p))return E(P),!0}c&&h.length>0&&(w($),w(z))}function C(P,I,L){return Un(P,I,L)}function _(P,I){var L=P._private,F=y,O;I?O=I+"-":O="",P.boundingBox();var A=L.labelBounds[I||"main"],U=P.pstyle(O+"label").value,j=P.pstyle("text-events").strValue==="yes";if(!(!j||!U)){var $=C(L.rscratch,"labelX",I),z=C(L.rscratch,"labelY",I),V=C(L.rscratch,"labelAngle",I),W=P.pstyle(O+"text-margin-x").pfValue,q=P.pstyle(O+"text-margin-y").pfValue,Z=A.x1-F-W,R=A.x2+F-W,X=A.y1-F-q,H=A.y2+F-q;if(V){var ee=Math.cos(V),de=Math.sin(V),se=function(ve,we){return ve=ve-$,we=we-z,{x:ve*ee-we*de+$,y:ve*de+we*ee+z}},pe=se(Z,X),be=se(Z,H),Q=se(R,X),te=se(R,H),ne=[pe.x+W,pe.y+q,Q.x+W,Q.y+q,te.x+W,te.y+q,be.x+W,be.y+q];if(qn(e,t,ne))return E(P),!0}else if(Xa(A,e,t))return E(P),!0}}for(var N=u.length-1;N>=0;N--){var M=u[N];M.isNode()?w(M)||_(M):S(M)||_(M)||_(M,"source")||_(M,"target")}return h};Oo.getAllInBox=function(e,t,r,o){var i=this.getCachedZSortedEles().interactive,s=this.cy.zoom(),u=2/s,h=[],d=Math.min(e,r),c=Math.max(e,r),p=Math.min(t,o),g=Math.max(t,o);e=d,r=c,t=p,o=g;var y=In({x1:e,y1:t,x2:r,y2:o}),b=[{x:y.x1,y:y.y1},{x:y.x2,y:y.y1},{x:y.x2,y:y.y2},{x:y.x1,y:y.y2}],x=[[b[0],b[1]],[b[1],b[2]],[b[2],b[3]],[b[3],b[0]]];function k(we,Ee,$e){return Un(we,Ee,$e)}function E(we,Ee){var $e=we._private,Fe=u,Ye="";we.boundingBox();var it=$e.labelBounds.main;if(!it)return null;var xe=k($e.rscratch,"labelX",Ee),De=k($e.rscratch,"labelY",Ee),Ne=k($e.rscratch,"labelAngle",Ee),We=we.pstyle(Ye+"text-margin-x").pfValue,qe=we.pstyle(Ye+"text-margin-y").pfValue,Oe=it.x1-Fe-We,Je=it.x2+Fe-We,ht=it.y1-Fe-qe,xt=it.y2+Fe-qe;if(Ne){var rt=Math.cos(Ne),st=Math.sin(Ne),Se=function(Le,D){return Le=Le-xe,D=D-De,{x:Le*rt-D*st+xe,y:Le*st+D*rt+De}};return[Se(Oe,ht),Se(Je,ht),Se(Je,xt),Se(Oe,xt)]}else return[{x:Oe,y:ht},{x:Je,y:ht},{x:Je,y:xt},{x:Oe,y:xt}]}function w(we,Ee,$e,Fe){function Ye(it,xe,De){return(De.y-it.y)*(xe.x-it.x)>(xe.y-it.y)*(De.x-it.x)}return Ye(we,$e,Fe)!==Ye(Ee,$e,Fe)&&Ye(we,Ee,$e)!==Ye(we,Ee,Fe)}for(var S=0;S<i.length;S++){var C=i[S];if(C.isNode()){var _=C,N=_.pstyle("text-events").strValue==="yes",M=_.pstyle("box-selection").strValue,P=_.pstyle("box-select-labels").strValue==="yes";if(M==="none")continue;var I=(M==="overlap"||P)&&N,L=_.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:I});if(M==="contain"){var F=!1;if(P&&N){var O=E(_);O&&bh(O,b)&&(h.push(_),F=!0)}!F&&Bx(y,L)&&h.push(_)}else if(M==="overlap"&&hg(y,L)){var A=_.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),U=[{x:A.x1,y:A.y1},{x:A.x2,y:A.y1},{x:A.x2,y:A.y2},{x:A.x1,y:A.y2}];if(bh(U,b))h.push(_);else{var j=E(_);j&&bh(j,b)&&h.push(_)}}}else{var $=C,z=$._private,V=z.rscratch,W=$.pstyle("box-selection").strValue;if(W==="none")continue;if(W==="contain"){if(V.startX!=null&&V.startY!=null&&!Xa(y,V.startX,V.startY)||V.endX!=null&&V.endY!=null&&!Xa(y,V.endX,V.endY))continue;if(V.edgeType==="bezier"||V.edgeType==="multibezier"||V.edgeType==="self"||V.edgeType==="compound"||V.edgeType==="segments"||V.edgeType==="haystack"){for(var q=z.rstyle.bezierPts||z.rstyle.linePts||z.rstyle.haystackPts,Z=!0,R=0;R<q.length;R++)if(!tb(y,q[R])){Z=!1;break}Z&&h.push($)}else V.edgeType==="straight"&&h.push($)}else if(W==="overlap"){var X=!1;if(V.startX!=null&&V.startY!=null&&V.endX!=null&&V.endY!=null&&(Xa(y,V.startX,V.startY)||Xa(y,V.endX,V.endY)))h.push($),X=!0;else if(!X&&V.edgeType==="haystack"){for(var H=z.rstyle.haystackPts,ee=0;ee<H.length;ee++)if(tb(y,H[ee])){h.push($),X=!0;break}}if(!X){var de=z.rstyle.bezierPts||z.rstyle.linePts||z.rstyle.haystackPts;if((!de||de.length<2)&&V.edgeType==="straight"&&V.startX!=null&&V.startY!=null&&V.endX!=null&&V.endY!=null&&(de=[{x:V.startX,y:V.startY},{x:V.endX,y:V.endY}]),!de||de.length<2)continue;for(var se=0;se<de.length-1;se++){for(var pe=de[se],be=de[se+1],Q=0;Q<x.length;Q++){var te=ln(x[Q],2),ne=te[0],ve=te[1];if(w(pe,be,ne,ve)){h.push($),X=!0;break}}if(X)break}}}}}return h};var yc={};yc.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",o=t.edgeType==="bezier",i=t.edgeType==="multibezier",s=t.edgeType==="segments",u=t.edgeType==="compound",h=t.edgeType==="self",d,c,p,g,y,b,w,S;if(r?(p=t.haystackPts[0],g=t.haystackPts[1],y=t.haystackPts[2],b=t.haystackPts[3]):(p=t.arrowStartX,g=t.arrowStartY,y=t.arrowEndX,b=t.arrowEndY),w=t.midX,S=t.midY,s)d=p-t.segpts[0],c=g-t.segpts[1];else if(i||u||h||o){var x=t.allpts,k=gn(x[0],x[2],x[4],.1),E=gn(x[1],x[3],x[5],.1);d=p-k,c=g-E}else d=p-w,c=g-S;t.srcArrowAngle=zu(d,c);var w=t.midX,S=t.midY;if(r&&(w=(p+y)/2,S=(g+b)/2),d=y-p,c=b-g,s){var x=t.allpts;if(x.length/2%2===0){var C=x.length/2,_=C-2;d=x[C]-x[_],c=x[C+1]-x[_+1]}else if(t.isRound)d=t.midVector[1],c=-t.midVector[0];else{var C=x.length/2-1,_=C-2;d=x[C]-x[_],c=x[C+1]-x[_+1]}}else if(i||u||h){var x=t.allpts,N=t.ctrlpts,M,P,I,L;if(N.length/2%2===0){var F=x.length/2-1,O=F+2,A=O+2;M=gn(x[F],x[O],x[A],0),P=gn(x[F+1],x[O+1],x[A+1],0),I=gn(x[F],x[O],x[A],1e-4),L=gn(x[F+1],x[O+1],x[A+1],1e-4)}else{var O=x.length/2-1,F=O-2,A=O+2;M=gn(x[F],x[O],x[A],.4999),P=gn(x[F+1],x[O+1],x[A+1],.4999),I=gn(x[F],x[O],x[A],.5),L=gn(x[F+1],x[O+1],x[A+1],.5)}d=I-M,c=L-P}if(t.midtgtArrowAngle=zu(d,c),t.midDispX=d,t.midDispY=c,d*=-1,c*=-1,s){var x=t.allpts;if(x.length/2%2!==0&&!t.isRound){var C=x.length/2-1,U=C+2;d=-(x[U]-x[C]),c=-(x[U+1]-x[C+1])}}if(t.midsrcArrowAngle=zu(d,c),s)d=y-t.segpts[t.segpts.length-2],c=b-t.segpts[t.segpts.length-1];else if(i||u||h||o){var x=t.allpts,j=x.length,k=gn(x[j-6],x[j-4],x[j-2],.9),E=gn(x[j-5],x[j-3],x[j-1],.9);d=y-k,c=b-E}else d=y-w,c=b-S;t.tgtArrowAngle=zu(d,c)};yc.getArrowWidth=yc.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},o=r[e+", "+t];return o||(o=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=o,o)};var Yp,Kp,Rr={},fr={},O1,L1,Do,oc,ea,So,Po,Nr,ki,Wu,Cw,Tw,$p,Hp,F1,V1=function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},k_=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},E_=function(e,t,r,o,i){if(e!==F1?V1(t,e,Rr):k_(fr,Rr),V1(t,r,fr),O1=Rr.nx*fr.ny-Rr.ny*fr.nx,L1=Rr.nx*fr.nx-Rr.ny*-fr.ny,ea=Math.asin(Math.max(-1,Math.min(1,O1))),Math.abs(ea)<1e-6){Yp=t.x,Kp=t.y,Po=ki=0;return}Do=1,oc=!1,L1<0?ea<0?ea=Math.PI+ea:(ea=Math.PI-ea,Do=-1,oc=!0):ea>0&&(Do=-1,oc=!0),t.radius!==void 0?ki=t.radius:ki=o,So=ea/2,Wu=Math.min(Rr.len/2,fr.len/2),i?(Nr=Math.abs(Math.cos(So)*ki/Math.sin(So)),Nr>Wu?(Nr=Wu,Po=Math.abs(Nr*Math.sin(So)/Math.cos(So))):Po=ki):(Nr=Math.min(Wu,ki),Po=Math.abs(Nr*Math.sin(So)/Math.cos(So))),$p=t.x+fr.nx*Nr,Hp=t.y+fr.ny*Nr,Yp=$p-fr.ny*Po*Do,Kp=Hp+fr.nx*Po*Do,Cw=t.x+Rr.nx*Nr,Tw=t.y+Rr.ny*Nr,F1=t};function Pw(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Cg(e,t,r,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return o===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(E_(e,t,r,o,i),{cx:Yp,cy:Kp,radius:Po,startX:Cw,startY:Tw,stopX:$p,stopY:Hp,startAngle:Rr.ang+Math.PI/2*Do,endAngle:fr.ang-Math.PI/2*Do,counterClockwise:oc})}var os=.01,S_=Math.sqrt(2*os),Nn={};Nn.findMidptPtsEtc=function(e,t){var r=t.posPts,o=t.intersectionPts,i=t.vectorNormInverse,s,u=e.pstyle("source-endpoint"),h=e.pstyle("target-endpoint"),d=u.units!=null&&h.units!=null,c=function(_,N,M,P){var I=P-N,L=M-_,F=Math.sqrt(L*L+I*I);return{x:-I/F,y:L/F}},p=e.pstyle("edge-distances").value;switch(p){case"node-position":s=r;break;case"intersection":s=o;break;case"endpoints":{if(d){var g=this.manualEndptToPx(e.source()[0],u),y=ln(g,2),b=y[0],x=y[1],k=this.manualEndptToPx(e.target()[0],h),E=ln(k,2),w=E[0],S=E[1],C={x1:b,y1:x,x2:w,y2:S};i=c(b,x,w,S),s=C}else bt("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),s=o;break}}return{midptPts:s,vectorNormInverse:i}};Nn.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],o=r._private,i=o.rscratch;if(!i.haystack){var s=Math.random()*2*Math.PI;i.source={x:Math.cos(s),y:Math.sin(s)},s=Math.random()*2*Math.PI,i.target={x:Math.cos(s),y:Math.sin(s)}}var u=o.source,h=o.target,d=u.position(),c=h.position(),p=u.width(),g=h.width(),y=u.height(),b=h.height(),x=r.pstyle("haystack-radius").value,k=x/2;i.haystackPts=i.allpts=[i.source.x*p*k+d.x,i.source.y*y*k+d.y,i.target.x*g*k+c.x,i.target.y*b*k+c.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Nn.findSegmentsPoints=function(e,t){var r=e._private.rscratch,o=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),s=e.pstyle("segment-radii"),u=e.pstyle("radius-type"),h=Math.min(o.pfValue.length,i.pfValue.length),d=s.pfValue[s.pfValue.length-1],c=u.pfValue[u.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var p=0;p<h;p++){var g=o.pfValue[p],y=i.pfValue[p],b=1-g,x=g,k=this.findMidptPtsEtc(e,t),E=k.midptPts,w=k.vectorNormInverse,S={x:E.x1*b+E.x2*x,y:E.y1*b+E.y2*x};r.segpts.push(S.x+w.x*y,S.y+w.y*y),r.radii.push(s.pfValue[p]!==void 0?s.pfValue[p]:d),r.isArcRadius.push((u.pfValue[p]!==void 0?u.pfValue[p]:c)==="arc-radius")}};Nn.findLoopPoints=function(e,t,r,o){var i=e._private.rscratch,s=t.dirCounts,u=t.srcPos,h=e.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,p=e.pstyle("loop-sweep").pfValue,g=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var y=r,b=g;o&&(y=0,b=d);var x=c-Math.PI/2,k=x-p/2,E=x+p/2,w=c+"_"+p;y=s[w]===void 0?s[w]=0:++s[w],i.ctrlpts=[u.x+Math.cos(k)*1.4*b*(y/3+1),u.y+Math.sin(k)*1.4*b*(y/3+1),u.x+Math.cos(E)*1.4*b*(y/3+1),u.y+Math.sin(E)*1.4*b*(y/3+1)]};Nn.findCompoundLoopPoints=function(e,t,r,o){var i=e._private.rscratch;i.edgeType="compound";var s=t.srcPos,u=t.tgtPos,h=t.srcW,d=t.srcH,c=t.tgtW,p=t.tgtH,g=e.pstyle("control-point-step-size").pfValue,y=e.pstyle("control-point-distances"),b=y?y.pfValue[0]:void 0,x=r,k=g;o&&(x=0,k=b);var E=50,w={x:s.x-h/2,y:s.y-d/2},S={x:u.x-c/2,y:u.y-p/2},C={x:Math.min(w.x,S.x),y:Math.min(w.y,S.y)},_=.5,N=Math.max(_,Math.log(h*os)),M=Math.max(_,Math.log(c*os));i.ctrlpts=[C.x,C.y-(1+Math.pow(E,1.12)/100)*k*(x/3+1)*N,C.x-(1+Math.pow(E,1.12)/100)*k*(x/3+1)*M,C.y]};Nn.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};Nn.findBezierPoints=function(e,t,r,o,i){var s=e._private.rscratch,u=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),d=e.pstyle("control-point-weights"),c=h&&d?Math.min(h.value.length,d.value.length):1,p=h?h.pfValue[0]:void 0,g=d.value[0],y=o;s.edgeType=y?"multibezier":"bezier",s.ctrlpts=[];for(var b=0;b<c;b++){var x=(.5-t.eles.length/2+r)*u*(i?-1:1),k=void 0,E=fg(x);y&&(p=h?h.pfValue[b]:u,g=d.value[b]),o?k=p:k=p!==void 0?E*p:void 0;var w=k!==void 0?k:x,S=1-g,C=g,_=this.findMidptPtsEtc(e,t),N=_.midptPts,M=_.vectorNormInverse,P={x:N.x1*S+N.x2*C,y:N.y1*S+N.y2*C};s.ctrlpts.push(P.x+M.x*w,P.y+M.y*w)}};Nn.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var o="vertical",i="horizontal",s="leftward",u="rightward",h="downward",d="upward",c="auto",p=t.posPts,g=t.srcW,y=t.srcH,b=t.tgtW,x=t.tgtH,k=e.pstyle("edge-distances").value,E=k!=="node-position",w=e.pstyle("taxi-direction").value,S=w,C=e.pstyle("taxi-turn"),_=C.units==="%",N=C.pfValue,M=N<0,P=e.pstyle("taxi-turn-min-distance").pfValue,I=E?(g+b)/2:0,L=E?(y+x)/2:0,F=p.x2-p.x1,O=p.y2-p.y1,A=function(D,oe){return D>0?Math.max(D-oe,0):Math.min(D+oe,0)},U=A(F,I),j=A(O,L),$=!1;S===c?w=Math.abs(U)>Math.abs(j)?i:o:S===d||S===h?(w=o,$=!0):(S===s||S===u)&&(w=i,$=!0);var z=w===o,V=z?j:U,W=z?O:F,q=fg(W),Z=!1;!($&&(_||M))&&(S===h&&W<0||S===d&&W>0||S===s&&W>0||S===u&&W<0)&&(q*=-1,V=q*Math.abs(V),Z=!0);var R;if(_){var X=N<0?1+N:N;R=X*V}else{var H=N<0?V:0;R=H+N*q}var ee=function(D){return Math.abs(D)<P||Math.abs(D)>=Math.abs(V)},de=ee(R),se=ee(Math.abs(V)-Math.abs(R)),pe=de||se;if(pe&&!Z)if(z){var be=Math.abs(W)<=y/2,Q=Math.abs(F)<=b/2;if(be){var te=(p.x1+p.x2)/2,ne=p.y1,ve=p.y2;r.segpts=[te,ne,te,ve]}else if(Q){var we=(p.y1+p.y2)/2,Ee=p.x1,$e=p.x2;r.segpts=[Ee,we,$e,we]}else r.segpts=[p.x1,p.y2]}else{var Fe=Math.abs(W)<=g/2,Ye=Math.abs(O)<=x/2;if(Fe){var it=(p.y1+p.y2)/2,xe=p.x1,De=p.x2;r.segpts=[xe,it,De,it]}else if(Ye){var Ne=(p.x1+p.x2)/2,We=p.y1,qe=p.y2;r.segpts=[Ne,We,Ne,qe]}else r.segpts=[p.x2,p.y1]}else if(z){var Oe=p.y1+R+(E?y/2*q:0),Je=p.x1,ht=p.x2;r.segpts=[Je,Oe,ht,Oe]}else{var xt=p.x1+R+(E?g/2*q:0),rt=p.y1,st=p.y2;r.segpts=[xt,rt,xt,st]}if(r.isRound){var Se=e.pstyle("taxi-radius").value,Le=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(Se),r.isArcRadius=new Array(r.segpts.length/2).fill(Le)}};Nn.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var o=t.srcPos,i=t.tgtPos,s=t.srcW,u=t.srcH,h=t.tgtW,d=t.tgtH,c=t.srcShape,p=t.tgtShape,g=t.srcCornerRadius,y=t.tgtCornerRadius,b=t.srcRs,x=t.tgtRs,k=!ke(r.startX)||!ke(r.startY),E=!ke(r.arrowStartX)||!ke(r.arrowStartY),w=!ke(r.endX)||!ke(r.endY),S=!ke(r.arrowEndX)||!ke(r.arrowEndY),C=3,_=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,N=C*_,M=Ro({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),P=M<N,I=Ro({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),L=I<N,F=!1;if(k||E||P){F=!0;var O={x:r.ctrlpts[0]-o.x,y:r.ctrlpts[1]-o.y},A=Math.sqrt(O.x*O.x+O.y*O.y),U={x:O.x/A,y:O.y/A},j=Math.max(s,u),$={x:r.ctrlpts[0]+U.x*2*j,y:r.ctrlpts[1]+U.y*2*j},z=c.intersectLine(o.x,o.y,s,u,$.x,$.y,0,g,b);P?(r.ctrlpts[0]=r.ctrlpts[0]+U.x*(N-M),r.ctrlpts[1]=r.ctrlpts[1]+U.y*(N-M)):(r.ctrlpts[0]=z[0]+U.x*N,r.ctrlpts[1]=z[1]+U.y*N)}if(w||S||L){F=!0;var V={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},W=Math.sqrt(V.x*V.x+V.y*V.y),q={x:V.x/W,y:V.y/W},Z=Math.max(s,u),R={x:r.ctrlpts[0]+q.x*2*Z,y:r.ctrlpts[1]+q.y*2*Z},X=p.intersectLine(i.x,i.y,h,d,R.x,R.y,0,y,x);L?(r.ctrlpts[0]=r.ctrlpts[0]+q.x*(N-I),r.ctrlpts[1]=r.ctrlpts[1]+q.y*(N-I)):(r.ctrlpts[0]=X[0]+q.x*N,r.ctrlpts[1]=X[1]+q.y*N)}F&&this.findEndpoints(e)}};Nn.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var o,i;t.ctrlpts.length/2%2===0?(o=t.allpts.length/2-1,t.midX=t.allpts[o],t.midY=t.allpts[o+1]):(o=t.allpts.length/2-3,i=.5,t.midX=gn(t.allpts[o],t.allpts[o+2],t.allpts[o+4],i),t.midY=gn(t.allpts[o+1],t.allpts[o+3],t.allpts[o+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var s=2;s+3<t.allpts.length;s+=2){var u=t.radii[s/2-1],h=t.isArcRadius[s/2-1];t.roundCorners.push(Cg({x:t.allpts[s-2],y:t.allpts[s-1]},{x:t.allpts[s],y:t.allpts[s+1],radius:u},{x:t.allpts[s+2],y:t.allpts[s+3]},u,h))}}if(t.segpts.length%4===0){var d=t.segpts.length/2,c=d-2;t.midX=(t.segpts[c]+t.segpts[d])/2,t.midY=(t.segpts[c+1]+t.segpts[d+1])/2}else{var p=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[p],t.midY=t.segpts[p+1];else{var g={x:t.segpts[p],y:t.segpts[p+1]},y=t.roundCorners[p/2];if(y.radius===0){var b={x:t.segpts[p+2],y:t.segpts[p+3]};t.midX=g.x,t.midY=g.y,t.midVector=[g.y-b.y,b.x-g.x]}else{var x=[g.x-y.cx,g.y-y.cy],k=y.radius/Math.sqrt(Math.pow(x[0],2)+Math.pow(x[1],2));x=x.map(function(E){return E*k}),t.midX=y.cx+x[0],t.midY=y.cy+x[1],t.midVector=x}}}}};Nn.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||ke(t.startX)&&ke(t.startY)&&ke(t.endX)&&ke(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,bt("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Nn.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,o=r.cy,i=o.hasCompoundNodes(),s=new na,u=function(I,L){return[].concat(sc(I),[L?1:0]).join("-")},h=[],d=[],c=0;c<e.length;c++){var p=e[c],g=p._private,y=p.pstyle("curve-style").value;if(!(p.removed()||!p.takesUpSpace())){if(y==="haystack"){d.push(p);continue}var b=y==="unbundled-bezier"||ja(y,"segments")||y==="straight"||y==="straight-triangle"||ja(y,"taxi"),x=y==="unbundled-bezier"||y==="bezier",k=g.source,E=g.target,w=k.poolIndex(),S=E.poolIndex(),C=[w,S].sort(),_=u(C,b),N=s.get(_);N==null&&(N={eles:[]},h.push({pairId:C,edgeIsUnbundled:b}),s.set(_,N)),N.eles.push(p),b&&(N.hasUnbundled=!0),x&&(N.hasBezier=!0)}}for(var M=function(){var I=h[P],L=I.pairId,F=I.edgeIsUnbundled,O=u(L,F),A=s.get(O),U;if(!A.hasUnbundled){var j=A.eles[0].parallelEdges().filter(function(Se){return Se.isBundledBezier()});cg(A.eles),j.forEach(function(Se){return A.eles.push(Se)}),A.eles.sort(function(Se,Le){return Se.poolIndex()-Le.poolIndex()})}var $=A.eles[0],z=$.source(),V=$.target();if(z.poolIndex()>V.poolIndex()){var W=z;z=V,V=W}var q=A.srcPos=z.position(),Z=A.tgtPos=V.position(),R=A.srcW=z.outerWidth(),X=A.srcH=z.outerHeight(),H=A.tgtW=V.outerWidth(),ee=A.tgtH=V.outerHeight(),de=A.srcShape=r.nodeShapes[t.getNodeShape(z)],se=A.tgtShape=r.nodeShapes[t.getNodeShape(V)],pe=A.srcCornerRadius=z.pstyle("corner-radius").value==="auto"?"auto":z.pstyle("corner-radius").pfValue,be=A.tgtCornerRadius=V.pstyle("corner-radius").value==="auto"?"auto":V.pstyle("corner-radius").pfValue,Q=A.tgtRs=V._private.rscratch,te=A.srcRs=z._private.rscratch;A.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ne=0;ne<A.eles.length;ne++){var ve=A.eles[ne],we=ve[0]._private.rscratch,Ee=ve.pstyle("curve-style").value,$e=Ee==="unbundled-bezier"||ja(Ee,"segments")||ja(Ee,"taxi"),Fe=!z.same(ve.source());if(!A.calculatedIntersection&&z!==V&&(A.hasBezier||A.hasUnbundled)){A.calculatedIntersection=!0;var Ye=de.intersectLine(q.x,q.y,R,X,Z.x,Z.y,0,pe,te),it=A.srcIntn=Ye,xe=se.intersectLine(Z.x,Z.y,H,ee,q.x,q.y,0,be,Q),De=A.tgtIntn=xe,Ne=A.intersectionPts={x1:Ye[0],x2:xe[0],y1:Ye[1],y2:xe[1]},We=A.posPts={x1:q.x,x2:Z.x,y1:q.y,y2:Z.y},qe=xe[1]-Ye[1],Oe=xe[0]-Ye[0],Je=Math.sqrt(Oe*Oe+qe*qe);ke(Je)&&Je>=S_||(Je=Math.sqrt(Math.max(Oe*Oe,os)+Math.max(qe*qe,os)));var ht=A.vector={x:Oe,y:qe},xt=A.vectorNorm={x:ht.x/Je,y:ht.y/Je},rt={x:-xt.y,y:xt.x};A.nodesOverlap=!ke(Je)||se.checkPoint(Ye[0],Ye[1],0,H,ee,Z.x,Z.y,be,Q)||de.checkPoint(xe[0],xe[1],0,R,X,q.x,q.y,pe,te),A.vectorNormInverse=rt,U={nodesOverlap:A.nodesOverlap,dirCounts:A.dirCounts,calculatedIntersection:!0,hasBezier:A.hasBezier,hasUnbundled:A.hasUnbundled,eles:A.eles,srcPos:Z,srcRs:Q,tgtPos:q,tgtRs:te,srcW:H,srcH:ee,tgtW:R,tgtH:X,srcIntn:De,tgtIntn:it,srcShape:se,tgtShape:de,posPts:{x1:We.x2,y1:We.y2,x2:We.x1,y2:We.y1},intersectionPts:{x1:Ne.x2,y1:Ne.y2,x2:Ne.x1,y2:Ne.y1},vector:{x:-ht.x,y:-ht.y},vectorNorm:{x:-xt.x,y:-xt.y},vectorNormInverse:{x:-rt.x,y:-rt.y}}}var st=Fe?U:A;we.nodesOverlap=st.nodesOverlap,we.srcIntn=st.srcIntn,we.tgtIntn=st.tgtIntn,we.isRound=Ee.startsWith("round"),i&&(z.isParent()||z.isChild()||V.isParent()||V.isChild())&&(z.parents().anySame(V)||V.parents().anySame(z)||z.same(V)&&z.isParent())?t.findCompoundLoopPoints(ve,st,ne,$e):z===V?t.findLoopPoints(ve,st,ne,$e):Ee.endsWith("segments")?t.findSegmentsPoints(ve,st):Ee.endsWith("taxi")?t.findTaxiPoints(ve,st):Ee==="straight"||!$e&&A.eles.length%2===1&&ne===Math.floor(A.eles.length/2)?t.findStraightEdgePoints(ve):t.findBezierPoints(ve,st,ne,$e,Fe),t.findEndpoints(ve),t.tryToCorrectInvalidPoints(ve,st),t.checkForInvalidEdgeWarning(ve),t.storeAllpts(ve),t.storeEdgeProjections(ve),t.calculateArrowAngles(ve),t.recalculateEdgeLabelProjections(ve),t.calculateLabelAngles(ve)}},P=0;P<h.length;P++)M();this.findHaystackPoints(d)}};function _w(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var o=e[r],i=e[r+1];t.push({x:o,y:i})}return t}}Nn.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return _w(t.segpts)};Nn.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return _w(t.ctrlpts)};Nn.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var vs={};vs.manualEndptToPx=function(e,t){var r=this,o=e.position(),i=e.outerWidth(),s=e.outerHeight(),u=e._private.rscratch;if(t.value.length===2){var h=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(h[0]=h[0]*i),t.units[1]==="%"&&(h[1]=h[1]*s),h[0]+=o.x,h[1]+=o.y,h}else{var d=t.pfValue[0];d=-Math.PI/2+d;var c=2*Math.max(i,s),p=[o.x+Math.cos(d)*c,o.y+Math.sin(d)*c];return r.nodeShapes[this.getNodeShape(e)].intersectLine(o.x,o.y,i,s,p[0],p[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,u)}};vs.findEndpoints=function(e){var t,r,o,i,s=this,u,h=e.source()[0],d=e.target()[0],c=h.position(),p=d.position(),g=e.pstyle("target-arrow-shape").value,y=e.pstyle("source-arrow-shape").value,b=e.pstyle("target-distance-from-node").pfValue,x=e.pstyle("source-distance-from-node").pfValue,k=h._private.rscratch,E=d._private.rscratch,w=e.pstyle("curve-style").value,S=e._private.rscratch,C=S.edgeType,_=ja(w,"taxi"),N=C==="self"||C==="compound",M=C==="bezier"||C==="multibezier"||N,P=C!=="bezier",I=C==="straight"||C==="segments",L=C==="segments",F=M||P||I,O=N||_,A=e.pstyle("source-endpoint"),U=O?"outside-to-node":A.value,j=h.pstyle("corner-radius").value==="auto"?"auto":h.pstyle("corner-radius").pfValue,$=e.pstyle("target-endpoint"),z=O?"outside-to-node":$.value,V=d.pstyle("corner-radius").value==="auto"?"auto":d.pstyle("corner-radius").pfValue;S.srcManEndpt=A,S.tgtManEndpt=$;var W,q,Z,R,X=(t=($==null||(r=$.pfValue)===null||r===void 0?void 0:r.length)===2?$.pfValue:null)!==null&&t!==void 0?t:[0,0],H=(o=(A==null||(i=A.pfValue)===null||i===void 0?void 0:i.length)===2?A.pfValue:null)!==null&&o!==void 0?o:[0,0];if(M){var ee=[S.ctrlpts[0],S.ctrlpts[1]],de=P?[S.ctrlpts[S.ctrlpts.length-2],S.ctrlpts[S.ctrlpts.length-1]]:ee;W=de,q=ee}else if(I){var se=L?S.segpts.slice(0,2):[p.x+X[0],p.y+X[1]],pe=L?S.segpts.slice(S.segpts.length-2):[c.x+H[0],c.y+H[1]];W=pe,q=se}if(z==="inside-to-node")u=[p.x,p.y];else if($.units)u=this.manualEndptToPx(d,$);else if(z==="outside-to-line")u=S.tgtIntn;else if(z==="outside-to-node"||z==="outside-to-node-or-label"?Z=W:(z==="outside-to-line"||z==="outside-to-line-or-label")&&(Z=[c.x,c.y]),u=s.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),Z[0],Z[1],0,V,E),z==="outside-to-node-or-label"||z==="outside-to-line-or-label"){var be=d._private.rscratch,Q=be.labelWidth,te=be.labelHeight,ne=be.labelX,ve=be.labelY,we=Q/2,Ee=te/2,$e=d.pstyle("text-valign").value;$e==="top"?ve-=Ee:$e==="bottom"&&(ve+=Ee);var Fe=d.pstyle("text-halign").value;Fe==="left"?ne-=we:Fe==="right"&&(ne+=we);var Ye=es(Z[0],Z[1],[ne-we,ve-Ee,ne+we,ve-Ee,ne+we,ve+Ee,ne-we,ve+Ee],p.x,p.y);if(Ye.length>0){var it=c,xe=To(it,_i(u)),De=To(it,_i(Ye)),Ne=xe;if(De<xe&&(u=Ye,Ne=De),Ye.length>2){var We=To(it,{x:Ye[2],y:Ye[3]});We<Ne&&(u=[Ye[2],Ye[3]])}}}var qe=Iu(u,W,s.arrowShapes[g].spacing(e)+b),Oe=Iu(u,W,s.arrowShapes[g].gap(e)+b);if(S.endX=Oe[0],S.endY=Oe[1],S.arrowEndX=qe[0],S.arrowEndY=qe[1],U==="inside-to-node")u=[c.x,c.y];else if(A.units)u=this.manualEndptToPx(h,A);else if(U==="outside-to-line")u=S.srcIntn;else if(U==="outside-to-node"||U==="outside-to-node-or-label"?R=q:(U==="outside-to-line"||U==="outside-to-line-or-label")&&(R=[p.x,p.y]),u=s.nodeShapes[this.getNodeShape(h)].intersectLine(c.x,c.y,h.outerWidth(),h.outerHeight(),R[0],R[1],0,j,k),U==="outside-to-node-or-label"||U==="outside-to-line-or-label"){var Je=h._private.rscratch,ht=Je.labelWidth,xt=Je.labelHeight,rt=Je.labelX,st=Je.labelY,Se=ht/2,Le=xt/2,D=h.pstyle("text-valign").value;D==="top"?st-=Le:D==="bottom"&&(st+=Le);var oe=h.pstyle("text-halign").value;oe==="left"?rt-=Se:oe==="right"&&(rt+=Se);var le=es(R[0],R[1],[rt-Se,st-Le,rt+Se,st-Le,rt+Se,st+Le,rt-Se,st+Le],c.x,c.y);if(le.length>0){var ce=p,fe=To(ce,_i(u)),Ce=To(ce,_i(le)),ye=fe;if(Ce<fe&&(u=[le[0],le[1]],ye=Ce),le.length>2){var Ae=To(ce,{x:le[2],y:le[3]});Ae<ye&&(u=[le[2],le[3]])}}}var Te=Iu(u,q,s.arrowShapes[y].spacing(e)+x),Me=Iu(u,q,s.arrowShapes[y].gap(e)+x);S.startX=Me[0],S.startY=Me[1],S.arrowStartX=Te[0],S.arrowStartY=Te[1],F&&(!ke(S.startX)||!ke(S.startY)||!ke(S.endX)||!ke(S.endY)?S.badLine=!0:S.badLine=!1)};vs.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),t.edgeType==="haystack"?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}};vs.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),t.edgeType==="haystack"?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}};var Tg={};function C_(e,t,r){for(var o=function(d,c,p,g){return gn(d,c,p,g)},i=t._private,s=i.rstyle.bezierPts,u=0;u<e.bezierProjPcts.length;u++){var h=e.bezierProjPcts[u];s.push({x:o(r[0],r[2],r[4],h),y:o(r[1],r[3],r[5],h)})}}Tg.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,o=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,o==="multibezier"||o==="bezier"||o==="self"||o==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)C_(this,e,r.allpts.slice(i,i+6))}else if(o==="segments")for(var s=t.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)s.push({x:r.allpts[i],y:r.allpts[i+1]});else if(o==="haystack"){var u=r.haystackPts;t.rstyle.haystackPts=[{x:u[0],y:u[1]},{x:u[2],y:u[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};Tg.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var zr={};zr.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Ya(t)){var r,o,i=e._private,s=e.width(),u=e.height(),h=e.padding(),d=e.position(),c=e.pstyle("text-halign").strValue,p=e.pstyle("text-valign").strValue,g=i.rscratch,y=i.rstyle;switch(c){case"left":r=d.x-s/2-h;break;case"right":r=d.x+s/2+h;break;default:r=d.x}switch(p){case"top":o=d.y-u/2-h;break;case"bottom":o=d.y+u/2+h;break;default:o=d.y}g.labelX=r,g.labelY=o,y.labelX=r,y.labelY=o,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var Dw=function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r=r*-1),r},Nw=function(e,t){var r=t.x-e.x,o=t.y-e.y;return Dw(r,o)},T_=function(e,t,r,o){var i=Jl(0,o-.001,1),s=Jl(0,o+.001,1),u=Bi(e,t,r,i),h=Bi(e,t,r,s);return Nw(u,h)};zr.recalculateEdgeLabelProjections=function(e){var t,r=e._private,o=r.rscratch,i=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:o.midX,y:o.midY};var u=function(p,g,y){ta(r.rscratch,p,g,y),ta(r.rstyle,p,g,y)};u("labelX",null,t.x),u("labelY",null,t.y);var h=Dw(o.midDispX,o.midDispY);u("labelAutoAngle",null,h);var d=function(){if(d.cache)return d.cache;for(var p=[],g=0;g+5<o.allpts.length;g+=4){var y={x:o.allpts[g],y:o.allpts[g+1]},b={x:o.allpts[g+2],y:o.allpts[g+3]},x={x:o.allpts[g+4],y:o.allpts[g+5]};p.push({p0:y,p1:b,p2:x,startDist:0,length:0,segments:[]})}var k=r.rstyle.bezierPts,E=i.bezierProjPcts.length;function w(M,P,I,L,F){var O=Ro(P,I),A=M.segments[M.segments.length-1],U={p0:P,p1:I,t0:L,t1:F,startDist:A?A.startDist+A.length:0,length:O};M.segments.push(U),M.length+=O}for(var S=0;S<p.length;S++){var C=p[S],_=p[S-1];_&&(C.startDist=_.startDist+_.length),w(C,C.p0,k[S*E],0,i.bezierProjPcts[0]);for(var N=0;N<E-1;N++)w(C,k[S*E+N],k[S*E+N+1],i.bezierProjPcts[N],i.bezierProjPcts[N+1]);w(C,k[S*E+E-1],C.p2,i.bezierProjPcts[E-1],1)}return d.cache=p},c=function(p){var g,y=p==="source";if(s[p]){var b=e.pstyle(p+"-text-offset").pfValue;switch(o.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var x=d(),k,E=0,w=0,S=0;S<x.length;S++){for(var C=x[y?S:x.length-1-S],_=0;_<C.segments.length;_++){var N=C.segments[y?_:C.segments.length-1-_],M=S===x.length-1&&_===C.segments.length-1;if(E=w,w+=N.length,w>=b||M){k={cp:C,segment:N};break}}if(k)break}var P=k.cp,I=k.segment,L=(b-E)/I.length,F=I.t1-I.t0,O=y?I.t0+F*L:I.t1-F*L;O=Jl(0,O,1),t=Bi(P.p0,P.p1,P.p2,O),g=T_(P.p0,P.p1,P.p2,O);break}case"straight":case"segments":case"haystack":{for(var A=0,U,j,$,z,V=o.allpts.length,W=0;W+3<V&&(y?($={x:o.allpts[W],y:o.allpts[W+1]},z={x:o.allpts[W+2],y:o.allpts[W+3]}):($={x:o.allpts[V-2-W],y:o.allpts[V-1-W]},z={x:o.allpts[V-4-W],y:o.allpts[V-3-W]}),U=Ro($,z),j=A,A+=U,!(A>=b));W+=2);var q=b-j,Z=q/U;Z=Jl(0,Z,1),t=$S($,z,Z),g=Nw($,z);break}}u("labelX",p,t.x),u("labelY",p,t.y),u("labelAutoAngle",p,g)}};c("source"),c("target"),this.applyLabelDimensions(e)}};zr.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};zr.applyPrefixedLabelDimensions=function(e,t){var r=e._private,o=this.getLabelText(e,t),i=Bo(o,e._private.labelDimsKey);if(Un(r.rscratch,"prefixedLabelDimsKey",t)!==i){ta(r.rscratch,"prefixedLabelDimsKey",t,i);var s=this.calculateLabelDimensions(e,o),u=e.pstyle("line-height").pfValue,h=e.pstyle("text-wrap").strValue,d=Un(r.rscratch,"labelWrapCachedLines",t)||[],c=h!=="wrap"?1:Math.max(d.length,1),p=s.height/c,g=p*u,y=s.width,b=s.height+(c-1)*(u-1)*p;ta(r.rstyle,"labelWidth",t,y),ta(r.rscratch,"labelWidth",t,y),ta(r.rstyle,"labelHeight",t,b),ta(r.rscratch,"labelHeight",t,b),ta(r.rscratch,"labelLineHeight",t,g)}};zr.getLabelText=function(e,t){var r=e._private,o=t?t+"-":"",i=e.pstyle(o+"label").strValue,s=e.pstyle("text-transform").value,u=function(X,H){return H?(ta(r.rscratch,X,t,H),H):Un(r.rscratch,X,t)};if(!i)return"";s=="none"||(s=="uppercase"?i=i.toUpperCase():s=="lowercase"&&(i=i.toLowerCase()));var h=e.pstyle("text-wrap").value;if(h==="wrap"){var d=u("labelKey");if(d!=null&&u("labelWrapKey")===d)return u("labelWrapCachedText");for(var c="",p=i.split(`
`),g=e.pstyle("text-max-width").pfValue,y=e.pstyle("text-overflow-wrap").value,b=y==="anywhere",x=[],k=/[\s\u200b]+|$/g,E=0;E<p.length;E++){var w=p[E],S=this.calculateLabelDimensions(e,w),C=S.width;if(b){var _=w.split("").join(c);w=_}if(C>g){var N=w.matchAll(k),M="",P=0,I=Yn(N),L;try{for(I.s();!(L=I.n()).done;){var F=L.value,O=F[0],A=w.substring(P,F.index);P=F.index+O.length;var U=M.length===0?A:M+A+O,j=this.calculateLabelDimensions(e,U),$=j.width;$<=g?M+=A+O:(M&&x.push(M),M=A+O)}}catch(X){I.e(X)}finally{I.f()}M.match(/^[\s\u200b]+$/)||x.push(M)}else x.push(w)}u("labelWrapCachedLines",x),i=u("labelWrapCachedText",x.join(`
`)),u("labelWrapKey",d)}else if(h==="ellipsis"){var z=e.pstyle("text-max-width").pfValue,V="",W="",q=!1;if(this.calculateLabelDimensions(e,i).width<z)return i;for(var Z=0;Z<i.length;Z++){var R=this.calculateLabelDimensions(e,V+i[Z]+W).width;if(R>z)break;V+=i[Z],Z===i.length-1&&(q=!0)}return q||(V+=W),V}return i};zr.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};zr.calculateLabelDimensions=function(e,t){var r=this,o=r.cy.window(),i=o.document,s=0,u=e.pstyle("font-style").strValue,h=e.pstyle("font-size").pfValue,d=e.pstyle("font-family").strValue,c=e.pstyle("font-weight").strValue,p=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!p){p=this.labelCalcCanvas=i.createElement("canvas"),g=this.labelCalcCanvasContext=p.getContext("2d");var y=p.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}g.font="".concat(u," ").concat(c," ").concat(h,"px ").concat(d);for(var b=0,x=0,k=t.split(`
`),E=0;E<k.length;E++){var w=k[E],S=g.measureText(w),C=Math.ceil(S.width),_=h;b=Math.max(C,b),x+=_}return b+=s,x+=s,{width:b,height:x}};zr.calculateLabelAngle=function(e,t){var r=e._private,o=r.rscratch,i=e.isEdge(),s=t?t+"-":"",u=e.pstyle(s+"text-rotation"),h=u.strValue;return h==="none"?0:i&&h==="autorotate"?o.labelAutoAngle:h==="autorotate"?0:u.pfValue};zr.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),o=e._private,i=o.rscratch;i.labelAngle=t.calculateLabelAngle(e),r&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Bw={},j1=28,X1=!1;Bw.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<j1||e.height()<j1))return X1||(bt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),X1=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var o=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(o).name}return r};var Lc={};Lc.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,o=function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(s),u)for(var h=0;h<s.length;h++){var d=s[h],c=d._private,p=c.rstyle;p.clean=!1,p.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(s){var u=s.target;o(u)}).on("style.* background.*",function(s){var u=s.target;o(u,!1)});var i=function(s){if(s){var u=r.onUpdateEleCalcsFns;t.cleanStyle();for(var h=0;h<t.length;h++){var d=t[h],c=d._private.rstyle;d.isNode()&&!c.cleanConnected&&(o(d.connectedEdges()),c.cleanConnected=!0)}if(u)for(var p=0;p<u.length;p++){var g=u[p];g(s,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};Lc.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Lc.recalculateRenderedStyle=function(e,t){var r=function(C){return C._private.rstyle.cleanConnected};if(e.length!==0){var o=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var s=0;s<e.length;s++){var u=e[s],h=u._private,d=h.rstyle;u.isEdge()&&(!r(u.source())||!r(u.target()))&&(d.clean=!1),u.isEdge()&&u.isBundledBezier()&&u.parallelEdges().some(function(C){return!C._private.rstyle.clean&&C.isBundledBezier()})&&(d.clean=!1),!(t&&d.clean||u.removed())&&u.pstyle("display").value!=="none"&&(h.group==="nodes"?i.push(u):o.push(u),d.clean=!0)}for(var c=0;c<i.length;c++){var p=i[c],g=p._private,y=g.rstyle,b=p.position();this.recalculateNodeLabelProjection(p),y.nodeX=b.x,y.nodeY=b.y,y.nodeW=p.pstyle("width").pfValue,y.nodeH=p.pstyle("height").pfValue}this.recalculateEdgeProjections(o);for(var x=0;x<o.length;x++){var k=o[x],E=k._private,w=E.rstyle,S=E.rscratch;w.srcX=S.arrowStartX,w.srcY=S.arrowStartY,w.tgtX=S.arrowEndX,w.tgtY=S.arrowEndY,w.midX=S.midX,w.midY=S.midY,w.labelAngle=S.labelAngle,w.sourceLabelAngle=S.sourceLabelAngle,w.targetLabelAngle=S.targetLabelAngle}}}};var Fc={};Fc.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var o=e[r],i=o._private.rscratch;o.grabbed()&&!o.isParent()?t.push(o):i.inDragLayer?e.drag.push(o):e.nondrag.push(o)}for(var r=0;r<t.length;r++){var o=t[r];e.drag.push(o)}}};Fc.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Fc.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(fw),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var Rw={};[Oo,yc,Nn,vs,Tg,zr,Bw,Lc,Fc].forEach(function(e){Ve(Rw,e)});var Aw={};Aw.getCachedImage=function(e,t,r){var o=this,i=o.imageCache=o.imageCache||{},s=i[e];if(s)return s.image.complete||s.image.addEventListener("load",r),s.image;s=i[e]=i[e]||{};var u=s.image=new Image;u.addEventListener("load",r),u.addEventListener("error",function(){u.error=!0});var h="data:",d=e.substring(0,h.length).toLowerCase()===h;return d||(t=t==="null"?null:t,u.crossOrigin=t),u.src=e,u};var Xi={};Xi.registerBinding=function(e,t,r,o){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var s=[],u=0;u<e.length;u++){var h=e[u];if(h!==void 0){var d=this.binder(h);s.push(d.on.apply(d,i))}}return s}var d=this.binder(e);return d.on.apply(d,i)};Xi.binder=function(e){var t=this,r=t.cy.window(),o=e===r||e===r.document||e===r.document.body||LE(e);if(t.supportsPassiveEvents==null){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,s)}catch{}t.supportsPassiveEvents=i}var u=function(h,d,c){var p=Array.prototype.slice.call(arguments);return o&&t.supportsPassiveEvents&&(p[2]={capture:c??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:p}),(e.addEventListener||e.on).apply(e,p),this};return{on:u,addEventListener:u,addListener:u,bind:u}};Xi.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};Xi.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};Xi.load=function(){var e=this,t=e.cy.window(),r=function(D){return D.selected()},o=function(D){var oe=D.getRootNode();if(oe&&oe.nodeType===11&&oe.host!==void 0)return oe},i=function(D,oe,le,ce){D==null&&(D=e.cy);for(var fe=0;fe<oe.length;fe++){var Ce=oe[fe];D.emit({originalEvent:le,type:Ce,position:ce})}},s=function(D){return D.shiftKey||D.metaKey||D.ctrlKey},u=function(D,oe){var le=!0;if(e.cy.hasCompoundNodes()&&D&&D.pannable())for(var ce=0;oe&&ce<oe.length;ce++){var D=oe[ce];if(D.isNode()&&D.isParent()&&!D.pannable()){le=!1;break}}else le=!0;return le},h=function(D){D[0]._private.grabbed=!0},d=function(D){D[0]._private.grabbed=!1},c=function(D){D[0]._private.rscratch.inDragLayer=!0},p=function(D){D[0]._private.rscratch.inDragLayer=!1},g=function(D){D[0]._private.rscratch.isGrabTarget=!0},y=function(D){D[0]._private.rscratch.isGrabTarget=!1},b=function(D,oe){var le=oe.addToList,ce=le.has(D);!ce&&D.grabbable()&&!D.locked()&&(le.merge(D),h(D))},x=function(D,oe){if(D.cy().hasCompoundNodes()&&!(oe.inDragLayer==null&&oe.addToList==null)){var le=D.descendants();oe.inDragLayer&&(le.forEach(c),le.connectedEdges().forEach(c)),oe.addToList&&b(le,oe)}},k=function(D,oe){oe=oe||{};var le=D.cy().hasCompoundNodes();oe.inDragLayer&&(D.forEach(c),D.neighborhood().stdFilter(function(ce){return!le||ce.isEdge()}).forEach(c)),oe.addToList&&D.forEach(function(ce){b(ce,oe)}),x(D,oe),S(D,{inDragLayer:oe.inDragLayer}),e.updateCachedGrabbedEles()},E=k,w=function(D){D&&(e.getCachedZSortedEles().forEach(function(oe){d(oe),p(oe),y(oe)}),e.updateCachedGrabbedEles())},S=function(D,oe){if(!(oe.inDragLayer==null&&oe.addToList==null)&&D.cy().hasCompoundNodes()){var le=D.ancestors().orphans();if(!le.same(D)){var ce=le.descendants().spawnSelf().merge(le).unmerge(D).unmerge(D.descendants()),fe=ce.connectedEdges();oe.inDragLayer&&(fe.forEach(c),ce.forEach(c)),oe.addToList&&ce.forEach(function(Ce){b(Ce,oe)})}}},C=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},_=typeof MutationObserver<"u",N=typeof ResizeObserver<"u";_?(e.removeObserver=new MutationObserver(function(D){for(var oe=0;oe<D.length;oe++){var le=D[oe],ce=le.removedNodes;if(ce)for(var fe=0;fe<ce.length;fe++){var Ce=ce[fe];if(Ce===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(D){e.destroy()});var M=fs(function(){e.cy.resize()},100);_&&(e.styleObserver=new MutationObserver(M),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",M),N&&(e.resizeObserver=new ResizeObserver(M),e.resizeObserver.observe(e.container));var P=function(D,oe){for(;D!=null;)oe(D),D=D.parentNode},I=function(){e.invalidateContainerClientCoordsCache()};P(e.container,function(D){e.registerBinding(D,"transitionend",I),e.registerBinding(D,"animationend",I),e.registerBinding(D,"scroll",I)}),e.registerBinding(e.container,"contextmenu",function(D){D.preventDefault()});var L=function(){return e.selection[4]!==0},F=function(D){for(var oe=e.findContainerClientCoords(),le=oe[0],ce=oe[1],fe=oe[2],Ce=oe[3],ye=D.touches?D.touches:[D],Ae=!1,Te=0;Te<ye.length;Te++){var Me=ye[Te];if(le<=Me.clientX&&Me.clientX<=le+fe&&ce<=Me.clientY&&Me.clientY<=ce+Ce){Ae=!0;break}}if(!Ae)return!1;for(var Ge=e.container,Ue=D.target,Be=Ue.parentNode,Ke=!1;Be;){if(Be===Ge){Ke=!0;break}Be=Be.parentNode}return!!Ke};e.registerBinding(e.container,"mousedown",function(D){if(F(D)&&!(e.hoverData.which===1&&D.which!==1)){D.preventDefault(),C(),e.hoverData.capture=!0,e.hoverData.which=D.which;var oe=e.cy,le=[D.clientX,D.clientY],ce=e.projectIntoViewport(le[0],le[1]),fe=e.selection,Ce=e.findNearestElements(ce[0],ce[1],!0,!1),ye=Ce[0],Ae=e.dragData.possibleDragElements;e.hoverData.mdownPos=ce,e.hoverData.mdownGPos=le;var Te=function(Ke){return{originalEvent:D,type:Ke,position:{x:ce[0],y:ce[1]}}},Me=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Ke=e.hoverData.down;Ke?Ke.emit(Te("taphold")):oe.emit(Te("taphold"))}},e.tapholdDuration)};if(D.which==3){e.hoverData.cxtStarted=!0;var Ge={originalEvent:D,type:"cxttapstart",position:{x:ce[0],y:ce[1]}};ye?(ye.activate(),ye.emit(Ge),e.hoverData.down=ye):oe.emit(Ge),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(D.which==1){ye&&ye.activate();{if(ye!=null&&e.nodeIsGrabbable(ye)){var Ue=function(Ke){Ke.emit(Te("grab"))};if(g(ye),!ye.selected())Ae=e.dragData.possibleDragElements=oe.collection(),E(ye,{addToList:Ae}),ye.emit(Te("grabon")).emit(Te("grab"));else{Ae=e.dragData.possibleDragElements=oe.collection();var Be=oe.$(function(Ke){return Ke.isNode()&&Ke.selected()&&e.nodeIsGrabbable(Ke)});k(Be,{addToList:Ae}),ye.emit(Te("grabon")),Be.forEach(Ue)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=ye,e.hoverData.downs=Ce,e.hoverData.downTime=new Date().getTime()}i(ye,["mousedown","tapstart","vmousedown"],D,{x:ce[0],y:ce[1]}),ye==null?(fe[4]=1,e.data.bgActivePosistion={x:ce[0],y:ce[1]},e.redrawHint("select",!0),e.redraw()):ye.pannable()&&(fe[4]=1),Me()}fe[0]=fe[2]=ce[0],fe[1]=fe[3]=ce[1]}},!1);var O=o(e.container);e.registerBinding([t,O],"mousemove",function(D){var oe=e.hoverData.capture;if(!(!oe&&!F(D))){var le=!1,ce=e.cy,fe=ce.zoom(),Ce=[D.clientX,D.clientY],ye=e.projectIntoViewport(Ce[0],Ce[1]),Ae=e.hoverData.mdownPos,Te=e.hoverData.mdownGPos,Me=e.selection,Ge=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Ge=e.findNearestElement(ye[0],ye[1],!0,!1));var Ue=e.hoverData.last,Be=e.hoverData.down,Ke=[ye[0]-Me[2],ye[1]-Me[3]],ut=e.dragData.possibleDragElements,Bt;if(Te){var Kt=Ce[0]-Te[0],$t=Kt*Kt,jt=Ce[1]-Te[1],Ht=jt*jt,Ft=$t+Ht;e.hoverData.isOverThresholdDrag=Bt=Ft>=e.desktopTapThreshold2}var hn=s(D);Bt&&(e.hoverData.tapholdCancelled=!0);var rr=function(){var ar=e.hoverData.dragDelta=e.hoverData.dragDelta||[];ar.length===0?(ar.push(Ke[0]),ar.push(Ke[1])):(ar[0]+=Ke[0],ar[1]+=Ke[1])};le=!0,i(Ge,["mousemove","vmousemove","tapdrag"],D,{x:ye[0],y:ye[1]});var zt=function(ar){return{originalEvent:D,type:ar,position:{x:ye[0],y:ye[1]}}},Bn=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||ce.emit(zt("boxstart")),Me[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(Bt){var ro=zt("cxtdrag");Be?Be.emit(ro):ce.emit(ro),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Ge!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(zt("cxtdragout")),e.hoverData.cxtOver=Ge,Ge&&Ge.emit(zt("cxtdragover")))}}else if(e.hoverData.dragging){if(le=!0,ce.panningEnabled()&&ce.userPanningEnabled()){var Rn;if(e.hoverData.justStartedPan){var Xt=e.hoverData.mdownPos;Rn={x:(ye[0]-Xt[0])*fe,y:(ye[1]-Xt[1])*fe},e.hoverData.justStartedPan=!1}else Rn={x:Ke[0]*fe,y:Ke[1]*fe};ce.panBy(Rn),ce.emit(zt("dragpan")),e.hoverData.dragged=!0}ye=e.projectIntoViewport(D.clientX,D.clientY)}else if(Me[4]==1&&(Be==null||Be.pannable())){if(Bt){if(!e.hoverData.dragging&&ce.boxSelectionEnabled()&&(hn||!ce.panningEnabled()||!ce.userPanningEnabled()))Bn();else if(!e.hoverData.selecting&&ce.panningEnabled()&&ce.userPanningEnabled()){var Wt=u(Be,e.hoverData.downs);Wt&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,Me[4]=0,e.data.bgActivePosistion=_i(Ae),e.redrawHint("select",!0),e.redraw())}Be&&Be.pannable()&&Be.active()&&Be.unactivate()}}else{if(Be&&Be.pannable()&&Be.active()&&Be.unactivate(),(!Be||!Be.grabbed())&&Ge!=Ue&&(Ue&&i(Ue,["mouseout","tapdragout"],D,{x:ye[0],y:ye[1]}),Ge&&i(Ge,["mouseover","tapdragover"],D,{x:ye[0],y:ye[1]}),e.hoverData.last=Ge),Be)if(Bt){if(ce.boxSelectionEnabled()&&hn)Be&&Be.grabbed()&&(w(ut),Be.emit(zt("freeon")),ut.emit(zt("free")),e.dragData.didDrag&&(Be.emit(zt("dragfreeon")),ut.emit(zt("dragfree")))),Bn();else if(Be&&Be.grabbed()&&e.nodeIsDraggable(Be)){var Gt=!e.dragData.didDrag;Gt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||k(ut,{inDragLayer:!0});var Jt={x:0,y:0};if(ke(Ke[0])&&ke(Ke[1])&&(Jt.x+=Ke[0],Jt.y+=Ke[1],Gt)){var Tn=e.hoverData.dragDelta;Tn&&ke(Tn[0])&&ke(Tn[1])&&(Jt.x+=Tn[0],Jt.y+=Tn[1])}e.hoverData.draggingEles=!0,ut.silentShift(Jt).emit(zt("position")).emit(zt("drag")),e.redrawHint("drag",!0),e.redraw()}}else rr();le=!0}if(Me[2]=ye[0],Me[3]=ye[1],le)return D.stopPropagation&&D.stopPropagation(),D.preventDefault&&D.preventDefault(),!1}},!1);var A,U,j;e.registerBinding(t,"mouseup",function(D){if(!(e.hoverData.which===1&&D.which!==1&&e.hoverData.capture)){var oe=e.hoverData.capture;if(oe){e.hoverData.capture=!1;var le=e.cy,ce=e.projectIntoViewport(D.clientX,D.clientY),fe=e.selection,Ce=e.findNearestElement(ce[0],ce[1],!0,!1),ye=e.dragData.possibleDragElements,Ae=e.hoverData.down,Te=s(D);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Ae&&Ae.unactivate();var Me=function(Bt){return{originalEvent:D,type:Bt,position:{x:ce[0],y:ce[1]}}};if(e.hoverData.which===3){var Ge=Me("cxttapend");if(Ae?Ae.emit(Ge):le.emit(Ge),!e.hoverData.cxtDragged){var Ue=Me("cxttap");Ae?Ae.emit(Ue):le.emit(Ue)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(i(Ce,["mouseup","tapend","vmouseup"],D,{x:ce[0],y:ce[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(i(Ae,["click","tap","vclick"],D,{x:ce[0],y:ce[1]}),U=!1,D.timeStamp-j<=le.multiClickDebounceTime()?(A&&clearTimeout(A),U=!0,j=null,i(Ae,["dblclick","dbltap","vdblclick"],D,{x:ce[0],y:ce[1]})):(A=setTimeout(function(){U||i(Ae,["oneclick","onetap","voneclick"],D,{x:ce[0],y:ce[1]})},le.multiClickDebounceTime()),j=D.timeStamp)),Ae==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!s(D)&&(le.$(r).unselect(["tapunselect"]),ye.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=ye=le.collection()),Ce==Ae&&!e.dragData.didDrag&&!e.hoverData.selecting&&Ce!=null&&Ce._private.selectable&&(e.hoverData.dragging||(le.selectionType()==="additive"||Te?Ce.selected()?Ce.unselect(["tapunselect"]):Ce.select(["tapselect"]):Te||(le.$(r).unmerge(Ce).unselect(["tapunselect"]),Ce.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Be=le.collection(e.getAllInBox(fe[0],fe[1],fe[2],fe[3]));e.redrawHint("select",!0),Be.length>0&&e.redrawHint("eles",!0),le.emit(Me("boxend"));var Ke=function(Bt){return Bt.selectable()&&!Bt.selected()};le.selectionType()==="additive"||Te||le.$(r).unmerge(Be).unselect(),Be.emit(Me("box")).stdFilter(Ke).select().emit(Me("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!fe[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var ut=Ae&&Ae.grabbed();w(ye),ut&&(Ae.emit(Me("freeon")),ye.emit(Me("free")),e.dragData.didDrag&&(Ae.emit(Me("dragfreeon")),ye.emit(Me("dragfree"))))}}fe[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var $=[],z=4,V,W=1e5,q=function(D,oe){for(var le=0;le<D.length;le++)if(D[le]%oe!==0)return!1;return!0},Z=function(D){for(var oe=Math.abs(D[0]),le=1;le<D.length;le++)if(Math.abs(D[le])!==oe)return!1;return!0},R=function(D){var oe=!1,le=D.deltaY;if(le==null&&(D.wheelDeltaY!=null?le=D.wheelDeltaY/4:D.wheelDelta!=null&&(le=D.wheelDelta/4)),le!==0){if(V==null)if($.length>=z){var ce=$;if(V=q(ce,5),!V){var fe=Math.abs(ce[0]);V=Z(ce)&&fe>5}if(V)for(var Ce=0;Ce<ce.length;Ce++)W=Math.min(Math.abs(ce[Ce]),W)}else $.push(le),oe=!0;else V&&(W=Math.min(Math.abs(le),W));if(!e.scrollingPage){var ye=e.cy,Ae=ye.zoom(),Te=ye.pan(),Me=e.projectIntoViewport(D.clientX,D.clientY),Ge=[Me[0]*Ae+Te.x,Me[1]*Ae+Te.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||L()){D.preventDefault();return}if(ye.panningEnabled()&&ye.userPanningEnabled()&&ye.zoomingEnabled()&&ye.userZoomingEnabled()){D.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var Ue;oe&&Math.abs(le)>5&&(le=fg(le)*5),Ue=le/-250,V&&(Ue/=W,Ue*=3),Ue=Ue*e.wheelSensitivity;var Be=D.deltaMode===1;Be&&(Ue*=33);var Ke=ye.zoom()*Math.pow(10,Ue);D.type==="gesturechange"&&(Ke=e.gestureStartZoom*D.scale),ye.zoom({level:Ke,renderedPosition:{x:Ge[0],y:Ge[1]}}),ye.emit({type:D.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:D,position:{x:Me[0],y:Me[1]}})}}}};e.registerBinding(e.container,"wheel",R,!0),e.registerBinding(t,"scroll",function(D){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(D){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||D.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(D){e.hasTouchStarted||R(D)},!0),e.registerBinding(e.container,"mouseout",function(D){var oe=e.projectIntoViewport(D.clientX,D.clientY);e.cy.emit({originalEvent:D,type:"mouseout",position:{x:oe[0],y:oe[1]}})},!1),e.registerBinding(e.container,"mouseover",function(D){var oe=e.projectIntoViewport(D.clientX,D.clientY);e.cy.emit({originalEvent:D,type:"mouseover",position:{x:oe[0],y:oe[1]}})},!1);var X,H,ee,de,se,pe,be,Q,te,ne,ve,we,Ee,$e=function(D,oe,le,ce){return Math.sqrt((le-D)*(le-D)+(ce-oe)*(ce-oe))},Fe=function(D,oe,le,ce){return(le-D)*(le-D)+(ce-oe)*(ce-oe)},Ye;e.registerBinding(e.container,"touchstart",Ye=function(D){if(e.hasTouchStarted=!0,!!F(D)){C(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var oe=e.cy,le=e.touchData.now,ce=e.touchData.earlier;if(D.touches[0]){var fe=e.projectIntoViewport(D.touches[0].clientX,D.touches[0].clientY);le[0]=fe[0],le[1]=fe[1]}if(D.touches[1]){var fe=e.projectIntoViewport(D.touches[1].clientX,D.touches[1].clientY);le[2]=fe[0],le[3]=fe[1]}if(D.touches[2]){var fe=e.projectIntoViewport(D.touches[2].clientX,D.touches[2].clientY);le[4]=fe[0],le[5]=fe[1]}var Ce=function(Ft){return{originalEvent:D,type:Ft,position:{x:le[0],y:le[1]}}};if(D.touches[1]){e.touchData.singleTouchMoved=!0,w(e.dragData.touchDragEles);var ye=e.findContainerClientCoords();te=ye[0],ne=ye[1],ve=ye[2],we=ye[3],X=D.touches[0].clientX-te,H=D.touches[0].clientY-ne,ee=D.touches[1].clientX-te,de=D.touches[1].clientY-ne,Ee=0<=X&&X<=ve&&0<=ee&&ee<=ve&&0<=H&&H<=we&&0<=de&&de<=we;var Ae=oe.pan(),Te=oe.zoom();se=$e(X,H,ee,de),pe=Fe(X,H,ee,de),be=[(X+ee)/2,(H+de)/2],Q=[(be[0]-Ae.x)/Te,(be[1]-Ae.y)/Te];var Me=200,Ge=Me*Me;if(pe<Ge&&!D.touches[2]){var Ue=e.findNearestElement(le[0],le[1],!0,!0),Be=e.findNearestElement(le[2],le[3],!0,!0);Ue&&Ue.isNode()?(Ue.activate().emit(Ce("cxttapstart")),e.touchData.start=Ue):Be&&Be.isNode()?(Be.activate().emit(Ce("cxttapstart")),e.touchData.start=Be):oe.emit(Ce("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(D.touches[2])oe.boxSelectionEnabled()&&D.preventDefault();else if(!D.touches[1]&&D.touches[0]){var Ke=e.findNearestElements(le[0],le[1],!0,!0),ut=Ke[0];if(ut!=null&&(ut.activate(),e.touchData.start=ut,e.touchData.starts=Ke,e.nodeIsGrabbable(ut))){var Bt=e.dragData.touchDragEles=oe.collection(),Kt=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),ut.selected()?(Kt=oe.$(function(Ft){return Ft.selected()&&e.nodeIsGrabbable(Ft)}),k(Kt,{addToList:Bt})):E(ut,{addToList:Bt}),g(ut),ut.emit(Ce("grabon")),Kt?Kt.forEach(function(Ft){Ft.emit(Ce("grab"))}):ut.emit(Ce("grab"))}i(ut,["touchstart","tapstart","vmousedown"],D,{x:le[0],y:le[1]}),ut==null&&(e.data.bgActivePosistion={x:fe[0],y:fe[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&i(e.touchData.start,["taphold"],D,{x:le[0],y:le[1]})},e.tapholdDuration)}if(D.touches.length>=1){for(var $t=e.touchData.startPosition=[null,null,null,null,null,null],jt=0;jt<le.length;jt++)$t[jt]=ce[jt]=le[jt];var Ht=D.touches[0];e.touchData.startGPosition=[Ht.clientX,Ht.clientY]}}},!1);var it;e.registerBinding(t,"touchmove",it=function(D){var oe=e.touchData.capture;if(!(!oe&&!F(D))){var le=e.selection,ce=e.cy,fe=e.touchData.now,Ce=e.touchData.earlier,ye=ce.zoom();if(D.touches[0]){var Ae=e.projectIntoViewport(D.touches[0].clientX,D.touches[0].clientY);fe[0]=Ae[0],fe[1]=Ae[1]}if(D.touches[1]){var Ae=e.projectIntoViewport(D.touches[1].clientX,D.touches[1].clientY);fe[2]=Ae[0],fe[3]=Ae[1]}if(D.touches[2]){var Ae=e.projectIntoViewport(D.touches[2].clientX,D.touches[2].clientY);fe[4]=Ae[0],fe[5]=Ae[1]}var Te=function(Vc){return{originalEvent:D,type:Vc,position:{x:fe[0],y:fe[1]}}},Me=e.touchData.startGPosition,Ge;if(oe&&D.touches[0]&&Me){for(var Ue=[],Be=0;Be<fe.length;Be++)Ue[Be]=fe[Be]-Ce[Be];var Ke=D.touches[0].clientX-Me[0],ut=Ke*Ke,Bt=D.touches[0].clientY-Me[1],Kt=Bt*Bt,$t=ut+Kt;Ge=$t>=e.touchTapThreshold2}if(oe&&e.touchData.cxt){D.preventDefault();var jt=D.touches[0].clientX-te,Ht=D.touches[0].clientY-ne,Ft=D.touches[1].clientX-te,hn=D.touches[1].clientY-ne,rr=Fe(jt,Ht,Ft,hn),zt=rr/pe,Bn=150,ro=Bn*Bn,Rn=1.5,Xt=Rn*Rn;if(zt>=Xt||rr>=ro){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Wt=Te("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(Wt),e.touchData.start=null):ce.emit(Wt)}}if(oe&&e.touchData.cxt){var Wt=Te("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Wt):ce.emit(Wt),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Gt=e.findNearestElement(fe[0],fe[1],!0,!0);(!e.touchData.cxtOver||Gt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(Te("cxtdragout")),e.touchData.cxtOver=Gt,Gt&&Gt.emit(Te("cxtdragover")))}else if(oe&&D.touches[2]&&ce.boxSelectionEnabled())D.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||ce.emit(Te("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,le[4]=1,!le||le.length===0||le[0]===void 0?(le[0]=(fe[0]+fe[2]+fe[4])/3,le[1]=(fe[1]+fe[3]+fe[5])/3,le[2]=(fe[0]+fe[2]+fe[4])/3+1,le[3]=(fe[1]+fe[3]+fe[5])/3+1):(le[2]=(fe[0]+fe[2]+fe[4])/3,le[3]=(fe[1]+fe[3]+fe[5])/3),e.redrawHint("select",!0),e.redraw();else if(oe&&D.touches[1]&&!e.touchData.didSelect&&ce.zoomingEnabled()&&ce.panningEnabled()&&ce.userZoomingEnabled()&&ce.userPanningEnabled()){D.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Jt=e.dragData.touchDragEles;if(Jt){e.redrawHint("drag",!0);for(var Tn=0;Tn<Jt.length;Tn++){var ar=Jt[Tn]._private;ar.grabbed=!1,ar.rscratch.inDragLayer=!1}}var ao=e.touchData.start,jt=D.touches[0].clientX-te,Ht=D.touches[0].clientY-ne,Ft=D.touches[1].clientX-te,hn=D.touches[1].clientY-ne,la=$e(jt,Ht,Ft,hn),Ui=la/se;if(Ee){var sa=jt-X,ua=Ht-H,oo=Ft-ee,ca=hn-de,en=(sa+oo)/2,bs=(ua+ca)/2,da=ce.zoom(),gr=da*Ui,vr=ce.pan(),xs=Q[0]*da+vr.x,qi=Q[1]*da+vr.y,ws={x:-gr/da*(xs-vr.x-en)+xs,y:-gr/da*(qi-vr.y-bs)+qi};if(ao&&ao.active()){var Jt=e.dragData.touchDragEles;w(Jt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),ao.unactivate().emit(Te("freeon")),Jt.emit(Te("free")),e.dragData.didDrag&&(ao.emit(Te("dragfreeon")),Jt.emit(Te("dragfree")))}ce.viewport({zoom:gr,pan:ws,cancelOnFailedZoom:!0}),ce.emit(Te("pinchzoom")),se=la,X=jt,H=Ht,ee=Ft,de=hn,e.pinching=!0}if(D.touches[0]){var Ae=e.projectIntoViewport(D.touches[0].clientX,D.touches[0].clientY);fe[0]=Ae[0],fe[1]=Ae[1]}if(D.touches[1]){var Ae=e.projectIntoViewport(D.touches[1].clientX,D.touches[1].clientY);fe[2]=Ae[0],fe[3]=Ae[1]}if(D.touches[2]){var Ae=e.projectIntoViewport(D.touches[2].clientX,D.touches[2].clientY);fe[4]=Ae[0],fe[5]=Ae[1]}}else if(D.touches[0]&&!e.touchData.didSelect){var Kn=e.touchData.start,fa=e.touchData.last,Gt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Gt=e.findNearestElement(fe[0],fe[1],!0,!0)),oe&&Kn!=null&&D.preventDefault(),oe&&Kn!=null&&e.nodeIsDraggable(Kn))if(Ge){var Jt=e.dragData.touchDragEles,io=!e.dragData.didDrag;io&&k(Jt,{inDragLayer:!0}),e.dragData.didDrag=!0;var An={x:0,y:0};if(ke(Ue[0])&&ke(Ue[1])&&(An.x+=Ue[0],An.y+=Ue[1],io)){e.redrawHint("eles",!0);var It=e.touchData.dragDelta;It&&ke(It[0])&&ke(It[1])&&(An.x+=It[0],An.y+=It[1])}e.hoverData.draggingEles=!0,Jt.silentShift(An).emit(Te("position")).emit(Te("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==Ce[0]&&e.touchData.startPosition[1]==Ce[1]&&e.redrawHint("eles",!0),e.redraw()}else{var It=e.touchData.dragDelta=e.touchData.dragDelta||[];It.length===0?(It.push(Ue[0]),It.push(Ue[1])):(It[0]+=Ue[0],It[1]+=Ue[1])}if(i(Kn||Gt,["touchmove","tapdrag","vmousemove"],D,{x:fe[0],y:fe[1]}),(!Kn||!Kn.grabbed())&&Gt!=fa&&(fa&&fa.emit(Te("tapdragout")),Gt&&Gt.emit(Te("tapdragover"))),e.touchData.last=Gt,oe)for(var Tn=0;Tn<fe.length;Tn++)fe[Tn]&&e.touchData.startPosition[Tn]&&Ge&&(e.touchData.singleTouchMoved=!0);if(oe&&(Kn==null||Kn.pannable())&&ce.panningEnabled()&&ce.userPanningEnabled()){var ks=u(Kn,e.touchData.starts);ks&&(D.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=_i(e.touchData.startPosition)),e.swipePanning?(ce.panBy({x:Ue[0]*ye,y:Ue[1]*ye}),ce.emit(Te("dragpan"))):Ge&&(e.swipePanning=!0,ce.panBy({x:Ke*ye,y:Bt*ye}),ce.emit(Te("dragpan")),Kn&&(Kn.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Ae=e.projectIntoViewport(D.touches[0].clientX,D.touches[0].clientY);fe[0]=Ae[0],fe[1]=Ae[1]}}for(var Be=0;Be<fe.length;Be++)Ce[Be]=fe[Be];oe&&D.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var xe;e.registerBinding(t,"touchcancel",xe=function(D){var oe=e.touchData.start;e.touchData.capture=!1,oe&&oe.unactivate()});var De,Ne,We,qe;if(e.registerBinding(t,"touchend",De=function(D){var oe=e.touchData.start,le=e.touchData.capture;if(le)D.touches.length===0&&(e.touchData.capture=!1),D.preventDefault();else return;var ce=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var fe=e.cy,Ce=fe.zoom(),ye=e.touchData.now,Ae=e.touchData.earlier;if(D.touches[0]){var Te=e.projectIntoViewport(D.touches[0].clientX,D.touches[0].clientY);ye[0]=Te[0],ye[1]=Te[1]}if(D.touches[1]){var Te=e.projectIntoViewport(D.touches[1].clientX,D.touches[1].clientY);ye[2]=Te[0],ye[3]=Te[1]}if(D.touches[2]){var Te=e.projectIntoViewport(D.touches[2].clientX,D.touches[2].clientY);ye[4]=Te[0],ye[5]=Te[1]}var Me=function(Bn){return{originalEvent:D,type:Bn,position:{x:ye[0],y:ye[1]}}};oe&&oe.unactivate();var Ge;if(e.touchData.cxt){if(Ge=Me("cxttapend"),oe?oe.emit(Ge):fe.emit(Ge),!e.touchData.cxtDragged){var Ue=Me("cxttap");oe?oe.emit(Ue):fe.emit(Ue)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!D.touches[2]&&fe.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Be=fe.collection(e.getAllInBox(ce[0],ce[1],ce[2],ce[3]));ce[0]=void 0,ce[1]=void 0,ce[2]=void 0,ce[3]=void 0,ce[4]=0,e.redrawHint("select",!0),fe.emit(Me("boxend"));var Ke=function(Bn){return Bn.selectable()&&!Bn.selected()};Be.emit(Me("box")).stdFilter(Ke).select().emit(Me("boxselect")),Be.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(oe?.unactivate(),D.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!D.touches[1]&&!D.touches[0]&&!D.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var ut=e.dragData.touchDragEles;if(oe!=null){var Bt=oe._private.grabbed;w(ut),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Bt&&(oe.emit(Me("freeon")),ut.emit(Me("free")),e.dragData.didDrag&&(oe.emit(Me("dragfreeon")),ut.emit(Me("dragfree")))),i(oe,["touchend","tapend","vmouseup","tapdragout"],D,{x:ye[0],y:ye[1]}),oe.unactivate(),e.touchData.start=null}else{var Kt=e.findNearestElement(ye[0],ye[1],!0,!0);i(Kt,["touchend","tapend","vmouseup","tapdragout"],D,{x:ye[0],y:ye[1]})}var $t=e.touchData.startPosition[0]-ye[0],jt=$t*$t,Ht=e.touchData.startPosition[1]-ye[1],Ft=Ht*Ht,hn=jt+Ft,rr=hn*Ce*Ce;e.touchData.singleTouchMoved||(oe||fe.$(":selected").unselect(["tapunselect"]),i(oe,["tap","vclick"],D,{x:ye[0],y:ye[1]}),Ne=!1,D.timeStamp-qe<=fe.multiClickDebounceTime()?(We&&clearTimeout(We),Ne=!0,qe=null,i(oe,["dbltap","vdblclick"],D,{x:ye[0],y:ye[1]})):(We=setTimeout(function(){Ne||i(oe,["onetap","voneclick"],D,{x:ye[0],y:ye[1]})},fe.multiClickDebounceTime()),qe=D.timeStamp)),oe!=null&&!e.dragData.didDrag&&oe._private.selectable&&rr<e.touchTapThreshold2&&!e.pinching&&(fe.selectionType()==="single"?(fe.$(r).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"])):oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var zt=0;zt<ye.length;zt++)Ae[zt]=ye[zt];e.dragData.didDrag=!1,D.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),D.touches.length<2&&(D.touches.length===1&&(e.touchData.startGPosition=[D.touches[0].clientX,D.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var Oe=[],Je=function(D){return{clientX:D.clientX,clientY:D.clientY,force:1,identifier:D.pointerId,pageX:D.pageX,pageY:D.pageY,radiusX:D.width/2,radiusY:D.height/2,screenX:D.screenX,screenY:D.screenY,target:D.target}},ht=function(D){return{event:D,touch:Je(D)}},xt=function(D){Oe.push(ht(D))},rt=function(D){for(var oe=0;oe<Oe.length;oe++){var le=Oe[oe];if(le.event.pointerId===D.pointerId){Oe.splice(oe,1);return}}},st=function(D){var oe=Oe.filter(function(le){return le.event.pointerId===D.pointerId})[0];oe.event=D,oe.touch=Je(D)},Se=function(D){D.touches=Oe.map(function(oe){return oe.touch})},Le=function(D){return D.pointerType==="mouse"||D.pointerType===4};e.registerBinding(e.container,"pointerdown",function(D){Le(D)||(D.preventDefault(),xt(D),Se(D),Ye(D))}),e.registerBinding(e.container,"pointerup",function(D){Le(D)||(rt(D),Se(D),De(D))}),e.registerBinding(e.container,"pointercancel",function(D){Le(D)||(rt(D),Se(D),xe(D))}),e.registerBinding(e.container,"pointermove",function(D){Le(D)||(D.preventDefault(),st(D),Se(D),it(D))})}};var oa={};oa.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(r,o,i,s,u,h){this.renderer.nodeShapeImpl("polygon",r,o,i,s,u,this.points)},intersectLine:function(r,o,i,s,u,h,d,c){return es(u,h,this.points,r,o,i/2,s/2,d)},checkPoint:function(r,o,i,s,u,h,d,c){return aa(r,o,this.points,h,d,s,u,[0,-1],i)},hasMiterBounds:e!=="rectangle",miterBounds:function(r,o,i,s,u,h){return eC(this.points,r,o,i,s,u)}}};oa.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,r,o,i,s){this.renderer.nodeShapeImpl(this.name,e,t,r,o,i)},intersectLine:function(e,t,r,o,i,s,u,h){return sC(i,s,e,t,r/2+u,o/2+u)},checkPoint:function(e,t,r,o,i,s,u,h){return No(e,t,o,i,s,u,r)}}};oa.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(r,o,i,s,u,h,d){if(h[d]!==void 0&&h[d+"-cx"]===r&&h[d+"-cy"]===o)return h[d];h[d]=new Array(t.length/2),h[d+"-cx"]=r,h[d+"-cy"]=o;var c=i/2,p=s/2;u=u==="auto"?Mx(i,s):u;for(var g=new Array(t.length/2),y=0;y<t.length/2;y++)g[y]={x:r+c*t[y*2],y:o+p*t[y*2+1]};var b,x,k,E,w=g.length;for(x=g[w-1],b=0;b<w;b++)k=g[b%w],E=g[(b+1)%w],h[d][b]=Cg(x,k,E,u),x=k,k=E;return h[d]},draw:function(r,o,i,s,u,h,d){this.renderer.nodeShapeImpl("round-polygon",r,o,i,s,u,this.points,this.getOrCreateCorners(o,i,s,u,h,d,"drawCorners"))},intersectLine:function(r,o,i,s,u,h,d,c,p){return cC(u,h,this.points,r,o,i,s,d,this.getOrCreateCorners(r,o,i,s,c,p,"corners"))},checkPoint:function(r,o,i,s,u,h,d,c,p){return lC(r,o,this.points,h,d,s,u,this.getOrCreateCorners(h,d,s,u,c,p,"corners"))}}};oa.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:zn(4,0),draw:function(e,t,r,o,i,s){this.renderer.nodeShapeImpl(this.name,e,t,r,o,i,this.points,s)},intersectLine:function(e,t,r,o,i,s,u,h){return Rx(i,s,e,t,r,o,u,h)},checkPoint:function(e,t,r,o,i,s,u,h){var d=o/2,c=i/2;h=h==="auto"?$a(o,i):h,h=Math.min(d,c,h);var p=h*2;return!!(aa(e,t,this.points,s,u,o,i-p,[0,-1],r)||aa(e,t,this.points,s,u,o-p,i,[0,-1],r)||No(e,t,p,p,s-d+h,u-c+h,r)||No(e,t,p,p,s+d-h,u-c+h,r)||No(e,t,p,p,s+d-h,u+c-h,r)||No(e,t,p,p,s-d+h,u+c-h,r))}}};oa.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:pg(),points:zn(4,0),draw:function(e,t,r,o,i,s){this.renderer.nodeShapeImpl(this.name,e,t,r,o,i,null,s)},generateCutTrianglePts:function(e,t,r,o,i){var s=i==="auto"?this.cornerLength:i,u=t/2,h=e/2,d=r-h,c=r+h,p=o-u,g=o+u;return{topLeft:[d,p+s,d+s,p,d+s,p+s],topRight:[c-s,p,c,p+s,c-s,p+s],bottomRight:[c,g-s,c-s,g,c-s,g-s],bottomLeft:[d+s,g,d,g-s,d+s,g-s]}},intersectLine:function(e,t,r,o,i,s,u,h){var d=this.generateCutTrianglePts(r+2*u,o+2*u,e,t,h),c=[].concat.apply([],[d.topLeft.splice(0,4),d.topRight.splice(0,4),d.bottomRight.splice(0,4),d.bottomLeft.splice(0,4)]);return es(i,s,c,e,t)},checkPoint:function(e,t,r,o,i,s,u,h){var d=h==="auto"?this.cornerLength:h;if(aa(e,t,this.points,s,u,o,i-2*d,[0,-1],r)||aa(e,t,this.points,s,u,o-2*d,i,[0,-1],r))return!0;var c=this.generateCutTrianglePts(o,i,s,u);return qn(e,t,c.topLeft)||qn(e,t,c.topRight)||qn(e,t,c.bottomRight)||qn(e,t,c.bottomLeft)}}};oa.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:zn(4,0),draw:function(e,t,r,o,i,s){this.renderer.nodeShapeImpl(this.name,e,t,r,o,i)},intersectLine:function(e,t,r,o,i,s,u,h){var d=.15,c=.5,p=.85,g=this.generateBarrelBezierPts(r+2*u,o+2*u,e,t),y=function(x){var k=Bi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},d),E=Bi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},c),w=Bi({x:x[0],y:x[1]},{x:x[2],y:x[3]},{x:x[4],y:x[5]},p);return[x[0],x[1],k.x,k.y,E.x,E.y,w.x,w.y,x[4],x[5]]},b=[].concat(y(g.topLeft),y(g.topRight),y(g.bottomRight),y(g.bottomLeft));return es(i,s,b,e,t)},generateBarrelBezierPts:function(e,t,r,o){var i=t/2,s=e/2,u=r-s,h=r+s,d=o-i,c=o+i,p=Op(e,t),g=p.heightOffset,y=p.widthOffset,b=p.ctrlPtOffsetPct*e,x={topLeft:[u,d+g,u+b,d,u+y,d],topRight:[h-y,d,h-b,d,h,d+g],bottomRight:[h,c-g,h-b,c,h-y,c],bottomLeft:[u+y,c,u+b,c,u,c-g]};return x.topLeft.isTop=!0,x.topRight.isTop=!0,x.bottomLeft.isBottom=!0,x.bottomRight.isBottom=!0,x},checkPoint:function(e,t,r,o,i,s,u,h){var d=Op(o,i),c=d.heightOffset,p=d.widthOffset;if(aa(e,t,this.points,s,u,o,i-2*c,[0,-1],r)||aa(e,t,this.points,s,u,o-2*p,i,[0,-1],r))return!0;for(var g=this.generateBarrelBezierPts(o,i,s,u),y=function(M,P,I){var L=I[4],F=I[2],O=I[0],A=I[5],U=I[1],j=Math.min(L,O),$=Math.max(L,O),z=Math.min(A,U),V=Math.max(A,U);if(j<=M&&M<=$&&z<=P&&P<=V){var W=dC(L,F,O),q=rC(W[0],W[1],W[2],M),Z=q.filter(function(R){return 0<=R&&R<=1});if(Z.length>0)return Z[0]}return null},b=Object.keys(g),x=0;x<b.length;x++){var k=b[x],E=g[k],w=y(e,t,E);if(w!=null){var S=E[5],C=E[3],_=E[1],N=gn(S,C,_,w);if(E.isTop&&N<=t||E.isBottom&&t<=N)return!0}}return!1}}};oa.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:zn(4,0),draw:function(e,t,r,o,i,s){this.renderer.nodeShapeImpl(this.name,e,t,r,o,i,this.points,s)},intersectLine:function(e,t,r,o,i,s,u,h){var d=e-(r/2+u),c=t-(o/2+u),p=c,g=e+(r/2+u),y=Wa(i,s,e,t,d,c,g,p,!1);return y.length>0?y:Rx(i,s,e,t,r,o,u,h)},checkPoint:function(e,t,r,o,i,s,u,h){h=h==="auto"?$a(o,i):h;var d=2*h;if(aa(e,t,this.points,s,u,o,i-d,[0,-1],r)||aa(e,t,this.points,s,u,o-d,i,[0,-1],r))return!0;var c=o/2+2*r,p=i/2+2*r,g=[s-c,u-p,s-c,u,s+c,u,s+c,u-p];return!!(qn(e,t,g)||No(e,t,d,d,s+o/2-h,u+i/2-h,r)||No(e,t,d,d,s-o/2+h,u+i/2-h,r))}}};oa.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",zn(3,0)),this.generateRoundPolygon("round-triangle",zn(3,0)),this.generatePolygon("rectangle",zn(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",zn(5,0)),this.generateRoundPolygon("round-pentagon",zn(5,0)),this.generatePolygon("hexagon",zn(6,0)),this.generateRoundPolygon("round-hexagon",zn(6,0)),this.generatePolygon("heptagon",zn(7,0)),this.generateRoundPolygon("round-heptagon",zn(7,0)),this.generatePolygon("octagon",zn(8,0)),this.generateRoundPolygon("round-octagon",zn(8,0));var o=new Array(20);{var i=Ip(5,0),s=Ip(5,Math.PI/5),u=.5*(3-Math.sqrt(5));u*=1.57;for(var h=0;h<s.length/2;h++)s[h*2]*=u,s[h*2+1]*=u;for(var h=0;h<20/4;h++)o[h*4]=i[h*2],o[h*4+1]=i[h*2+1],o[h*4+2]=s[h*2],o[h*4+3]=s[h*2+1]}o=Ax(o),this.generatePolygon("star",o),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var d=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",d),this.generateRoundPolygon("round-tag",d)}e.makePolygon=function(c){var p=c.join("$"),g="polygon-"+p,y;return(y=this[g])?y:t.generatePolygon(g,c)}};var ms={};ms.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};ms.redraw=function(e){e=e||_x();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};ms.beforeRender=function(e,t){if(!this.destroyed){t==null&&Lt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(o,i){return i.priority-o.priority})}};var W1=function(e,t,r){for(var o=e.beforeRenderCallbacks,i=0;i<o.length;i++)o[i].fn(t,r)};ms.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(o){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){W1(e,!0,o);var i=ra();e.render(e.renderOptions);var s=e.lastDrawTime=ra();e.averageRedrawTime===void 0&&(e.averageRedrawTime=s-i),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var u=s-i;e.redrawTotalTime+=u,e.lastRedrawTime=u,e.averageRedrawTime=e.averageRedrawTime/2+u/2,e.requestedFrame=!1}else W1(e,!1,o);e.skipFrame=!1,cc(r)}};cc(r)}};var P_=function(e){this.init(e)},Mw=P_,Wi=Mw.prototype;Wi.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Wi.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),o=t.cy.window();if(o){var i=o.document,s=i.head,u="__________cytoscape_stylesheet",h="__________cytoscape_container",d=i.getElementById(u)!=null;if(r.className.indexOf(h)<0&&(r.className=(r.className||"")+" "+h),!d){var c=i.createElement("style");c.id=u,c.textContent="."+h+" { position: relative; }",s.insertBefore(c,s.children[0])}var p=o.getComputedStyle(r),g=p.getPropertyValue("position");g==="static"&&bt("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=ke(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};Wi.notify=function(e,t){var r=this,o=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&o.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Wi.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],o=r,i=o.target;(i.off||i.removeEventListener).apply(i,o.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};Wi.isHeadless=function(){return!1};[Sg,Rw,Aw,Xi,oa,ms].forEach(function(e){Ve(Wi,e)});var kp=1e3/60,zw={setupDequeueing:function(e){return function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var o=fs(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),i=function(u,h){var d=ra(),c=r.averageRedrawTime,p=r.lastRedrawTime,g=[],y=r.cy.extent(),b=r.getPixelRatio();for(u||r.flushRenderedStyleQueue();;){var x=ra(),k=x-d,E=x-h;if(p<kp){var w=kp-(u?c:0);if(E>=e.deqFastCost*w)break}else if(u){if(k>=e.deqCost*p||k>=e.deqAvgCost*c)break}else if(E>=e.deqNoDrawCost*kp)break;var S=e.deq(t,b,y);if(S.length>0)for(var C=0;C<S.length;C++)g.push(S[C]);else break}g.length>0&&(e.onDeqd(t,g),!u&&e.shouldRedraw(t,g,b,y)&&o())},s=e.priority||ug;r.beforeRender(i,s(t))}}}},__=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dc;Za(this,e),this.idsByKey=new na,this.keyForId=new na,this.cachesByLvl=new na,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return Ja(e,[{key:"getIdsFor",value:function(t){t==null&&Lt("Can not get id list for null key");var r=this.idsByKey,o=this.idsByKey.get(t);return o||(o=new Li,r.set(t,o)),o}},{key:"addIdForKey",value:function(t,r){t!=null&&this.getIdsFor(t).add(r)}},{key:"deleteIdForKey",value:function(t,r){t!=null&&this.getIdsFor(t).delete(r)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var r=t.id(),o=this.keyForId.get(r),i=this.getKey(t);this.deleteIdForKey(o,r),this.addIdForKey(i,r),this.keyForId.set(r,i)}},{key:"deleteKeyMappingFor",value:function(t){var r=t.id(),o=this.keyForId.get(r);this.deleteIdForKey(o,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(t){var r=t.id(),o=this.keyForId.get(r),i=this.getKey(t);return o!==i}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var r=this.cachesByLvl,o=this.lvls,i=r.get(t);return i||(i=new na,r.set(t,i),o.push(t)),i}},{key:"getCache",value:function(t,r){return this.getCachesAt(r).get(t)}},{key:"get",value:function(t,r){var o=this.getKey(t),i=this.getCache(o,r);return i!=null&&this.updateKeyMappingFor(t),i}},{key:"getForCachedKey",value:function(t,r){var o=this.keyForId.get(t.id()),i=this.getCache(o,r);return i}},{key:"hasCache",value:function(t,r){return this.getCachesAt(r).has(t)}},{key:"has",value:function(t,r){var o=this.getKey(t);return this.hasCache(o,r)}},{key:"setCache",value:function(t,r,o){o.key=t,this.getCachesAt(r).set(t,o)}},{key:"set",value:function(t,r,o){var i=this.getKey(t);this.setCache(i,r,o),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,r){this.getCachesAt(r).delete(t)}},{key:"delete",value:function(t,r){var o=this.getKey(t);this.deleteCache(o,r)}},{key:"invalidateKey",value:function(t){var r=this;this.lvls.forEach(function(o){return r.deleteCache(t,o)})}},{key:"invalidate",value:function(t){var r=t.id(),o=this.keyForId.get(r);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(o),i||this.getNumberOfIdsForKey(o)===0}}])})(),U1=25,Uu=50,ic=-4,Gp=3,Iw=7.99,D_=8,N_=1024,B_=1024,R_=1024,A_=.2,M_=.8,z_=10,I_=.15,O_=.1,L_=.9,F_=.9,V_=100,j_=1,Ni={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},X_=Sn({getKey:null,doesEleInvalidateKey:dc,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Cx,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Yl=function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var o=X_(t);Ve(r,o),r.lookup=new __(o.getKey,o.doesEleInvalidateKey),r.setupDequeueing()},fn=Yl.prototype;fn.reasons=Ni;fn.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};fn.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},o=r[e]=r[e]||[];return o};fn.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new hs(function(r,o){return o.reqs-r.reqs});return t};fn.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};fn.getElement=function(e,t,r,o,i){var s=this,u=this.renderer,h=u.cy.zoom(),d=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!s.allowEdgeTxrCaching&&e.isEdge()||!s.allowParentTxrCaching&&e.isParent())return null;if(o==null&&(o=Math.ceil(dg(h*r))),o<ic)o=ic;else if(h>=Iw||o>Gp)return null;var c=Math.pow(2,o),p=t.h*c,g=t.w*c,y=u.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,y))return null;var b=d.get(e,o);if(b&&b.invalidated&&(b.invalidated=!1,b.texture.invalidatedWidth-=b.width),b)return b;var x;if(p<=U1?x=U1:p<=Uu?x=Uu:x=Math.ceil(p/Uu)*Uu,p>R_||g>B_)return null;var k=s.getTextureQueue(x),E=k[k.length-2],w=function(){return s.recycleTexture(x,g)||s.addTexture(x,g)};E||(E=k[k.length-1]),E||(E=w()),E.width-E.usedWidth<g&&(E=w());for(var S=function($){return $&&$.scaledLabelShown===y},C=i&&i===Ni.dequeue,_=i&&i===Ni.highQuality,N=i&&i===Ni.downscale,M,P=o+1;P<=Gp;P++){var I=d.get(e,P);if(I){M=I;break}}var L=M&&M.level===o+1?M:null,F=function(){E.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,E.usedWidth,0,g,p)};if(E.context.setTransform(1,0,0,1,0,0),E.context.clearRect(E.usedWidth,0,g,x),S(L))F();else if(S(M))if(_){for(var O=M.level;O>o;O--)L=s.getElement(e,t,r,O,Ni.downscale);F()}else return s.queueElement(e,M.level-1),M;else{var A;if(!C&&!_&&!N)for(var U=o-1;U>=ic;U--){var j=d.get(e,U);if(j){A=j;break}}if(S(A))return s.queueElement(e,o),A;E.context.translate(E.usedWidth,0),E.context.scale(c,c),this.drawElement(E.context,e,t,y,!1),E.context.scale(1/c,1/c),E.context.translate(-E.usedWidth,0)}return b={x:E.usedWidth,texture:E,level:o,scale:c,width:g,height:p,scaledLabelShown:y},E.usedWidth+=Math.ceil(g+D_),E.eleCaches.push(b),d.set(e,o,b),s.checkTextureFullness(E),b};fn.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};fn.invalidateElement=function(e){var t=this,r=t.lookup,o=[],i=r.isInvalid(e);if(i){for(var s=ic;s<=Gp;s++){var u=r.getForCachedKey(e,s);u&&o.push(u)}var h=r.invalidate(e);if(h)for(var d=0;d<o.length;d++){var c=o[d],p=c.texture;p.invalidatedWidth+=c.width,c.invalidated=!0,t.checkTextureUtility(p)}t.removeFromQueue(e)}};fn.checkTextureUtility=function(e){e.invalidatedWidth>=A_*e.width&&this.retireTexture(e)};fn.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>M_&&e.fullnessChecks>=z_?Ka(r,e):e.fullnessChecks++};fn.retireTexture=function(e){var t=this,r=e.height,o=t.getTextureQueue(r),i=this.lookup;Ka(o,e),e.retired=!0;for(var s=e.eleCaches,u=0;u<s.length;u++){var h=s[u];i.deleteCache(h.key,h.level)}cg(s);var d=t.getRetiredTextureQueue(r);d.push(e)};fn.addTexture=function(e,t){var r=this,o=r.getTextureQueue(e),i={};return o.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(N_,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};fn.recycleTexture=function(e,t){for(var r=this,o=r.getTextureQueue(e),i=r.getRetiredTextureQueue(e),s=0;s<i.length;s++){var u=i[s];if(u.width>=t)return u.retired=!1,u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,cg(u.eleCaches),u.context.setTransform(1,0,0,1,0,0),u.context.clearRect(0,0,u.width,u.height),Ka(i,u),o.push(u),u}};fn.queueElement=function(e,t){var r=this,o=r.getElementQueue(),i=r.getElementKeyToQueue(),s=this.getKey(e),u=i[s];if(u)u.level=Math.max(u.level,t),u.eles.merge(e),u.reqs++,o.updateItem(u);else{var h={eles:e.spawn().merge(e),level:t,reqs:1,key:s};o.push(h),i[s]=h}};fn.dequeue=function(e){for(var t=this,r=t.getElementQueue(),o=t.getElementKeyToQueue(),i=[],s=t.lookup,u=0;u<j_&&r.size()>0;u++){var h=r.pop(),d=h.key,c=h.eles[0],p=s.hasCache(c,h.level);if(o[d]=null,!p){i.push(h);var g=t.getBoundingBox(c);t.getElement(c,g,e,h.level,Ni.dequeue)}}return i};fn.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),o=t.getElementKeyToQueue(),i=this.getKey(e),s=o[i];s!=null&&(s.eles.length===1?(s.reqs=sg,r.updateItem(s),r.pop(),o[i]=null):s.eles.unmerge(e))};fn.onDequeue=function(e){this.onDequeues.push(e)};fn.offDequeue=function(e){Ka(this.onDequeues,e)};fn.setupDequeueing=zw.setupDequeueing({deqRedrawThreshold:V_,deqCost:I_,deqAvgCost:O_,deqNoDrawCost:L_,deqFastCost:F_,deq:function(e,t,r){return e.dequeue(t,r)},onDeqd:function(e,t){for(var r=0;r<e.onDequeues.length;r++){var o=e.onDequeues[r];o(t)}},shouldRedraw:function(e,t,r,o){for(var i=0;i<t.length;i++)for(var s=t[i].eles,u=0;u<s.length;u++){var h=s[u].boundingBox();if(hg(h,o))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var W_=1,$l=-4,bc=2,U_=3.99,q_=50,Y_=50,K_=.15,$_=.1,H_=.9,G_=.9,Q_=1,q1=250,Z_=4e3*4e3,Y1=32767,J_=!0,Ow=function(e){var t=this,r=t.renderer=e,o=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ra()-2*q1,t.skipping=!1,t.eleTxrDeqs=o.collection(),t.scheduleElementRefinement=fs(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},Y_),r.beforeRender(function(s,u){u-t.lastInvalidationTime<=q1?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var i=function(s,u){return u.reqs-s.reqs};t.layersQueue=new hs(i),t.setupDequeueing()},Cn=Ow.prototype,K1=0,eD=Math.pow(2,53)-1;Cn.makeLayer=function(e,t){var r=Math.pow(2,t),o=Math.ceil(e.w*r),i=Math.ceil(e.h*r),s=this.renderer.makeOffscreenCanvas(o,i),u={id:K1=++K1%eD,bb:e,level:t,width:o,height:i,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},h=u.context,d=-u.bb.x1,c=-u.bb.y1;return h.scale(r,r),h.translate(d,c),u};Cn.getLayers=function(e,t,r){var o=this,i=o.renderer,s=i.cy,u=s.zoom(),h=o.firstGet;if(o.firstGet=!1,r==null){if(r=Math.ceil(dg(u*t)),r<$l)r=$l;else if(u>=U_||r>bc)return null}o.validateLayersElesOrdering(r,e);var d=o.layersByLevel,c=Math.pow(2,r),p=d[r]=d[r]||[],g,y=o.levelIsComplete(r,e),b,x=function(){var L=function(U){if(o.validateLayersElesOrdering(U,e),o.levelIsComplete(U,e))return b=d[U],!0},F=function(U){if(!b)for(var j=r+U;$l<=j&&j<=bc&&!L(j);j+=U);};F(1),F(-1);for(var O=p.length-1;O>=0;O--){var A=p[O];A.invalid&&Ka(p,A)}};if(!y)x();else return p;var k=function(){if(!g){g=In();for(var L=0;L<e.length;L++)QS(g,e[L].boundingBox())}return g},E=function(L){L=L||{};var F=L.after;k();var O=Math.ceil(g.w*c),A=Math.ceil(g.h*c);if(O>Y1||A>Y1)return null;var U=O*A;if(U>Z_)return null;var j=o.makeLayer(g,r);if(F!=null){var $=p.indexOf(F)+1;p.splice($,0,j)}else(L.insert===void 0||L.insert)&&p.unshift(j);return j};if(o.skipping&&!h)return null;for(var w=null,S=e.length/W_,C=!h,_=0;_<e.length;_++){var N=e[_],M=N._private.rscratch,P=M.imgLayerCaches=M.imgLayerCaches||{},I=P[r];if(I){w=I;continue}if((!w||w.eles.length>=S||!Bx(w.bb,N.boundingBox()))&&(w=E({insert:!0,after:w}),!w))return null;b||C?o.queueLayer(w,N):o.drawEleInLayer(w,N,r,t),w.eles.push(N),P[r]=w}return b||(C?null:p)};Cn.getEleLevelForLayerLevel=function(e,t){return e};Cn.drawEleInLayer=function(e,t,r,o){var i=this,s=this.renderer,u=e.context,h=t.boundingBox();h.w===0||h.h===0||!t.visible()||(r=i.getEleLevelForLayerLevel(r,o),s.setImgSmoothing(u,!1),s.drawCachedElement(u,t,null,null,r,J_),s.setImgSmoothing(u,!0))};Cn.levelIsComplete=function(e,t){var r=this,o=r.layersByLevel[e];if(!o||o.length===0)return!1;for(var i=0,s=0;s<o.length;s++){var u=o[s];if(u.reqs>0||u.invalid)return!1;i+=u.eles.length}return i===t.length};Cn.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var o=0;o<r.length;o++){for(var i=r[o],s=-1,u=0;u<t.length;u++)if(i.eles[0]===t[u]){s=u;break}if(s<0){this.invalidateLayer(i);continue}for(var h=s,u=0;u<i.eles.length;u++)if(i.eles[u]!==t[h+u]){this.invalidateLayer(i);break}}};Cn.updateElementsInLayers=function(e,t){for(var r=this,o=ss(e[0]),i=0;i<e.length;i++)for(var s=o?null:e[i],u=o?e[i]:e[i].ele,h=u._private.rscratch,d=h.imgLayerCaches=h.imgLayerCaches||{},c=$l;c<=bc;c++){var p=d[c];p&&(s&&r.getEleLevelForLayerLevel(p.level)!==s.level||t(p,u,s))}};Cn.haveLayers=function(){for(var e=this,t=!1,r=$l;r<=bc;r++){var o=e.layersByLevel[r];if(o&&o.length>0){t=!0;break}}return t};Cn.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=ra(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(r,o,i){t.invalidateLayer(r)}))};Cn.invalidateLayer=function(e){if(this.lastInvalidationTime=ra(),!e.invalid){var t=e.level,r=e.eles,o=this.layersByLevel[t];Ka(o,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var s=r[i]._private.rscratch.imgLayerCaches;s&&(s[t]=null)}}};Cn.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(r,o,i){var s=r.replacement;if(s||(s=r.replacement=t.makeLayer(r.bb,r.level),s.replaces=r,s.eles=r.eles),!s.reqs)for(var u=0;u<s.eles.length;u++)t.queueLayer(s,s.eles[u])})};Cn.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Cn.queueLayer=function(e,t){var r=this,o=r.layersQueue,i=e.elesQueue,s=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(s[t.id()])return;i.push(t),s[t.id()]=!0}e.reqs?(e.reqs++,o.updateItem(e)):(e.reqs=1,o.push(e))}};Cn.dequeue=function(e){for(var t=this,r=t.layersQueue,o=[],i=0;i<Q_&&r.size()!==0;){var s=r.peek();if(s.replacement){r.pop();continue}if(s.replaces&&s!==s.replaces.replacement){r.pop();continue}if(s.invalid){r.pop();continue}var u=s.elesQueue.shift();u&&(t.drawEleInLayer(s,u,s.level,e),i++),o.length===0&&o.push(!0),s.elesQueue.length===0&&(r.pop(),s.reqs=0,s.replaces&&t.applyLayerReplacement(s),t.requestRedraw())}return o};Cn.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],o=e.replaces,i=r.indexOf(o);if(!(i<0||o.invalid)){r[i]=e;for(var s=0;s<e.eles.length;s++){var u=e.eles[s]._private,h=u.imgLayerCaches=u.imgLayerCaches||{};h&&(h[e.level]=e)}t.requestRedraw()}};Cn.requestRedraw=fs(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Cn.setupDequeueing=zw.setupDequeueing({deqRedrawThreshold:q_,deqCost:K_,deqAvgCost:$_,deqNoDrawCost:H_,deqFastCost:G_,deq:function(e,t){return e.dequeue(t)},onDeqd:ug,shouldRedraw:Cx,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Lw={},$1;function tD(e,t){for(var r=0;r<t.length;r++){var o=t[r];e.lineTo(o.x,o.y)}}function nD(e,t,r){for(var o,i=0;i<t.length;i++){var s=t[i];i===0&&(o=s),e.lineTo(s.x,s.y)}e.quadraticCurveTo(r.x,r.y,o.x,o.y)}function H1(e,t,r){e.beginPath&&e.beginPath();for(var o=t,i=0;i<o.length;i++){var s=o[i];e.lineTo(s.x,s.y)}var u=r,h=r[0];e.moveTo(h.x,h.y);for(var i=1;i<u.length;i++){var s=u[i];e.lineTo(s.x,s.y)}e.closePath&&e.closePath()}function rD(e,t,r,o,i){e.beginPath&&e.beginPath(),e.arc(r,o,i,0,Math.PI*2,!1);var s=t,u=s[0];e.moveTo(u.x,u.y);for(var h=0;h<s.length;h++){var d=s[h];e.lineTo(d.x,d.y)}e.closePath&&e.closePath()}function aD(e,t,r,o){e.arc(t,r,o,0,Math.PI*2,!1)}Lw.arrowShapeImpl=function(e){return($1||($1={polygon:tD,"triangle-backcurve":nD,"triangle-tee":H1,"circle-triangle":rD,"triangle-cross":H1,circle:aD}))[e]};var Ir={};Ir.drawElement=function(e,t,r,o,i,s){var u=this;t.isNode()?u.drawNode(e,t,r,o,i,s):u.drawEdge(e,t,r,o,i,s)};Ir.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};Ir.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};Ir.drawCachedElementPortion=function(e,t,r,o,i,s,u,h){var d=this,c=r.getBoundingBox(t);if(!(c.w===0||c.h===0)){var p=r.getElement(t,c,o,i,s);if(p!=null){var g=h(d,t);if(g===0)return;var y=u(d,t),b=c.x1,x=c.y1,k=c.w,E=c.h,w,S,C,_,N;if(y!==0){var M=r.getRotationPoint(t);C=M.x,_=M.y,e.translate(C,_),e.rotate(y),N=d.getImgSmoothing(e),N||d.setImgSmoothing(e,!0);var P=r.getRotationOffset(t);w=P.x,S=P.y}else w=b,S=x;var I;g!==1&&(I=e.globalAlpha,e.globalAlpha=I*g),e.drawImage(p.texture.canvas,p.x,0,p.width,p.height,w,S,k,E),g!==1&&(e.globalAlpha=I),y!==0&&(e.rotate(-y),e.translate(-C,-_),N||d.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var oD=function(){return 0},iD=function(e,t){return e.getTextAngle(t,null)},lD=function(e,t){return e.getTextAngle(t,"source")},sD=function(e,t){return e.getTextAngle(t,"target")},uD=function(e,t){return t.effectiveOpacity()},Ep=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};Ir.drawCachedElement=function(e,t,r,o,i,s){var u=this,h=u.data,d=h.eleTxrCache,c=h.lblTxrCache,p=h.slbTxrCache,g=h.tlbTxrCache,y=t.boundingBox(),b=s===!0?d.reasons.highQuality:null;if(!(y.w===0||y.h===0||!t.visible())&&(!o||hg(y,o))){var x=t.isEdge(),k=t.element()._private.rscratch.badLine;u.drawElementUnderlay(e,t),u.drawCachedElementPortion(e,t,d,r,i,b,oD,uD),(!x||!k)&&u.drawCachedElementPortion(e,t,c,r,i,b,iD,Ep),x&&!k&&(u.drawCachedElementPortion(e,t,p,r,i,b,lD,Ep),u.drawCachedElementPortion(e,t,g,r,i,b,sD,Ep)),u.drawElementOverlay(e,t)}};Ir.drawElements=function(e,t){for(var r=this,o=0;o<t.length;o++){var i=t[o];r.drawElement(e,i)}};Ir.drawCachedElements=function(e,t,r,o){for(var i=this,s=0;s<t.length;s++){var u=t[s];i.drawCachedElement(e,u,r,o)}};Ir.drawCachedNodes=function(e,t,r,o){for(var i=this,s=0;s<t.length;s++){var u=t[s];u.isNode()&&i.drawCachedElement(e,u,r,o)}};Ir.drawLayeredElements=function(e,t,r,o){var i=this,s=i.data.lyrTxrCache.getLayers(t,r);if(s)for(var u=0;u<s.length;u++){var h=s[u],d=h.bb;d.w===0||d.h===0||e.drawImage(h.canvas,d.x1,d.y1,d.w,d.h)}else i.drawCachedElements(e,t,r,o)};var ia={};ia.drawEdge=function(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this,h=t._private.rscratch;if(!(s&&!t.visible())&&!(h.badLine||h.allpts==null||isNaN(h.allpts[0]))){var d;r&&(d=r,e.translate(-d.x1,-d.y1));var c=s?t.pstyle("opacity").value:1,p=s?t.pstyle("line-opacity").value:1,g=t.pstyle("curve-style").value,y=t.pstyle("line-style").value,b=t.pstyle("width").pfValue,x=t.pstyle("line-cap").value,k=t.pstyle("line-outline-width").value,E=t.pstyle("line-outline-color").value,w=c*p,S=c*p,C=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;g==="straight-triangle"?(u.eleStrokeStyle(e,t,j),u.drawEdgeTrianglePath(t,e,h.allpts)):(e.lineWidth=b,e.lineCap=x,u.eleStrokeStyle(e,t,j),u.drawEdgePath(t,e,h.allpts,y),e.lineCap="butt")},_=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;if(e.lineWidth=b+k,e.lineCap=x,k>0)u.colorStrokeStyle(e,E[0],E[1],E[2],j);else{e.lineCap="butt";return}g==="straight-triangle"?u.drawEdgeTrianglePath(t,e,h.allpts):(u.drawEdgePath(t,e,h.allpts,y),e.lineCap="butt")},N=function(){i&&u.drawEdgeOverlay(e,t)},M=function(){i&&u.drawEdgeUnderlay(e,t)},P=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;u.drawArrowheads(e,t,j)},I=function(){u.drawElementText(e,t,null,o)};e.lineJoin="round";var L=t.pstyle("ghost").value==="yes";if(L){var F=t.pstyle("ghost-offset-x").pfValue,O=t.pstyle("ghost-offset-y").pfValue,A=t.pstyle("ghost-opacity").value,U=w*A;e.translate(F,O),C(U),P(U),e.translate(-F,-O)}else _();M(),C(),P(),N(),I(),r&&e.translate(d.x1,d.y1)}};var Fw=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var o=r.pstyle("".concat(e,"-opacity")).value;if(o!==0){var i=this,s=i.usePaths(),u=r._private.rscratch,h=r.pstyle("".concat(e,"-padding")).pfValue,d=2*h,c=r.pstyle("".concat(e,"-color")).value;t.lineWidth=d,u.edgeType==="self"&&!s?t.lineCap="butt":t.lineCap="round",i.colorStrokeStyle(t,c[0],c[1],c[2],o),i.drawEdgePath(r,t,u.allpts,"solid")}}}};ia.drawEdgeOverlay=Fw("overlay");ia.drawEdgeUnderlay=Fw("underlay");ia.drawEdgePath=function(e,t,r,o){var i=e._private.rscratch,s=t,u,h=!1,d=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,p=e.pstyle("line-dash-offset").pfValue;if(d){var g=r.join("$"),y=i.pathCacheKey&&i.pathCacheKey===g;y?(u=t=i.pathCache,h=!0):(u=t=new Path2D,i.pathCacheKey=g,i.pathCache=u)}if(s.setLineDash)switch(o){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(c),s.lineDashOffset=p;break;case"solid":s.setLineDash([]);break}if(!h&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var b=2;b+3<r.length;b+=4)t.quadraticCurveTo(r[b],r[b+1],r[b+2],r[b+3]);break;case"straight":case"haystack":for(var x=2;x+1<r.length;x+=2)t.lineTo(r[x],r[x+1]);break;case"segments":if(i.isRound){var k=Yn(i.roundCorners),E;try{for(k.s();!(E=k.n()).done;){var w=E.value;Pw(t,w)}}catch(C){k.e(C)}finally{k.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var S=2;S+1<r.length;S+=2)t.lineTo(r[S],r[S+1]);break}t=s,d?t.stroke(u):t.stroke(),t.setLineDash&&t.setLineDash([])};ia.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var o=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var s=[r[i+2]-r[i],r[i+3]-r[i+1]],u=Math.sqrt(s[0]*s[0]+s[1]*s[1]),h=[s[1]/u,-s[0]/u],d=[h[0]*o/2,h[1]*o/2];t.beginPath(),t.moveTo(r[i]-d[0],r[i+1]-d[1]),t.lineTo(r[i]+d[0],r[i+1]+d[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}};ia.drawArrowheads=function(e,t,r){var o=t._private.rscratch,i=o.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",o.arrowStartX,o.arrowStartY,o.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",o.midX,o.midY,o.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",o.midX,o.midY,o.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",o.arrowEndX,o.arrowEndY,o.tgtArrowAngle,r)};ia.drawArrowhead=function(e,t,r,o,i,s,u){if(!(isNaN(o)||o==null||isNaN(i)||i==null||isNaN(s)||s==null)){var h=this,d=t.pstyle(r+"-arrow-shape").value;if(d!=="none"){var c=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",p=t.pstyle(r+"-arrow-fill").value,g=t.pstyle("width").pfValue,y=t.pstyle(r+"-arrow-width"),b=y.value==="match-line"?g:y.pfValue;y.units==="%"&&(b*=g);var x=t.pstyle("opacity").value;u===void 0&&(u=x);var k=e.globalCompositeOperation;(u!==1||p==="hollow")&&(e.globalCompositeOperation="destination-out",h.colorFillStyle(e,255,255,255,1),h.colorStrokeStyle(e,255,255,255,1),h.drawArrowShape(t,e,c,g,d,b,o,i,s),e.globalCompositeOperation=k);var E=t.pstyle(r+"-arrow-color").value;h.colorFillStyle(e,E[0],E[1],E[2],u),h.colorStrokeStyle(e,E[0],E[1],E[2],u),h.drawArrowShape(t,e,p,g,d,b,o,i,s)}}};ia.drawArrowShape=function(e,t,r,o,i,s,u,h,d){var c=this,p=this.usePaths()&&i!=="triangle-cross",g=!1,y,b=t,x={x:u,y:h},k=e.pstyle("arrow-scale").value,E=this.getArrowWidth(o,k),w=c.arrowShapes[i];if(p){var S=c.arrowPathCache=c.arrowPathCache||[],C=Bo(i),_=S[C];_!=null?(y=t=_,g=!0):(y=t=new Path2D,S[C]=y)}g||(t.beginPath&&t.beginPath(),p?w.draw(t,1,0,{x:0,y:0},1):w.draw(t,E,d,x,o),t.closePath&&t.closePath()),t=b,p&&(t.translate(u,h),t.rotate(d),t.scale(E,E)),(r==="filled"||r==="both")&&(p?t.fill(y):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=s/(p?E:1),t.lineJoin="miter",p?t.stroke(y):t.stroke()),p&&(t.scale(1/E,1/E),t.rotate(-d),t.translate(-u,-h))};var Pg={};Pg.safeDrawImage=function(e,t,r,o,i,s,u,h,d,c){if(!(i<=0||s<=0||d<=0||c<=0))try{e.drawImage(t,r,o,i,s,u,h,d,c)}catch(p){bt(p)}};Pg.drawInscribedImage=function(e,t,r,o,i){var s=this,u=r.position(),h=u.x,d=u.y,c=r.cy().style(),p=c.getIndexedStyle.bind(c),g=p(r,"background-fit","value",o),y=p(r,"background-repeat","value",o),b=r.width(),x=r.height(),k=r.padding()*2,E=b+(p(r,"background-width-relative-to","value",o)==="inner"?0:k),w=x+(p(r,"background-height-relative-to","value",o)==="inner"?0:k),S=r._private.rscratch,C=p(r,"background-clip","value",o),_=C==="node",N=p(r,"background-image-opacity","value",o)*i,M=p(r,"background-image-smoothing","value",o),P=r.pstyle("corner-radius").value;P!=="auto"&&(P=r.pstyle("corner-radius").pfValue);var I=t.width||t.cachedW,L=t.height||t.cachedH;(I==null||L==null)&&(document.body.appendChild(t),I=t.cachedW=t.width||t.offsetWidth,L=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var F=I,O=L;if(p(r,"background-width","value",o)!=="auto"&&(p(r,"background-width","units",o)==="%"?F=p(r,"background-width","pfValue",o)*E:F=p(r,"background-width","pfValue",o)),p(r,"background-height","value",o)!=="auto"&&(p(r,"background-height","units",o)==="%"?O=p(r,"background-height","pfValue",o)*w:O=p(r,"background-height","pfValue",o)),!(F===0||O===0)){if(g==="contain"){var A=Math.min(E/F,w/O);F*=A,O*=A}else if(g==="cover"){var A=Math.max(E/F,w/O);F*=A,O*=A}var U=h-E/2,j=p(r,"background-position-x","units",o),$=p(r,"background-position-x","pfValue",o);j==="%"?U+=(E-F)*$:U+=$;var z=p(r,"background-offset-x","units",o),V=p(r,"background-offset-x","pfValue",o);z==="%"?U+=(E-F)*V:U+=V;var W=d-w/2,q=p(r,"background-position-y","units",o),Z=p(r,"background-position-y","pfValue",o);q==="%"?W+=(w-O)*Z:W+=Z;var R=p(r,"background-offset-y","units",o),X=p(r,"background-offset-y","pfValue",o);R==="%"?W+=(w-O)*X:W+=X,S.pathCache&&(U-=h,W-=d,h=0,d=0);var H=e.globalAlpha;e.globalAlpha=N;var ee=s.getImgSmoothing(e),de=!1;if(M==="no"&&ee?(s.setImgSmoothing(e,!1),de=!0):M==="yes"&&!ee&&(s.setImgSmoothing(e,!0),de=!0),y==="no-repeat")_&&(e.save(),S.pathCache?e.clip(S.pathCache):(s.nodeShapes[s.getNodeShape(r)].draw(e,h,d,E,w,P,S),e.clip())),s.safeDrawImage(e,t,0,0,I,L,U,W,F,O),_&&e.restore();else{var se=e.createPattern(t,y);e.fillStyle=se,s.nodeShapes[s.getNodeShape(r)].draw(e,h,d,E,w,P,S),e.translate(U,W),e.fill(),e.translate(-U,-W)}e.globalAlpha=H,de&&s.setImgSmoothing(e,ee)}};var Lo={};Lo.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),o=this.getPixelRatio(),i=Math.ceil(dg(r*o));t=Math.pow(2,i)}var s=e.pstyle("font-size").pfValue*t,u=e.pstyle("min-zoomed-font-size").pfValue;return!(s<u)};Lo.drawElementText=function(e,t,r,o,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this;if(o==null){if(s&&!u.eleTextBiggerThanMin(t))return}else if(o===!1)return;if(t.isNode()){var h=t.pstyle("label");if(!h||!h.value)return;var d=u.getLabelJustification(t);e.textAlign=d,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,p=t.pstyle("label"),g=t.pstyle("source-label"),y=t.pstyle("target-label");if(c||(!p||!p.value)&&(!g||!g.value)&&(!y||!y.value))return;e.textAlign="center",e.textBaseline="bottom"}var b=!r,x;r&&(x=r,e.translate(-x.x1,-x.y1)),i==null?(u.drawText(e,t,null,b,s),t.isEdge()&&(u.drawText(e,t,"source",b,s),u.drawText(e,t,"target",b,s))):u.drawText(e,t,i,b,s),r&&e.translate(x.x1,x.y1)};Lo.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};Lo.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",s=t.pstyle("font-family").strValue,u=t.pstyle("font-weight").strValue,h=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,d=t.pstyle("text-outline-opacity").value*h,c=t.pstyle("color").value,p=t.pstyle("text-outline-color").value;e.font=o+" "+u+" "+i+" "+s,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],h),this.colorStrokeStyle(e,p[0],p[1],p[2],d)};function cD(e,t,r,o,i){var s=Math.min(o,i),u=s/2,h=t+o/2,d=r+i/2;e.beginPath(),e.arc(h,d,u,0,Math.PI*2),e.closePath()}function G1(e,t,r,o,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,u=Math.min(s,o/2,i/2);e.beginPath(),e.moveTo(t+u,r),e.lineTo(t+o-u,r),e.quadraticCurveTo(t+o,r,t+o,r+u),e.lineTo(t+o,r+i-u),e.quadraticCurveTo(t+o,r+i,t+o-u,r+i),e.lineTo(t+u,r+i),e.quadraticCurveTo(t,r+i,t,r+i-u),e.lineTo(t,r+u),e.quadraticCurveTo(t,r,t+u,r),e.closePath()}Lo.getTextAngle=function(e,t){var r,o=e._private,i=o.rscratch,s=t?t+"-":"",u=e.pstyle(s+"text-rotation");if(u.strValue==="autorotate"){var h=Un(i,"labelAngle",t);r=e.isEdge()?h:0}else u.strValue==="none"?r=0:r=u.pfValue;return r};Lo.drawText=function(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=t._private,u=s.rscratch,h=i?t.effectiveOpacity():1;if(!(i&&(h===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var d=Un(u,"labelX",r),c=Un(u,"labelY",r),p,g,y=this.getLabelText(t,r);if(y!=null&&y!==""&&!isNaN(d)&&!isNaN(c)){this.setupTextStyle(e,t,i);var b=r?r+"-":"",x=Un(u,"labelWidth",r),k=Un(u,"labelHeight",r),E=t.pstyle(b+"text-margin-x").pfValue,w=t.pstyle(b+"text-margin-y").pfValue,S=t.isEdge(),C=t.pstyle("text-halign").value,_=t.pstyle("text-valign").value;S&&(C="center",_="center"),d+=E,c+=w;var N;switch(o?N=this.getTextAngle(t,r):N=0,N!==0&&(p=d,g=c,e.translate(p,g),e.rotate(N),d=0,c=0),_){case"top":break;case"center":c+=k/2;break;case"bottom":c+=k;break}var M=t.pstyle("text-background-opacity").value,P=t.pstyle("text-border-opacity").value,I=t.pstyle("text-border-width").pfValue,L=t.pstyle("text-background-padding").pfValue,F=t.pstyle("text-background-shape").strValue,O=F==="round-rectangle"||F==="roundrectangle",A=F==="circle",U=2;if(M>0||I>0&&P>0){var j=e.fillStyle,$=e.strokeStyle,z=e.lineWidth,V=t.pstyle("text-background-color").value,W=t.pstyle("text-border-color").value,q=t.pstyle("text-border-style").value,Z=M>0,R=I>0&&P>0,X=d-L;switch(C){case"left":X-=x;break;case"center":X-=x/2;break}var H=c-k-L,ee=x+2*L,de=k+2*L;if(Z&&(e.fillStyle="rgba(".concat(V[0],",").concat(V[1],",").concat(V[2],",").concat(M*h,")")),R&&(e.strokeStyle="rgba(".concat(W[0],",").concat(W[1],",").concat(W[2],",").concat(P*h,")"),e.lineWidth=I,e.setLineDash))switch(q){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=I/4,e.setLineDash([]);break;default:e.setLineDash([]);break}if(O?(e.beginPath(),G1(e,X,H,ee,de,U)):A?(e.beginPath(),cD(e,X,H,ee,de)):(e.beginPath(),e.rect(X,H,ee,de)),Z&&e.fill(),R&&e.stroke(),R&&q==="double"){var se=I/2;e.beginPath(),O?G1(e,X+se,H+se,ee-2*se,de-2*se,U):e.rect(X+se,H+se,ee-2*se,de-2*se),e.stroke()}e.fillStyle=j,e.strokeStyle=$,e.lineWidth=z,e.setLineDash&&e.setLineDash([])}var pe=2*t.pstyle("text-outline-width").pfValue;if(pe>0&&(e.lineWidth=pe),t.pstyle("text-wrap").value==="wrap"){var be=Un(u,"labelWrapCachedLines",r),Q=Un(u,"labelLineHeight",r),te=x/2,ne=this.getLabelJustification(t);switch(ne==="auto"||(C==="left"?ne==="left"?d+=-x:ne==="center"&&(d+=-te):C==="center"?ne==="left"?d+=-te:ne==="right"&&(d+=te):C==="right"&&(ne==="center"?d+=te:ne==="right"&&(d+=x))),_){case"top":c-=(be.length-1)*Q;break;case"center":case"bottom":c-=(be.length-1)*Q;break}for(var ve=0;ve<be.length;ve++)pe>0&&e.strokeText(be[ve],d,c),e.fillText(be[ve],d,c),c+=Q}else pe>0&&e.strokeText(y,d,c),e.fillText(y,d,c);N!==0&&(e.rotate(-N),e.translate(-p,-g))}}};var to={};to.drawNode=function(e,t,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,u=this,h,d,c=t._private,p=c.rscratch,g=t.position();if(!(!ke(g.x)||!ke(g.y))&&!(s&&!t.visible())){var y=s?t.effectiveOpacity():1,b=u.usePaths(),x,k=!1,E=t.padding();h=t.width()+2*E,d=t.height()+2*E;var w;r&&(w=r,e.translate(-w.x1,-w.y1));for(var S=t.pstyle("background-image"),C=S.value,_=new Array(C.length),N=new Array(C.length),M=0,P=0;P<C.length;P++){var I=C[P],L=_[P]=I!=null&&I!=="none";if(L){var F=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",P);M++,N[P]=u.getCachedImage(I,F,function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var O=t.pstyle("background-blacken").value,A=t.pstyle("border-width").pfValue,U=t.pstyle("background-opacity").value*y,j=t.pstyle("border-color").value,$=t.pstyle("border-style").value,z=t.pstyle("border-join").value,V=t.pstyle("border-cap").value,W=t.pstyle("border-position").value,q=t.pstyle("border-dash-pattern").pfValue,Z=t.pstyle("border-dash-offset").pfValue,R=t.pstyle("border-opacity").value*y,X=t.pstyle("outline-width").pfValue,H=t.pstyle("outline-color").value,ee=t.pstyle("outline-style").value,de=t.pstyle("outline-opacity").value*y,se=t.pstyle("outline-offset").value,pe=t.pstyle("corner-radius").value;pe!=="auto"&&(pe=t.pstyle("corner-radius").pfValue);var be=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;u.eleFillStyle(e,t,Se)},Q=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R;u.colorStrokeStyle(e,j[0],j[1],j[2],Se)},te=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:de;u.colorStrokeStyle(e,H[0],H[1],H[2],Se)},ne=function(Se,Le,D,oe){var le=u.nodePathCache=u.nodePathCache||[],ce=Sx(D==="polygon"?D+","+oe.join(","):D,""+Le,""+Se,""+pe),fe=le[ce],Ce,ye=!1;return fe!=null?(Ce=fe,ye=!0,p.pathCache=Ce):(Ce=new Path2D,le[ce]=p.pathCache=Ce),{path:Ce,cacheHit:ye}},ve=t.pstyle("shape").strValue,we=t.pstyle("shape-polygon-points").pfValue;if(b){e.translate(g.x,g.y);var Ee=ne(h,d,ve,we);x=Ee.path,k=Ee.cacheHit}var $e=function(){if(!k){var Se=g;b&&(Se={x:0,y:0}),u.nodeShapes[u.getNodeShape(t)].draw(x||e,Se.x,Se.y,h,d,pe,p)}b?e.fill(x):e.fill()},Fe=function(){for(var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,D=c.backgrounding,oe=0,le=0;le<N.length;le++){var ce=t.cy().style().getIndexedStyle(t,"background-image-containment","value",le);if(Le&&ce==="over"||!Le&&ce==="inside"){oe++;continue}_[le]&&N[le].complete&&!N[le].error&&(oe++,u.drawInscribedImage(e,N[le],t,le,Se))}c.backgrounding=oe!==M,D!==c.backgrounding&&t.updateStyle(!1)},Ye=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;u.hasPie(t)&&(u.drawPie(e,t,Le),Se&&(b||u.nodeShapes[u.getNodeShape(t)].draw(e,g.x,g.y,h,d,pe,p)))},it=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;u.hasStripe(t)&&(e.save(),b?e.clip(p.pathCache):(u.nodeShapes[u.getNodeShape(t)].draw(e,g.x,g.y,h,d,pe,p),e.clip()),u.drawStripe(e,t,Le),e.restore(),Se&&(b||u.nodeShapes[u.getNodeShape(t)].draw(e,g.x,g.y,h,d,pe,p)))},xe=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y,Le=(O>0?O:-O)*Se,D=O>0?0:255;O!==0&&(u.colorFillStyle(e,D,D,D,Le),b?e.fill(x):e.fill())},De=function(){if(A>0){if(e.lineWidth=A,e.lineCap=V,e.lineJoin=z,e.setLineDash)switch($){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(q),e.lineDashOffset=Z;break;case"solid":case"double":e.setLineDash([]);break}if(W!=="center"){if(e.save(),e.lineWidth*=2,W==="inside")b?e.clip(x):e.clip();else{var Se=new Path2D;Se.rect(-h/2-A,-d/2-A,h+2*A,d+2*A),Se.addPath(x),e.clip(Se,"evenodd")}b?e.stroke(x):e.stroke(),e.restore()}else b?e.stroke(x):e.stroke();if($==="double"){e.lineWidth=A/3;var Le=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",b?e.stroke(x):e.stroke(),e.globalCompositeOperation=Le}e.setLineDash&&e.setLineDash([])}},Ne=function(){if(X>0){if(e.lineWidth=X,e.lineCap="butt",e.setLineDash)switch(ee){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var Se=g;b&&(Se={x:0,y:0});var Le=u.getNodeShape(t),D=A;W==="inside"&&(D=0),W==="outside"&&(D*=2);var oe=(h+D+(X+se))/h,le=(d+D+(X+se))/d,ce=h*oe,fe=d*le,Ce=u.nodeShapes[Le].points,ye;if(b){var Ae=ne(ce,fe,Le,Ce);ye=Ae.path}if(Le==="ellipse")u.drawEllipsePath(ye||e,Se.x,Se.y,ce,fe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Le)){var Te=0,Me=0,Ge=0;Le==="round-diamond"?Te=(D+se+X)*1.4:Le==="round-heptagon"?(Te=(D+se+X)*1.075,Ge=-(D/2+se+X)/35):Le==="round-hexagon"?Te=(D+se+X)*1.12:Le==="round-pentagon"?(Te=(D+se+X)*1.13,Ge=-(D/2+se+X)/15):Le==="round-tag"?(Te=(D+se+X)*1.12,Me=(D/2+X+se)*.07):Le==="round-triangle"&&(Te=(D+se+X)*(Math.PI/2),Ge=-(D+se/2+X)/Math.PI),Te!==0&&(oe=(h+Te)/h,ce=h*oe,["round-hexagon","round-tag"].includes(Le)||(le=(d+Te)/d,fe=d*le)),pe=pe==="auto"?Mx(ce,fe):pe;for(var Ue=ce/2,Be=fe/2,Ke=pe+(D+X+se)/2,ut=new Array(Ce.length/2),Bt=new Array(Ce.length/2),Kt=0;Kt<Ce.length/2;Kt++)ut[Kt]={x:Se.x+Me+Ue*Ce[Kt*2],y:Se.y+Ge+Be*Ce[Kt*2+1]};var $t,jt,Ht,Ft,hn=ut.length;for(jt=ut[hn-1],$t=0;$t<hn;$t++)Ht=ut[$t%hn],Ft=ut[($t+1)%hn],Bt[$t]=Cg(jt,Ht,Ft,Ke),jt=Ht,Ht=Ft;u.drawRoundPolygonPath(ye||e,Se.x+Me,Se.y+Ge,h*oe,d*le,Ce,Bt)}else if(["roundrectangle","round-rectangle"].includes(Le))pe=pe==="auto"?$a(ce,fe):pe,u.drawRoundRectanglePath(ye||e,Se.x,Se.y,ce,fe,pe+(D+X+se)/2);else if(["cutrectangle","cut-rectangle"].includes(Le))pe=pe==="auto"?pg():pe,u.drawCutRectanglePath(ye||e,Se.x,Se.y,ce,fe,null,pe+(D+X+se)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Le))pe=pe==="auto"?$a(ce,fe):pe,u.drawBottomRoundRectanglePath(ye||e,Se.x,Se.y,ce,fe,pe+(D+X+se)/2);else if(Le==="barrel")u.drawBarrelPath(ye||e,Se.x,Se.y,ce,fe);else if(Le.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Le)){var rr=(D+X+se)/h;Ce=fc(hc(Ce,rr)),u.drawPolygonPath(ye||e,Se.x,Se.y,h,d,Ce)}else{var zt=(D+X+se)/h;Ce=fc(hc(Ce,-zt)),u.drawPolygonPath(ye||e,Se.x,Se.y,h,d,Ce)}if(b?e.stroke(ye):e.stroke(),ee==="double"){e.lineWidth=D/3;var Bn=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",b?e.stroke(ye):e.stroke(),e.globalCompositeOperation=Bn}e.setLineDash&&e.setLineDash([])}},We=function(){i&&u.drawNodeOverlay(e,t,g,h,d)},qe=function(){i&&u.drawNodeUnderlay(e,t,g,h,d)},Oe=function(){u.drawElementText(e,t,null,o)},Je=t.pstyle("ghost").value==="yes";if(Je){var ht=t.pstyle("ghost-offset-x").pfValue,xt=t.pstyle("ghost-offset-y").pfValue,rt=t.pstyle("ghost-opacity").value,st=rt*y;e.translate(ht,xt),te(),Ne(),be(rt*U),$e(),Fe(st,!0),Q(rt*R),De(),Ye(O!==0||A!==0),it(O!==0||A!==0),Fe(st,!1),xe(st),e.translate(-ht,-xt)}b&&e.translate(-g.x,-g.y),qe(),b&&e.translate(g.x,g.y),te(),Ne(),be(),$e(),Fe(y,!0),Q(),De(),Ye(O!==0||A!==0),it(O!==0||A!==0),Fe(y,!1),xe(),b&&e.translate(-g.x,-g.y),Oe(),We(),r&&e.translate(w.x1,w.y1)}};var Vw=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,o,i,s){var u=this;if(r.visible()){var h=r.pstyle("".concat(e,"-padding")).pfValue,d=r.pstyle("".concat(e,"-opacity")).value,c=r.pstyle("".concat(e,"-color")).value,p=r.pstyle("".concat(e,"-shape")).value,g=r.pstyle("".concat(e,"-corner-radius")).value;if(d>0){if(o=o||r.position(),i==null||s==null){var y=r.padding();i=r.width()+2*y,s=r.height()+2*y}u.colorFillStyle(t,c[0],c[1],c[2],d),u.nodeShapes[p].draw(t,o.x,o.y,i+h*2,s+h*2,g),t.fill()}}}};to.drawNodeOverlay=Vw("overlay");to.drawNodeUnderlay=Vw("underlay");to.hasPie=function(e){return e=e[0],e._private.hasPie};to.hasStripe=function(e){return e=e[0],e._private.hasStripe};to.drawPie=function(e,t,r,o){t=t[0],o=o||t.position();var i=t.cy().style(),s=t.pstyle("pie-size"),u=t.pstyle("pie-hole"),h=t.pstyle("pie-start-angle").pfValue,d=o.x,c=o.y,p=t.width(),g=t.height(),y=Math.min(p,g)/2,b,x=0,k=this.usePaths();if(k&&(d=0,c=0),s.units==="%"?y=y*s.pfValue:s.pfValue!==void 0&&(y=s.pfValue/2),u.units==="%"?b=y*u.pfValue:u.pfValue!==void 0&&(b=u.pfValue/2),!(b>=y))for(var E=1;E<=i.pieBackgroundN;E++){var w=t.pstyle("pie-"+E+"-background-size").value,S=t.pstyle("pie-"+E+"-background-color").value,C=t.pstyle("pie-"+E+"-background-opacity").value*r,_=w/100;_+x>1&&(_=1-x);var N=1.5*Math.PI+2*Math.PI*x;N+=h;var M=2*Math.PI*_,P=N+M;w===0||x>=1||x+_>1||(b===0?(e.beginPath(),e.moveTo(d,c),e.arc(d,c,y,N,P),e.closePath()):(e.beginPath(),e.arc(d,c,y,N,P),e.arc(d,c,b,P,N,!0),e.closePath()),this.colorFillStyle(e,S[0],S[1],S[2],C),e.fill(),x+=_)}};to.drawStripe=function(e,t,r,o){t=t[0],o=o||t.position();var i=t.cy().style(),s=o.x,u=o.y,h=t.width(),d=t.height(),c=0,p=this.usePaths();e.save();var g=t.pstyle("stripe-direction").value,y=t.pstyle("stripe-size");switch(g){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var b=h,x=d;y.units==="%"?(b=b*y.pfValue,x=x*y.pfValue):y.pfValue!==void 0&&(b=y.pfValue,x=y.pfValue),p&&(s=0,u=0),u-=b/2,s-=x/2;for(var k=1;k<=i.stripeBackgroundN;k++){var E=t.pstyle("stripe-"+k+"-background-size").value,w=t.pstyle("stripe-"+k+"-background-color").value,S=t.pstyle("stripe-"+k+"-background-opacity").value*r,C=E/100;C+c>1&&(C=1-c),!(E===0||c>=1||c+C>1)&&(e.beginPath(),e.rect(s,u+x*c,b,x*C),e.closePath(),this.colorFillStyle(e,w[0],w[1],w[2],S),e.fill(),c+=C)}e.restore()};var On={},dD=100;On.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};On.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,o,i=0;i<t.length;i++)if(o=t[i],o.context===e){r=!1;break}return r&&(o={context:e},t.push(o)),o};On.createGradientStyleFor=function(e,t,r,o,i){var s,u=this.usePaths(),h=r.pstyle(t+"-gradient-stop-colors").value,d=r.pstyle(t+"-gradient-stop-positions").pfValue;if(o==="radial-gradient")if(r.isEdge()){var c=r.sourceEndpoint(),p=r.targetEndpoint(),g=r.midpoint(),y=Ro(c,g),b=Ro(p,g);s=e.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(y,b))}else{var x=u?{x:0,y:0}:r.position(),k=r.paddedWidth(),E=r.paddedHeight();s=e.createRadialGradient(x.x,x.y,0,x.x,x.y,Math.max(k,E))}else if(r.isEdge()){var w=r.sourceEndpoint(),S=r.targetEndpoint();s=e.createLinearGradient(w.x,w.y,S.x,S.y)}else{var C=u?{x:0,y:0}:r.position(),_=r.paddedWidth(),N=r.paddedHeight(),M=_/2,P=N/2,I=r.pstyle("background-gradient-direction").value;switch(I){case"to-bottom":s=e.createLinearGradient(C.x,C.y-P,C.x,C.y+P);break;case"to-top":s=e.createLinearGradient(C.x,C.y+P,C.x,C.y-P);break;case"to-left":s=e.createLinearGradient(C.x+M,C.y,C.x-M,C.y);break;case"to-right":s=e.createLinearGradient(C.x-M,C.y,C.x+M,C.y);break;case"to-bottom-right":case"to-right-bottom":s=e.createLinearGradient(C.x-M,C.y-P,C.x+M,C.y+P);break;case"to-top-right":case"to-right-top":s=e.createLinearGradient(C.x-M,C.y+P,C.x+M,C.y-P);break;case"to-bottom-left":case"to-left-bottom":s=e.createLinearGradient(C.x+M,C.y-P,C.x-M,C.y+P);break;case"to-top-left":case"to-left-top":s=e.createLinearGradient(C.x+M,C.y+P,C.x-M,C.y-P);break}}if(!s)return null;for(var L=d.length===h.length,F=h.length,O=0;O<F;O++)s.addColorStop(L?d[O]:O/(F-1),"rgba("+h[O][0]+","+h[O][1]+","+h[O][2]+","+i+")");return s};On.gradientFillStyle=function(e,t,r,o){var i=this.createGradientStyleFor(e,"background",t,r,o);if(!i)return null;e.fillStyle=i};On.colorFillStyle=function(e,t,r,o,i){e.fillStyle="rgba("+t+","+r+","+o+","+i+")"};On.eleFillStyle=function(e,t,r){var o=t.pstyle("background-fill").value;if(o==="linear-gradient"||o==="radial-gradient")this.gradientFillStyle(e,t,o,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}};On.gradientStrokeStyle=function(e,t,r,o){var i=this.createGradientStyleFor(e,"line",t,r,o);if(!i)return null;e.strokeStyle=i};On.colorStrokeStyle=function(e,t,r,o,i){e.strokeStyle="rgba("+t+","+r+","+o+","+i+")"};On.eleStrokeStyle=function(e,t,r){var o=t.pstyle("line-fill").value;if(o==="linear-gradient"||o==="radial-gradient")this.gradientStrokeStyle(e,t,o,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}};On.matchCanvasSize=function(e){var t=this,r=t.data,o=t.findContainerClientCoords(),i=o[2],s=o[3],u=t.getPixelRatio(),h=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(u=h);var d=i*u,c=s*u,p;if(!(d===t.canvasWidth&&c===t.canvasHeight)){t.fontCaches=null;var g=r.canvasContainer;g.style.width=i+"px",g.style.height=s+"px";for(var y=0;y<t.CANVAS_LAYERS;y++)p=r.canvases[y],p.width=d,p.height=c,p.style.width=i+"px",p.style.height=s+"px";for(var y=0;y<t.BUFFER_COUNT;y++)p=r.bufferCanvases[y],p.width=d,p.height=c,p.style.width=i+"px",p.style.height=s+"px";t.textureMult=1,u<=1&&(p=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,p.width=d*t.textureMult,p.height=c*t.textureMult),t.canvasWidth=d,t.canvasHeight=c,t.pixelRatio=u}};On.renderTo=function(e,t,r,o){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:o})};On.clearCanvas=function(){var e=this,t=e.data;function r(o){o.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])};On.render=function(e){var t=this;e=e||_x();var r=t.cy,o=e.forcedContext,i=e.drawAllLayers,s=e.drawOnlyNodeLayer,u=e.forcedZoom,h=e.forcedPan,d=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,c=t.data,p=c.canvasNeedsRedraw,g=t.textureOnViewport&&!o&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),y=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,b=t.motionBlurPxRatio,x=r.hasCompoundNodes(),k=t.hoverData.draggingEles,E=!!(t.hoverData.selecting||t.touchData.selecting);y=y&&!o&&t.motionBlurEnabled&&!E;var w=y;o||(t.prevPxRatio!==d&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=d),!o&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),y&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(w=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!g&&(p[t.NODE]=!0,p[t.SELECT_BOX]=!0);var S=r.style(),C=r.zoom(),_=u!==void 0?u:C,N=r.pan(),M={x:N.x,y:N.y},P={zoom:C,pan:{x:N.x,y:N.y}},I=t.prevViewport,L=I===void 0||P.zoom!==I.zoom||P.pan.x!==I.pan.x||P.pan.y!==I.pan.y;!L&&!(k&&!x)&&(t.motionBlurPxRatio=1),h&&(M=h),_*=d,M.x*=d,M.y*=d;var F=t.getCachedZSortedEles();function O(Q,te,ne,ve,we){var Ee=Q.globalCompositeOperation;Q.globalCompositeOperation="destination-out",t.colorFillStyle(Q,255,255,255,t.motionBlurTransparency),Q.fillRect(te,ne,ve,we),Q.globalCompositeOperation=Ee}function A(Q,te){var ne,ve,we,Ee;!t.clearingMotionBlur&&(Q===c.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||Q===c.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(ne={x:N.x*b,y:N.y*b},ve=C*b,we=t.canvasWidth*b,Ee=t.canvasHeight*b):(ne=M,ve=_,we=t.canvasWidth,Ee=t.canvasHeight),Q.setTransform(1,0,0,1,0,0),te==="motionBlur"?O(Q,0,0,we,Ee):!o&&(te===void 0||te)&&Q.clearRect(0,0,we,Ee),i||(Q.translate(ne.x,ne.y),Q.scale(ve,ve)),h&&Q.translate(h.x,h.y),u&&Q.scale(u,u)}if(g||(t.textureDrawLastFrame=!1),g){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var U=t.data.bufferContexts[t.TEXTURE_BUFFER];U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:U,drawOnlyNodeLayer:!0,forcedPxRatio:d*t.textureMult});var P=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};P.mpan={x:(0-P.pan.x)/P.zoom,y:(0-P.pan.y)/P.zoom}}p[t.DRAG]=!1,p[t.NODE]=!1;var j=c.contexts[t.NODE],$=t.textureCache.texture,P=t.textureCache.viewport;j.setTransform(1,0,0,1,0,0),y?O(j,0,0,P.width,P.height):j.clearRect(0,0,P.width,P.height);var z=S.core("outside-texture-bg-color").value,V=S.core("outside-texture-bg-opacity").value;t.colorFillStyle(j,z[0],z[1],z[2],V),j.fillRect(0,0,P.width,P.height);var C=r.zoom();A(j,!1),j.clearRect(P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d),j.drawImage($,P.mpan.x,P.mpan.y,P.width/P.zoom/d,P.height/P.zoom/d)}else t.textureOnViewport&&!o&&(t.textureCache=null);var W=r.extent(),q=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),Z=t.hideEdgesOnViewport&&q,R=[];if(R[t.NODE]=!p[t.NODE]&&y&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,R[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),R[t.DRAG]=!p[t.DRAG]&&y&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,R[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),p[t.NODE]||i||s||R[t.NODE]){var X=y&&!R[t.NODE]&&b!==1,j=o||(X?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:c.contexts[t.NODE]),H=y&&!X?"motionBlur":void 0;A(j,H),Z?t.drawCachedNodes(j,F.nondrag,d,W):t.drawLayeredElements(j,F.nondrag,d,W),t.debug&&t.drawDebugPoints(j,F.nondrag),!i&&!y&&(p[t.NODE]=!1)}if(!s&&(p[t.DRAG]||i||R[t.DRAG])){var X=y&&!R[t.DRAG]&&b!==1,j=o||(X?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:c.contexts[t.DRAG]);A(j,y&&!X?"motionBlur":void 0),Z?t.drawCachedNodes(j,F.drag,d,W):t.drawCachedElements(j,F.drag,d,W),t.debug&&t.drawDebugPoints(j,F.drag),!i&&!y&&(p[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,A),y&&b!==1){var ee=c.contexts[t.NODE],de=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],se=c.contexts[t.DRAG],pe=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],be=function(Q,te,ne){Q.setTransform(1,0,0,1,0,0),ne||!w?Q.clearRect(0,0,t.canvasWidth,t.canvasHeight):O(Q,0,0,t.canvasWidth,t.canvasHeight);var ve=b;Q.drawImage(te,0,0,t.canvasWidth*ve,t.canvasHeight*ve,0,0,t.canvasWidth,t.canvasHeight)};(p[t.NODE]||R[t.NODE])&&(be(ee,de,R[t.NODE]),p[t.NODE]=!1),(p[t.DRAG]||R[t.DRAG])&&(be(se,pe,R[t.DRAG]),p[t.DRAG]=!1)}t.prevViewport=P,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),y&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!g,t.mbFrames=0,p[t.NODE]=!0,p[t.DRAG]=!0,t.redraw()},dD)),o||r.emit("render")};var Fl;On.drawSelectionRectangle=function(e,t){var r=this,o=r.cy,i=r.data,s=o.style(),u=e.drawOnlyNodeLayer,h=e.drawAllLayers,d=i.canvasNeedsRedraw,c=e.forcedContext;if(r.showFps||!u&&d[r.SELECT_BOX]&&!h){var p=c||i.contexts[r.SELECT_BOX];if(t(p),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var g=r.cy.zoom(),y=s.core("selection-box-border-width").value/g;p.lineWidth=y,p.fillStyle="rgba("+s.core("selection-box-color").value[0]+","+s.core("selection-box-color").value[1]+","+s.core("selection-box-color").value[2]+","+s.core("selection-box-opacity").value+")",p.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),y>0&&(p.strokeStyle="rgba("+s.core("selection-box-border-color").value[0]+","+s.core("selection-box-border-color").value[1]+","+s.core("selection-box-border-color").value[2]+","+s.core("selection-box-opacity").value+")",p.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){var g=r.cy.zoom(),b=i.bgActivePosistion;p.fillStyle="rgba("+s.core("active-bg-color").value[0]+","+s.core("active-bg-color").value[1]+","+s.core("active-bg-color").value[2]+","+s.core("active-bg-opacity").value+")",p.beginPath(),p.arc(b.x,b.y,s.core("active-bg-size").pfValue/g,0,2*Math.PI),p.fill()}var x=r.lastRedrawTime;if(r.showFps&&x){x=Math.round(x);var k=Math.round(1e3/x),E="1 frame = "+x+" ms = "+k+" fps";if(p.setTransform(1,0,0,1,0,0),p.fillStyle="rgba(255, 0, 0, 0.75)",p.strokeStyle="rgba(255, 0, 0, 0.75)",p.font="30px Arial",!Fl){var w=p.measureText(E);Fl=w.actualBoundingBoxAscent}p.fillText(E,0,Fl);var S=60;p.strokeRect(0,Fl+10,250,20),p.fillRect(0,Fl+10,250*Math.min(k/S,1),20)}h||(d[r.SELECT_BOX]=!1)}};function Q1(e,t,r){var o=e.createShader(t);if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(o));return o}function fD(e,t,r){var o=Q1(e,e.VERTEX_SHADER,t),i=Q1(e,e.FRAGMENT_SHADER,r),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,i),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new Error("Could not initialize shaders");return s}function hD(e,t,r){r===void 0&&(r=t);var o=e.makeOffscreenCanvas(t,r),i=o.context=o.getContext("2d");return o.clear=function(){return i.clearRect(0,0,o.width,o.height)},o.clear(),o}function _g(e){var t=e.pixelRatio,r=e.cy.zoom(),o=e.cy.pan();return{zoom:r*t,pan:{x:o.x*t,y:o.y*t}}}function pD(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function gD(e,t,r,o,i){var s=o*r+t.x,u=i*r+t.y;return u=Math.round(e.canvasHeight-u),[s,u]}function vD(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function mD(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Co(e,t,r){var o=e[0]/255,i=e[1]/255,s=e[2]/255,u=t,h=r||new Array(4);return h[0]=o*u,h[1]=i*u,h[2]=s*u,h[3]=u,h}function Ei(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function yD(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function bD(e,t){var r=e.createTexture();return r.buffer=function(o){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function jw(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function Xw(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function xD(e,t,r,o,i,s){switch(t){case e.FLOAT:return new Float32Array(r.buffer,s*o,i);case e.INT:return new Int32Array(r.buffer,s*o,i)}}function wD(e,t,r,o){var i=jw(e,t),s=ln(i,2),u=s[0],h=s[1],d=Xw(e,h,o),c=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,d,e.STATIC_DRAW),h===e.FLOAT?e.vertexAttribPointer(r,u,h,!1,0,0):h===e.INT&&e.vertexAttribIPointer(r,u,h,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),c}function Br(e,t,r,o){var i=jw(e,r),s=ln(i,3),u=s[0],h=s[1],d=s[2],c=Xw(e,h,t*u),p=u*d,g=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,t*p,e.DYNAMIC_DRAW),e.enableVertexAttribArray(o),h===e.FLOAT?e.vertexAttribPointer(o,u,h,!1,p,0):h===e.INT&&e.vertexAttribIPointer(o,u,h,p,0),e.vertexAttribDivisor(o,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var y=new Array(t),b=0;b<t;b++)y[b]=xD(e,h,c,p,u,b);return g.dataArray=c,g.stride=p,g.size=u,g.getView=function(x){return y[x]},g.setPoint=function(x,k,E){var w=y[x];w[0]=k,w[1]=E},g.bufferSubData=function(x){e.bindBuffer(e.ARRAY_BUFFER,g),x?e.bufferSubData(e.ARRAY_BUFFER,0,c,0,x*u):e.bufferSubData(e.ARRAY_BUFFER,0,c)},g}function kD(e,t,r){for(var o=9,i=new Float32Array(t*o),s=new Array(t),u=0;u<t;u++){var h=u*o*4;s[u]=new Float32Array(i.buffer,h,o)}var d=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferData(e.ARRAY_BUFFER,i.byteLength,e.DYNAMIC_DRAW);for(var c=0;c<3;c++){var p=r+c;e.enableVertexAttribArray(p),e.vertexAttribPointer(p,3,e.FLOAT,!1,36,c*12),e.vertexAttribDivisor(p,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),d.getMatrixView=function(g){return s[g]},d.setData=function(g,y){s[y].set(g,0)},d.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,d),e.bufferSubData(e.ARRAY_BUFFER,0,i)},d}function ED(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(o,i){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,o,i,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}var Z1=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Sp(){var e=new Z1(9);return Z1!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function J1(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function SD(e,t,r){var o=t[0],i=t[1],s=t[2],u=t[3],h=t[4],d=t[5],c=t[6],p=t[7],g=t[8],y=r[0],b=r[1],x=r[2],k=r[3],E=r[4],w=r[5],S=r[6],C=r[7],_=r[8];return e[0]=y*o+b*u+x*c,e[1]=y*i+b*h+x*p,e[2]=y*s+b*d+x*g,e[3]=k*o+E*u+w*c,e[4]=k*i+E*h+w*p,e[5]=k*s+E*d+w*g,e[6]=S*o+C*u+_*c,e[7]=S*i+C*h+_*p,e[8]=S*s+C*d+_*g,e}function lc(e,t,r){var o=t[0],i=t[1],s=t[2],u=t[3],h=t[4],d=t[5],c=t[6],p=t[7],g=t[8],y=r[0],b=r[1];return e[0]=o,e[1]=i,e[2]=s,e[3]=u,e[4]=h,e[5]=d,e[6]=y*o+b*u+c,e[7]=y*i+b*h+p,e[8]=y*s+b*d+g,e}function ex(e,t,r){var o=t[0],i=t[1],s=t[2],u=t[3],h=t[4],d=t[5],c=t[6],p=t[7],g=t[8],y=Math.sin(r),b=Math.cos(r);return e[0]=b*o+y*u,e[1]=b*i+y*h,e[2]=b*s+y*d,e[3]=b*u-y*o,e[4]=b*h-y*i,e[5]=b*d-y*s,e[6]=c,e[7]=p,e[8]=g,e}function Qp(e,t,r){var o=r[0],i=r[1];return e[0]=o*t[0],e[1]=o*t[1],e[2]=o*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function CD(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var TD=(function(){function e(t,r,o,i){Za(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=o,this.texHeight=Math.floor(r/o),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(t,r,r),this.scratch=i(t,r,this.texHeight,"scratch")}return Ja(e,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var r=t.w,o=t.h,i=this.texHeight,s=this.texSize,u=i/o,h=r*u,d=o*u;return h>s&&(u=s/r,h=r*u,d=o*u),{scale:u,texW:h,texH:d}}},{key:"draw",value:function(t,r,o){var i=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,u=this.texRows,h=this.texHeight,d=this.getScale(r),c=d.scale,p=d.texW,g=d.texH,y=function(w,S){if(o&&S){var C=S.context,_=w.x,N=w.row,M=_,P=h*N;C.save(),C.translate(M,P),C.scale(c,c),o(C,r),C.restore()}},b=[null,null],x=function(){y(i.freePointer,i.canvas),b[0]={x:i.freePointer.x,y:i.freePointer.row*h,w:p,h:g},b[1]={x:i.freePointer.x+p,y:i.freePointer.row*h,w:0,h:g},i.freePointer.x+=p,i.freePointer.x==s&&(i.freePointer.x=0,i.freePointer.row++)},k=function(){var w=i.scratch,S=i.canvas;w.clear(),y({x:0,row:0},w);var C=s-i.freePointer.x,_=p-C,N=h;{var M=i.freePointer.x,P=i.freePointer.row*h,I=C;S.context.drawImage(w,0,0,I,N,M,P,I,N),b[0]={x:M,y:P,w:I,h:g}}{var L=C,F=(i.freePointer.row+1)*h,O=_;S&&S.context.drawImage(w,L,0,O,N,0,F,O,N),b[1]={x:0,y:F,w:O,h:g}}i.freePointer.x=_,i.freePointer.row++},E=function(){i.freePointer.x=0,i.freePointer.row++};if(this.freePointer.x+p<=s)x();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===s?(E(),x()):this.enableWrapping?k():(E(),x())}return this.keyToLocation.set(t,b),this.needsBuffer=!0,b}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){if(this.locked)return!1;var r=this.texSize,o=this.texRows,i=this.getScale(t),s=i.texW;return this.freePointer.x+s>r?this.freePointer.row<o-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=bD(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),PD=(function(){function e(t,r,o,i){Za(this,e),this.r=t,this.texSize=r,this.texRows=o,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Ja(e,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var t=this.r,r=this.texSize,o=this.texRows,i=this.createTextureCanvas;return new TD(t,r,o,i)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,r=this.texSize,o=this.texRows,i=this.createTextureCanvas,s=Math.floor(r/o);this.scratch=i(t,r,s,"scratch")}return this.scratch}},{key:"draw",value:function(t,r,o){var i=this.styleKeyToAtlas.get(t);return i||(i=this.atlases[this.atlases.length-1],(!i||!i.canFit(r))&&(i&&i.lock(),i=this._createAtlas(),this.atlases.push(i)),i.draw(t,r,o),this.styleKeyToAtlas.set(t,i)),i}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"markKeyForGC",value:function(t){this.markedKeys.add(t)}},{key:"gc",value:function(){var t=this,r=this.markedKeys;if(r.size===0){console.log("nothing to garbage collect");return}var o=[],i=new Map,s=null,u=Yn(this.atlases),h;try{var d=function(){var c=h.value,p=c.getKeys(),g=_D(r,p);if(g.size===0)return o.push(c),p.forEach(function(C){return i.set(C,c)}),1;s||(s=t._createAtlas(),o.push(s));var y=Yn(p),b;try{for(y.s();!(b=y.n()).done;){var x=b.value;if(!g.has(x)){var k=c.getOffsets(x),E=ln(k,2),w=E[0],S=E[1];s.canFit({w:w.w+S.w,h:w.h})||(s.lock(),s=t._createAtlas(),o.push(s)),c.canvas&&(t._copyTextureToNewAtlas(x,c,s),i.set(x,s))}}}catch(C){y.e(C)}finally{y.f()}c.dispose()};for(u.s();!(h=u.n()).done;)d()}catch(c){u.e(c)}finally{u.f()}this.atlases=o,this.styleKeyToAtlas=i,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(t,r,o){var i=r.getOffsets(t),s=ln(i,2),u=s[0],h=s[1];if(h.w===0)o.draw(t,u,function(g){g.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var d=this._getScratchCanvas();d.clear(),d.context.drawImage(r.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),d.context.drawImage(r.canvas,h.x,h.y,h.w,h.h,u.w,0,h.w,h.h);var c=u.w+h.w,p=u.h;o.draw(t,{w:c,h:p},function(g){g.drawImage(d,0,0,c,p,0,0,c,p)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function _D(e,t){return e.intersection?e.intersection(t):new Set(sc(e).filter(function(r){return t.has(r)}))}var DD=(function(){function e(t,r){Za(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Ja(e,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(t,r){var o=this.globalOptions,i=o.webglTexSize,s=o.createTextureCanvas,u=r.texRows,h=this._cacheScratchCanvas(s),d=new PD(this.r,i,u,h);this.collections.set(t,d)}},{key:"addRenderType",value:function(t,r){var o=r.collection;if(!this.collections.has(o))throw new Error("invalid atlas collection name '".concat(o,"'"));var i=this.collections.get(o),s=Ve({type:t,atlasCollection:i},r);this.renderTypes.set(t,s)}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"getAtlasCollection",value:function(t){return this.collections.get(t)}},{key:"_cacheScratchCanvas",value:function(t){var r=-1,o=-1,i=null;return function(s,u,h,d){return d?((!i||u!=r||h!=o)&&(r=u,o=h,i=t(s,u,h)),i):t(s,u,h)}}},{key:"_key",value:function(t,r){return"".concat(t,"-").concat(r)}},{key:"invalidate",value:function(t){var r=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.forceRedraw,s=i===void 0?!1:i,u=o.filterEle,h=u===void 0?function(){return!0}:u,d=o.filterType,c=d===void 0?function(){return!0}:d,p=!1,g=!1,y=Yn(t),b;try{for(y.s();!(b=y.n()).done;){var x=b.value;if(h(x)){var k=Yn(this.renderTypes.values()),E;try{var w=function(){var S=E.value,C=S.type;if(c(C)){var _=r.collections.get(S.collection),N=S.getKey(x),M=Array.isArray(N)?N:[N];if(s)M.forEach(function(F){return _.markKeyForGC(F)}),g=!0;else{var P=S.getID?S.getID(x):x.id(),I=r._key(C,P),L=r.typeAndIdToKey.get(I);L!==void 0&&!mD(M,L)&&(p=!0,r.typeAndIdToKey.delete(I),L.forEach(function(F){return _.markKeyForGC(F)}))}}};for(k.s();!(E=k.n()).done;)w()}catch(S){k.e(S)}finally{k.f()}}}}catch(S){y.e(S)}finally{y.f()}return g&&(this.gc(),p=!1),p}},{key:"gc",value:function(){var t=Yn(this.collections.values()),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;o.gc()}}catch(i){t.e(i)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(t,r,o,i){var s=this.renderTypes.get(r),u=this.collections.get(s.collection),h=!1,d=u.draw(i,o,function(g){s.drawClipped?(g.save(),g.beginPath(),g.rect(0,0,o.w,o.h),g.clip(),s.drawElement(g,t,o,!0,!0),g.restore()):s.drawElement(g,t,o,!0,!0),h=!0});if(h){var c=s.getID?s.getID(t):t.id(),p=this._key(r,c);this.typeAndIdToKey.has(p)?this.typeAndIdToKey.get(p).push(i):this.typeAndIdToKey.set(p,[i])}return d}},{key:"getAtlasInfo",value:function(t,r){var o=this,i=this.renderTypes.get(r),s=i.getKey(t),u=Array.isArray(s)?s:[s];return u.map(function(h){var d=i.getBoundingBox(t,h),c=o.getOrCreateAtlas(t,r,d,h),p=c.getOffsets(h),g=ln(p,2),y=g[0],b=g[1];return{atlas:c,tex:y,tex1:y,tex2:b,bb:d}})}},{key:"getDebugInfo",value:function(){var t=[],r=Yn(this.collections),o;try{for(r.s();!(o=r.n()).done;){var i=ln(o.value,2),s=i[0],u=i[1],h=u.getCounts(),d=h.keyCount,c=h.atlasCount;t.push({type:s,keyCount:d,atlasCount:c})}}catch(p){r.e(p)}finally{r.f()}return t}}])})(),ND=(function(){function e(t){Za(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return Ja(e,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,r){return r})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(t){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(t):!0}},{key:"getAtlasIndexForBatch",value:function(t){var r=this.batchAtlases.indexOf(t);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(t),r=this.batchAtlases.length-1}return r}}])})(),BD=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,RD=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,AD=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,MD=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Hl={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},xc={IGNORE:1,USE_BB:2},Cp=0,tx=1,nx=2,Tp=3,Si=4,qu=5,Vl=6,jl=7,zD=(function(){function e(t,r,o){Za(this,e),this.r=t,this.gl=r,this.maxInstances=o.webglBatchSize,this.atlasSize=o.webglTexSize,this.bgColor=o.bgColor,this.debug=o.webglDebug,this.batchDebugInfo=[],o.enableWrapping=!0,o.createTextureCanvas=hD,this.atlasManager=new DD(t,o),this.batchManager=new ND(o),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Hl.SCREEN),this.pickingProgram=this._createShaderProgram(Hl.PICKING),this.vao=this._createVAO()}return Ja(e,[{key:"addAtlasCollection",value:function(t,r){this.atlasManager.addAtlasCollection(t,r)}},{key:"addTextureAtlasRenderType",value:function(t,r){this.atlasManager.addRenderType(t,r)}},{key:"addSimpleShapeRenderType",value:function(t,r){this.simpleShapeOptions.set(t,r)}},{key:"invalidate",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.type,i=this.atlasManager;return o?i.invalidate(t,{filterType:function(s){return s===o},forceRedraw:!0}):i.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(t){var r=this.gl,o=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Cp,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(Si," || aVertType == ").concat(jl,` 
             || aVertType == `).concat(qu," || aVertType == ").concat(Vl,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(tx,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(nx,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Tp,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),i=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(i.map(function(d){return"uniform sampler2D uTexture".concat(d,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(BD,`
      `).concat(RD,`
      `).concat(AD,`
      `).concat(MD,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Cp,`) {
          // look up the texel from the texture unit
          `).concat(i.map(function(d){return"if(vAtlasId == ".concat(d,") outColor = texture(uTexture").concat(d,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Tp,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(Si,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(Si," || vVertType == ").concat(jl,` 
          || vVertType == `).concat(qu," || vVertType == ").concat(Vl,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(Si,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(jl,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(jl,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=fD(r,o,s);u.aPosition=r.getAttribLocation(u,"aPosition"),u.aIndex=r.getAttribLocation(u,"aIndex"),u.aVertType=r.getAttribLocation(u,"aVertType"),u.aTransform=r.getAttribLocation(u,"aTransform"),u.aAtlasId=r.getAttribLocation(u,"aAtlasId"),u.aTex=r.getAttribLocation(u,"aTex"),u.aPointAPointB=r.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=r.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=r.getAttribLocation(u,"aLineWidth"),u.aColor=r.getAttribLocation(u,"aColor"),u.aCornerRadius=r.getAttribLocation(u,"aCornerRadius"),u.aBorderColor=r.getAttribLocation(u,"aBorderColor"),u.uPanZoomMatrix=r.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=r.getUniformLocation(u,"uAtlasSize"),u.uBGColor=r.getUniformLocation(u,"uBGColor"),u.uZoom=r.getUniformLocation(u,"uZoom"),u.uTextures=[];for(var h=0;h<this.batchManager.getMaxAtlasesPerBatch();h++)u.uTextures.push(r.getUniformLocation(u,"uTexture".concat(h)));return u}},{key:"_createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var r=this.maxInstances,o=this.gl,i=this.program,s=o.createVertexArray();return o.bindVertexArray(s),wD(o,"vec2",i.aPosition,t),this.transformBuffer=kD(o,r,i.aTransform),this.indexBuffer=Br(o,r,"vec4",i.aIndex),this.vertTypeBuffer=Br(o,r,"int",i.aVertType),this.atlasIdBuffer=Br(o,r,"int",i.aAtlasId),this.texBuffer=Br(o,r,"vec4",i.aTex),this.pointAPointBBuffer=Br(o,r,"vec4",i.aPointAPointB),this.pointCPointDBuffer=Br(o,r,"vec4",i.aPointCPointD),this.lineWidthBuffer=Br(o,r,"vec2",i.aLineWidth),this.colorBuffer=Br(o,r,"vec4",i.aColor),this.cornerRadiusBuffer=Br(o,r,"vec4",i.aCornerRadius),this.borderColorBuffer=Br(o,r,"vec4",i.aBorderColor),o.bindVertexArray(null),s}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return ja(r,"Buffer")}).map(function(r){return t[r]})),this._buffers}},{key:"startFrame",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hl.SCREEN;this.panZoomMatrix=t,this.renderTarget=r,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(t,r){return t.visible()?r&&r.isVisible?r.isVisible(t):!0:!1}},{key:"drawTexture",value:function(t,r,o){var i=this.atlasManager,s=this.batchManager,u=i.getRenderTypeOpts(o);if(this._isVisible(t,u)&&!(t.isEdge()&&!this._isValidEdge(t))){if(this.renderTarget.picking&&u.getTexPickingMode){var h=u.getTexPickingMode(t);if(h===xc.IGNORE)return;if(h==xc.USE_BB){this.drawPickingRectangle(t,r,o);return}}var d=i.getAtlasInfo(t,o),c=Yn(d),p;try{for(c.s();!(p=c.n()).done;){var g=p.value,y=g.atlas,b=g.tex1,x=g.tex2;s.canAddToCurrentBatch(y)||this.endBatch();for(var k=s.getAtlasIndexForBatch(y),E=0,w=[[b,!0],[x,!1]];E<w.length;E++){var S=ln(w[E],2),C=S[0],_=S[1];if(C.w!=0){var N=this.instanceCount;this.vertTypeBuffer.getView(N)[0]=Cp;var M=this.indexBuffer.getView(N);Ei(r,M);var P=this.atlasIdBuffer.getView(N);P[0]=k;var I=this.texBuffer.getView(N);I[0]=C.x,I[1]=C.y,I[2]=C.w,I[3]=C.h;var L=this.transformBuffer.getMatrixView(N);this.setTransformMatrix(t,L,u,g,_),this.instanceCount++,_||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(F){c.e(F)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(t,r,o,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=0;if(o.shapeProps&&o.shapeProps.padding&&(u=t.pstyle(o.shapeProps.padding).pfValue),i){var h=i.bb,d=i.tex1,c=i.tex2,p=d.w/(d.w+c.w);s||(p=1-p);var g=this._getAdjustedBB(h,u,s,p);this._applyTransformMatrix(r,g,o,t)}else{var y=o.getBoundingBox(t),b=this._getAdjustedBB(y,u,!0,1);this._applyTransformMatrix(r,b,o,t)}}},{key:"_applyTransformMatrix",value:function(t,r,o,i){var s,u;J1(t);var h=o.getRotation?o.getRotation(i):0;if(h!==0){var d=o.getRotationPoint(i),c=d.x,p=d.y;lc(t,t,[c,p]),ex(t,t,h);var g=o.getRotationOffset(i);s=g.x+(r.xOffset||0),u=g.y+(r.yOffset||0)}else s=r.x1,u=r.y1;lc(t,t,[s,u]),Qp(t,t,[r.w,r.h])}},{key:"_getAdjustedBB",value:function(t,r,o,i){var s=t.x1,u=t.y1,h=t.w,d=t.h,c=t.yOffset;r&&(s-=r,u-=r,h+=2*r,d+=2*r);var p=0,g=h*i;return o&&i<1?h=g:!o&&i<1&&(p=h-g,s+=p,h=g),{x1:s,y1:u,w:h,h:d,xOffset:p,yOffset:c}}},{key:"drawPickingRectangle",value:function(t,r,o){var i=this.atlasManager.getRenderTypeOpts(o),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=Si;var u=this.indexBuffer.getView(s);Ei(r,u);var h=this.colorBuffer.getView(s);Co([0,0,0],1,h);var d=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(t,d,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(t,r,o){var i=this.simpleShapeOptions.get(o);if(this._isVisible(t,i)){var s=i.shapeProps,u=this._getVertTypeForShape(t,s.shape);if(u===void 0||i.isSimple&&!i.isSimple(t)){this.drawTexture(t,r,o);return}var h=this.instanceCount;if(this.vertTypeBuffer.getView(h)[0]=u,u===qu||u===Vl){var d=i.getBoundingBox(t),c=this._getCornerRadius(t,s.radius,d),p=this.cornerRadiusBuffer.getView(h);p[0]=c,p[1]=c,p[2]=c,p[3]=c,u===Vl&&(p[0]=0,p[2]=0)}var g=this.indexBuffer.getView(h);Ei(r,g);var y=t.pstyle(s.color).value,b=t.pstyle(s.opacity).value,x=this.colorBuffer.getView(h);Co(y,b,x);var k=this.lineWidthBuffer.getView(h);if(k[0]=0,k[1]=0,s.border){var E=t.pstyle("border-width").value;if(E>0){var w=t.pstyle("border-color").value,S=t.pstyle("border-opacity").value,C=this.borderColorBuffer.getView(h);Co(w,S,C);var _=t.pstyle("border-position").value;if(_==="inside")k[0]=0,k[1]=-E;else if(_==="outside")k[0]=E,k[1]=0;else{var N=E/2;k[0]=N,k[1]=-N}}}var M=this.transformBuffer.getMatrixView(h);this.setTransformMatrix(t,M,i),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(t,r){var o=t.pstyle(r).value;switch(o){case"rectangle":return Si;case"ellipse":return jl;case"roundrectangle":case"round-rectangle":return qu;case"bottom-round-rectangle":return Vl;default:return}}},{key:"_getCornerRadius",value:function(t,r,o){var i=o.w,s=o.h;if(t.pstyle(r).value==="auto")return $a(i,s);var u=t.pstyle(r).pfValue,h=i/2,d=s/2;return Math.min(u,d,h)}},{key:"drawEdgeArrow",value:function(t,r,o){if(t.visible()){var i=t._private.rscratch,s,u,h;if(o==="source"?(s=i.arrowStartX,u=i.arrowStartY,h=i.srcArrowAngle):(s=i.arrowEndX,u=i.arrowEndY,h=i.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(u)||u==null||isNaN(h)||h==null)){var d=t.pstyle(o+"-arrow-shape").value;if(d!=="none"){var c=t.pstyle(o+"-arrow-color").value,p=t.pstyle("opacity").value,g=t.pstyle("line-opacity").value,y=p*g,b=t.pstyle("width").pfValue,x=t.pstyle("arrow-scale").value,k=this.r.getArrowWidth(b,x),E=this.instanceCount,w=this.transformBuffer.getMatrixView(E);J1(w),lc(w,w,[s,u]),Qp(w,w,[k,k]),ex(w,w,h),this.vertTypeBuffer.getView(E)[0]=Tp;var S=this.indexBuffer.getView(E);Ei(r,S);var C=this.colorBuffer.getView(E);Co(c,y,C),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(t,r){if(t.visible()){var o=this._getEdgePoints(t);if(o){var i=t.pstyle("opacity").value,s=t.pstyle("line-opacity").value,u=t.pstyle("width").pfValue,h=t.pstyle("line-color").value,d=i*s;if(o.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),o.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=tx;var p=this.indexBuffer.getView(c);Ei(r,p);var g=this.colorBuffer.getView(c);Co(h,d,g);var y=this.lineWidthBuffer.getView(c);y[0]=u;var b=this.pointAPointBBuffer.getView(c);b[0]=o[0],b[1]=o[1],b[2]=o[2],b[3]=o[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var x=0;x<o.length-2;x+=2){var k=this.instanceCount;this.vertTypeBuffer.getView(k)[0]=nx;var E=this.indexBuffer.getView(k);Ei(r,E);var w=this.colorBuffer.getView(k);Co(h,d,w);var S=this.lineWidthBuffer.getView(k);S[0]=u;var C=o[x-2],_=o[x-1],N=o[x],M=o[x+1],P=o[x+2],I=o[x+3],L=o[x+4],F=o[x+5];x==0&&(C=2*N-P+.001,_=2*M-I+.001),x==o.length-4&&(L=2*P-N+.001,F=2*I-M+.001);var O=this.pointAPointBBuffer.getView(k);O[0]=C,O[1]=_,O[2]=N,O[3]=M;var A=this.pointCPointDBuffer.getView(k);A[0]=P,A[1]=I,A[2]=L,A[3]=F,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(t){var r=t._private.rscratch;return!(r.badLine||r.allpts==null||isNaN(r.allpts[0]))}},{key:"_getEdgePoints",value:function(t){var r=t._private.rscratch;if(this._isValidEdge(t)){var o=r.allpts;if(o.length==4)return o;var i=this._getNumSegments(t);return this._getCurveSegmentPoints(o,i)}}},{key:"_getNumSegments",value:function(t){var r=15;return Math.min(Math.max(r,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(t,r){if(t.length==4)return t;for(var o=Array((r+1)*2),i=0;i<=r;i++)if(i==0)o[0]=t[0],o[1]=t[1];else if(i==r)o[i*2]=t[t.length-2],o[i*2+1]=t[t.length-1];else{var s=i/r;this._setCurvePoint(t,s,o,i*2)}return o}},{key:"_setCurvePoint",value:function(t,r,o,i){if(t.length<=2)o[i]=t[0],o[i+1]=t[1];else{for(var s=Array(t.length-2),u=0;u<s.length;u+=2){var h=(1-r)*t[u]+r*t[u+2],d=(1-r)*t[u+1]+r*t[u+3];s[u]=h,s[u+1]=d}return this._setCurvePoint(s,r,o,i)}}},{key:"endBatch",value:function(){var t=this.gl,r=this.vao,o=this.vertexCount,i=this.instanceCount;if(i!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(s),t.bindVertexArray(r);var u=Yn(this.buffers),h;try{for(u.s();!(h=u.n()).done;){var d=h.value;d.bufferSubData(i)}}catch(b){u.e(b)}finally{u.f()}for(var c=this.batchManager.getAtlases(),p=0;p<c.length;p++)c[p].bufferIfNeeded(t);for(var g=0;g<c.length;g++)t.activeTexture(t.TEXTURE0+g),t.bindTexture(t.TEXTURE_2D,c[g].texture),t.uniform1i(s.uTextures[g],g);t.uniform1f(s.uZoom,pD(this.r)),t.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var y=Co(this.bgColor,1);t.uniform4fv(s.uBGColor,y),t.drawArraysInstanced(t.TRIANGLES,0,o,i),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:i,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var t=this.atlasManager.getDebugInfo(),r=t.reduce(function(s,u){return s+u.atlasCount},0),o=this.batchDebugInfo,i=o.reduce(function(s,u){return s+u.count},0);return{atlasInfo:t,totalAtlases:r,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:o.length,batchInfo:o,totalInstances:i}}}])})(),Ww={};Ww.initWebgl=function(e,t){var r=this,o=r.data.contexts[r.WEBGL];e.bgColor=ID(r),e.webglTexSize=Math.min(e.webglTexSize,o.getParameter(o.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,o.getParameter(o.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=ED(o),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new zD(r,o,e);var i=function(p){return function(g){return r.getTextAngle(g,p)}},s=function(p){return function(g){var y=g.pstyle(p);return y&&y.value}},u=function(p){return function(g){return g.pstyle("".concat(p,"-opacity")).value>0}},h=function(p){var g=p.pstyle("text-events").strValue==="yes";return g?xc.USE_BB:xc.IGNORE},d=function(p){var g=p.position(),y=g.x,b=g.y,x=p.outerWidth(),k=p.outerHeight();return{w:x,h:k,x1:y-x/2,y1:b-k/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:d,isSimple:vD,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:d,isVisible:u("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:d,isVisible:u("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:h,getKey:Pp(t.getLabelKey,null),getBoundingBox:_p(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:i(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:s("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:h,getKey:Pp(t.getSourceLabelKey,"source"),getBoundingBox:_p(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:i("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:s("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:h,getKey:Pp(t.getTargetLabelKey,"target"),getBoundingBox:_p(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:i("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:s("target-label")});var c=fs(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(p,g){var y=!1;g&&g.length>0&&(y|=r.drawing.invalidate(g)),y&&c()}),OD(r)};function ID(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return mx(r)}function Uw(e,t){var r=e._private.rscratch;return Un(r,"labelWrapCachedLines",t)||[]}var Pp=function(e,t){return function(r){var o=e(r),i=Uw(r,t);return i.length>1?i.map(function(s,u){return"".concat(o,"_").concat(u)}):o}},_p=function(e,t){return function(r,o){var i=e(r);if(typeof o=="string"){var s=o.indexOf("_");if(s>0){var u=Number(o.substring(s+1)),h=Uw(r,t),d=i.h/h.length,c=d*u,p=i.y1+c;return{x1:i.x1,w:i.w,y1:p,h:d,yOffset:c}}}return i}};function OD(e){{var t=e.render;e.render=function(s){s=s||{};var u=e.cy;e.webgl&&(u.zoom()>Iw?(LD(e),t.call(e,s)):(FD(e),Yw(e,s,Hl.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(s){r.call(e,s),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(s,u,h,d){return qD(e,s,u)};{var o=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){o.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var i=e.notify;e.notify=function(s,u){i.call(e,s,u),s==="viewport"||s==="bounds"?e.pickingFrameBuffer.needsDraw=!0:s==="background"&&e.drawing.invalidate(u,{type:"node-body"})}}}function LD(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function FD(e){var t=function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.canvasWidth,e.canvasHeight),r.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function VD(e){var t=e.canvasWidth,r=e.canvasHeight,o=_g(e),i=o.pan,s=o.zoom,u=Sp();lc(u,u,[i.x,i.y]),Qp(u,u,[s,s]);var h=Sp();CD(h,t,r);var d=Sp();return SD(d,h,u),d}function qw(e,t){var r=e.canvasWidth,o=e.canvasHeight,i=_g(e),s=i.pan,u=i.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,o),t.translate(s.x,s.y),t.scale(u,u)}function jD(e,t){e.drawSelectionRectangle(t,function(r){return qw(e,r)})}function XD(e){var t=e.data.contexts[e.NODE];t.save(),qw(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function WD(e){var t=function(o,i,s){for(var u=o.atlasManager.getAtlasCollection(i),h=e.data.contexts[e.NODE],d=u.atlases,c=0;c<d.length;c++){var p=d[c],g=p.canvas;if(g){var y=g.width,b=g.height,x=y*c,k=g.height*s,E=.4;h.save(),h.scale(E,E),h.drawImage(g,x,k),h.strokeStyle="black",h.rect(x,k,y,b),h.stroke(),h.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function UD(e,t,r,o,i){var s,u,h,d,c=_g(e),p=c.pan,g=c.zoom;{var y=gD(e,p,g,t,r),b=ln(y,2),x=b[0],k=b[1],E=6;s=x-E/2,u=k-E/2,h=E,d=E}if(h===0||d===0)return[];var w=e.data.contexts[e.WEBGL];w.bindFramebuffer(w.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(w.viewport(0,0,w.canvas.width,w.canvas.height),Yw(e,null,Hl.PICKING),e.pickingFrameBuffer.needsDraw=!1);var S=h*d,C=new Uint8Array(S*4);w.readPixels(s,u,h,d,w.RGBA,w.UNSIGNED_BYTE,C),w.bindFramebuffer(w.FRAMEBUFFER,null);for(var _=new Set,N=0;N<S;N++){var M=C.slice(N*4,N*4+4),P=yD(M)-1;P>=0&&_.add(P)}return _}function qD(e,t,r){var o=UD(e,t,r),i=e.getCachedZSortedEles(),s,u,h=Yn(o),d;try{for(h.s();!(d=h.n()).done;){var c=d.value,p=i[c];if(!s&&p.isNode()&&(s=p),!u&&p.isEdge()&&(u=p),s&&u)break}}catch(g){h.e(g)}finally{h.f()}return[s,u].filter(Boolean)}function Dp(e,t,r){var o=e.drawing;t+=1,r.isNode()?(o.drawNode(r,t,"node-underlay"),o.drawNode(r,t,"node-body"),o.drawTexture(r,t,"label"),o.drawNode(r,t,"node-overlay")):(o.drawEdgeLine(r,t),o.drawEdgeArrow(r,t,"source"),o.drawEdgeArrow(r,t,"target"),o.drawTexture(r,t,"label"),o.drawTexture(r,t,"edge-source-label"),o.drawTexture(r,t,"edge-target-label"))}function Yw(e,t,r){var o;e.webglDebug&&(o=performance.now());var i=e.drawing,s=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&jD(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var u=e.data.contexts[e.WEBGL];r.screen?(u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA)):u.disable(u.BLEND),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),u.viewport(0,0,u.canvas.width,u.canvas.height);var h=VD(e),d=e.getCachedZSortedEles();if(s=d.length,i.startFrame(h,r),r.screen){for(var c=0;c<d.nondrag.length;c++)Dp(e,c,d.nondrag[c]);for(var p=0;p<d.drag.length;p++)Dp(e,p,d.drag[p])}else if(r.picking)for(var g=0;g<d.length;g++)Dp(e,g,d[g]);i.endFrame(),r.screen&&e.webglDebugShowAtlases&&(XD(e),WD(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var y=performance.now(),b=!1,x=Math.ceil(y-o),k=i.getDebugInfo(),E=["".concat(s," elements"),"".concat(k.totalInstances," instances"),"".concat(k.batchCount," batches"),"".concat(k.totalAtlases," atlases"),"".concat(k.wrappedCount," wrapped textures"),"".concat(k.simpleCount," simple shapes")].join(", ");if(b)console.log("WebGL (".concat(r.name,") - time ").concat(x,"ms, ").concat(E));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(x,"ms")),console.log("Totals:"),console.log("  ".concat(E)),console.log("Texture Atlases Used:");var w=k.atlasInfo,S=Yn(w),C;try{for(S.s();!(C=S.n()).done;){var _=C.value;console.log("  ".concat(_.type,": ").concat(_.keyCount," keys, ").concat(_.atlasCount," atlases"))}}catch(N){S.e(N)}finally{S.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,i.gc())}var no={};no.drawPolygonPath=function(e,t,r,o,i,s){var u=o/2,h=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+u*s[0],r+h*s[1]);for(var d=1;d<s.length/2;d++)e.lineTo(t+u*s[d*2],r+h*s[d*2+1]);e.closePath()};no.drawRoundPolygonPath=function(e,t,r,o,i,s,u){u.forEach(function(h){return Pw(e,h)}),e.closePath()};no.drawRoundRectanglePath=function(e,t,r,o,i,s){var u=o/2,h=i/2,d=s==="auto"?$a(o,i):Math.min(s,h,u);e.beginPath&&e.beginPath(),e.moveTo(t,r-h),e.arcTo(t+u,r-h,t+u,r,d),e.arcTo(t+u,r+h,t,r+h,d),e.arcTo(t-u,r+h,t-u,r,d),e.arcTo(t-u,r-h,t,r-h,d),e.lineTo(t,r-h),e.closePath()};no.drawBottomRoundRectanglePath=function(e,t,r,o,i,s){var u=o/2,h=i/2,d=s==="auto"?$a(o,i):s;e.beginPath&&e.beginPath(),e.moveTo(t,r-h),e.lineTo(t+u,r-h),e.lineTo(t+u,r),e.arcTo(t+u,r+h,t,r+h,d),e.arcTo(t-u,r+h,t-u,r,d),e.lineTo(t-u,r-h),e.lineTo(t,r-h),e.closePath()};no.drawCutRectanglePath=function(e,t,r,o,i,s,u){var h=o/2,d=i/2,c=u==="auto"?pg():u;e.beginPath&&e.beginPath(),e.moveTo(t-h+c,r-d),e.lineTo(t+h-c,r-d),e.lineTo(t+h,r-d+c),e.lineTo(t+h,r+d-c),e.lineTo(t+h-c,r+d),e.lineTo(t-h+c,r+d),e.lineTo(t-h,r+d-c),e.lineTo(t-h,r-d+c),e.closePath()};no.drawBarrelPath=function(e,t,r,o,i){var s=o/2,u=i/2,h=t-s,d=t+s,c=r-u,p=r+u,g=Op(o,i),y=g.widthOffset,b=g.heightOffset,x=g.ctrlPtOffsetPct*y;e.beginPath&&e.beginPath(),e.moveTo(h,c+b),e.lineTo(h,p-b),e.quadraticCurveTo(h+x,p,h+y,p),e.lineTo(d-y,p),e.quadraticCurveTo(d-x,p,d,p-b),e.lineTo(d,c+b),e.quadraticCurveTo(d-x,c,d-y,c),e.lineTo(h+y,c),e.quadraticCurveTo(h+x,c,h,c+b),e.closePath()};var rx=Math.sin(0),ax=Math.cos(0),Zp={},Jp={},Kw=Math.PI/40;for(var Ci=0*Math.PI;Ci<2*Math.PI;Ci+=Kw)Zp[Ci]=Math.sin(Ci),Jp[Ci]=Math.cos(Ci);no.drawEllipsePath=function(e,t,r,o,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,o/2,i/2,0,0,2*Math.PI);else for(var s,u,h=o/2,d=i/2,c=0*Math.PI;c<2*Math.PI;c+=Kw)s=t-h*Zp[c]*rx+h*Jp[c]*ax,u=r+d*Jp[c]*rx+d*Zp[c]*ax,c===0?e.moveTo(s,u):e.lineTo(s,u);e.closePath()};var ys={};ys.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};ys.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),o=r.boundingBox(),i=this.findContainerClientCoords(),s=e.full?Math.ceil(o.w):i[2],u=e.full?Math.ceil(o.h):i[3],h=ke(e.maxWidth)||ke(e.maxHeight),d=this.getPixelRatio(),c=1;if(e.scale!==void 0)s*=e.scale,u*=e.scale,c=e.scale;else if(h){var p=1/0,g=1/0;ke(e.maxWidth)&&(p=c*e.maxWidth/s),ke(e.maxHeight)&&(g=c*e.maxHeight/u),c=Math.min(p,g),s*=c,u*=c}h||(s*=d,u*=d,c*=d);var y=document.createElement("canvas");y.width=s,y.height=u,y.style.width=s+"px",y.style.height=u+"px";var b=y.getContext("2d");if(s>0&&u>0){b.clearRect(0,0,s,u),b.globalCompositeOperation="source-over";var x=this.getCachedZSortedEles();if(e.full)b.translate(-o.x1*c,-o.y1*c),b.scale(c,c),this.drawElements(b,x),b.scale(1/c,1/c),b.translate(o.x1*c,o.y1*c);else{var k=t.pan(),E={x:k.x*c,y:k.y*c};c*=t.zoom(),b.translate(E.x,E.y),b.scale(c,c),this.drawElements(b,x),b.scale(1/c,1/c),b.translate(-E.x,-E.y)}e.bg&&(b.globalCompositeOperation="destination-over",b.fillStyle=e.bg,b.rect(0,0,s,u),b.fill())}return y};function YD(e,t){for(var r=atob(e),o=new ArrayBuffer(r.length),i=new Uint8Array(o),s=0;s<r.length;s++)i[s]=r.charCodeAt(s);return new Blob([o],{type:t})}function ox(e){var t=e.indexOf(",");return e.substr(t+1)}function $w(e,t,r){var o=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new Fi(function(i,s){try{t.toBlob(function(u){u!=null?i(u):s(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(u){s(u)}});case"blob":return YD(ox(o()),r);case"base64":return ox(o());default:return o()}}ys.png=function(e){return $w(e,this.bufferCanvasImage(e),"image/png")};ys.jpg=function(e){return $w(e,this.bufferCanvasImage(e),"image/jpeg")};var Hw={};Hw.nodeShapeImpl=function(e,t,r,o,i,s,u,h){switch(e){case"ellipse":return this.drawEllipsePath(t,r,o,i,s);case"polygon":return this.drawPolygonPath(t,r,o,i,s,u);case"round-polygon":return this.drawRoundPolygonPath(t,r,o,i,s,u,h);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,o,i,s,h);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,o,i,s,u,h);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,o,i,s,h);case"barrel":return this.drawBarrelPath(t,r,o,i,s)}};var KD=Gw,et=Gw.prototype;et.CANVAS_LAYERS=3;et.SELECT_BOX=0;et.DRAG=1;et.NODE=2;et.WEBGL=3;et.CANVAS_TYPES=["2d","2d","2d","webgl2"];et.BUFFER_COUNT=3;et.TEXTURE_BUFFER=0;et.MOTIONBLUR_BUFFER_NODE=1;et.MOTIONBLUR_BUFFER_DRAG=2;function Gw(e){var t=this,r=t.cy.window(),o=r.document;e.webgl&&(et.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(et.CANVAS_LAYERS),contexts:new Array(et.CANVAS_LAYERS),canvasNeedsRedraw:new Array(et.CANVAS_LAYERS),bufferCanvases:new Array(et.BUFFER_COUNT),bufferContexts:new Array(et.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",s="rgba(0,0,0,0)";t.data.canvasContainer=o.createElement("div");var u=t.data.canvasContainer.style;t.data.canvasContainer.style[i]=s,u.position="relative",u.zIndex="0",u.overflow="hidden";var h=e.cy.container();h.appendChild(t.data.canvasContainer),h.style[i]=s;var d={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};jE()&&(d["-ms-touch-action"]="none",d["touch-action"]="none");for(var c=0;c<et.CANVAS_LAYERS;c++){var p=t.data.canvases[c]=o.createElement("canvas"),g=et.CANVAS_TYPES[c];t.data.contexts[c]=p.getContext(g),t.data.contexts[c]||Lt("Could not create canvas of type "+g),Object.keys(d).forEach(function(Q){p.style[Q]=d[Q]}),p.style.position="absolute",p.setAttribute("data-id","layer"+c),p.style.zIndex=String(et.CANVAS_LAYERS-c),t.data.canvasContainer.appendChild(p),t.data.canvasNeedsRedraw[c]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[et.NODE].setAttribute("data-id","layer"+et.NODE+"-node"),t.data.canvases[et.SELECT_BOX].setAttribute("data-id","layer"+et.SELECT_BOX+"-selectbox"),t.data.canvases[et.DRAG].setAttribute("data-id","layer"+et.DRAG+"-drag"),t.data.canvases[et.WEBGL]&&t.data.canvases[et.WEBGL].setAttribute("data-id","layer"+et.WEBGL+"-webgl");for(var c=0;c<et.BUFFER_COUNT;c++)t.data.bufferCanvases[c]=o.createElement("canvas"),t.data.bufferContexts[c]=t.data.bufferCanvases[c].getContext("2d"),t.data.bufferCanvases[c].style.position="absolute",t.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),t.data.bufferCanvases[c].style.zIndex=String(-c-1),t.data.bufferCanvases[c].style.visibility="hidden";t.pathsEnabled=!0;var y=In(),b=function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},x=function(Q){return{x:-Q.w/2,y:-Q.h/2}},k=function(Q){var te=Q[0]._private,ne=te.oldBackgroundTimestamp===te.backgroundTimestamp;return!ne},E=function(Q){return Q[0]._private.nodeKey},w=function(Q){return Q[0]._private.labelStyleKey},S=function(Q){return Q[0]._private.sourceLabelStyleKey},C=function(Q){return Q[0]._private.targetLabelStyleKey},_=function(Q,te,ne,ve,we){return t.drawElement(Q,te,ne,!1,!1,we)},N=function(Q,te,ne,ve,we){return t.drawElementText(Q,te,ne,ve,"main",we)},M=function(Q,te,ne,ve,we){return t.drawElementText(Q,te,ne,ve,"source",we)},P=function(Q,te,ne,ve,we){return t.drawElementText(Q,te,ne,ve,"target",we)},I=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},L=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||y},F=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||y},O=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||y},A=function(Q,te){return te},U=function(Q){return b(I(Q))},j=function(Q,te,ne){var ve=Q?Q+"-":"";return{x:te.x+ne.pstyle(ve+"text-margin-x").pfValue,y:te.y+ne.pstyle(ve+"text-margin-y").pfValue}},$=function(Q,te,ne){var ve=Q[0]._private.rscratch;return{x:ve[te],y:ve[ne]}},z=function(Q){return j("",$(Q,"labelX","labelY"),Q)},V=function(Q){return j("source",$(Q,"sourceLabelX","sourceLabelY"),Q)},W=function(Q){return j("target",$(Q,"targetLabelX","targetLabelY"),Q)},q=function(Q){return x(I(Q))},Z=function(Q){return x(F(Q))},R=function(Q){return x(O(Q))},X=function(Q){var te=L(Q),ne=x(L(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":ne.x=-te.w-(te.leftPad||0);break;case"right":ne.x=-(te.rightPad||0);break}switch(Q.pstyle("text-valign").value){case"top":ne.y=-te.h-(te.topPad||0);break;case"bottom":ne.y=-(te.botPad||0);break}}return ne},H=t.data.eleTxrCache=new Yl(t,{getKey:E,doesEleInvalidateKey:k,drawElement:_,getBoundingBox:I,getRotationPoint:U,getRotationOffset:q,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ee=t.data.lblTxrCache=new Yl(t,{getKey:w,drawElement:N,getBoundingBox:L,getRotationPoint:z,getRotationOffset:X,isVisible:A}),de=t.data.slbTxrCache=new Yl(t,{getKey:S,drawElement:M,getBoundingBox:F,getRotationPoint:V,getRotationOffset:Z,isVisible:A}),se=t.data.tlbTxrCache=new Yl(t,{getKey:C,drawElement:P,getBoundingBox:O,getRotationPoint:W,getRotationOffset:R,isVisible:A}),pe=t.data.lyrTxrCache=new Ow(t);t.onUpdateEleCalcs(function(Q,te){H.invalidateElements(te),ee.invalidateElements(te),de.invalidateElements(te),se.invalidateElements(te),pe.invalidateElements(te);for(var ne=0;ne<te.length;ne++){var ve=te[ne]._private;ve.oldBackgroundTimestamp=ve.backgroundTimestamp}});var be=function(Q){for(var te=0;te<Q.length;te++)pe.enqueueElementRefinement(Q[te].ele)};H.onDequeue(be),ee.onDequeue(be),de.onDequeue(be),se.onDequeue(be),e.webgl&&t.initWebgl(e,{getStyleKey:E,getLabelKey:w,getSourceLabelKey:S,getTargetLabelKey:C,drawElement:_,drawLabel:N,drawSourceLabel:M,drawTargetLabel:P,getElementBox:I,getLabelBox:L,getSourceLabelBox:F,getTargetLabelBox:O,getElementRotationPoint:U,getElementRotationOffset:q,getLabelRotationPoint:z,getSourceLabelRotationPoint:V,getTargetLabelRotationPoint:W,getLabelRotationOffset:X,getSourceLabelRotationOffset:Z,getTargetLabelRotationOffset:R})}et.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[et.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[et.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[et.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}};var $D=typeof Path2D<"u";et.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};et.usePaths=function(){return $D&&this.pathsEnabled};et.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};et.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};et.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":dn(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var o=this.cy.window(),i=o.document;r=i.createElement("canvas"),r.width=e,r.height=t}return r};[Lw,Ir,ia,Pg,Lo,to,On,Ww,no,ys,Hw].forEach(function(e){Ve(et,e)});var HD=[{name:"null",impl:Sw},{name:"base",impl:Mw},{name:"canvas",impl:KD}],GD=[{type:"layout",extensions:w_},{type:"renderer",extensions:HD}],Qw={},Zw={};function Jw(e,t,r){var o=r,i=function(P){bt("Can not register `"+t+"` for `"+e+"` since `"+P+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(as.prototype[t])return i(t);as.prototype[t]=r}else if(e==="collection"){if(En.prototype[t])return i(t);En.prototype[t]=r}else if(e==="layout"){for(var s=function(P){this.options=P,r.call(this,P),ft(this._private)||(this._private={}),this._private.cy=P.cy,this._private.listeners=[],this.createEmitter()},u=s.prototype=Object.create(r.prototype),h=[],d=0;d<h.length;d++){var c=h[d];u[c]=u[c]||function(){return this}}u.start&&!u.run?u.run=function(){return this.start(),this}:!u.start&&u.run&&(u.start=function(){return this.run(),this});var p=r.prototype.stop;u.stop=function(){var P=this.options;if(P&&P.animate){var I=this.animations;if(I)for(var L=0;L<I.length;L++)I[L].stop()}return p?p.call(this):this.emit("layoutstop"),this},u.destroy||(u.destroy=function(){return this}),u.cy=function(){return this._private.cy};var g=function(P){return P._private.cy},y={addEventFields:function(P,I){I.layout=P,I.cy=g(P),I.target=P},bubble:function(){return!0},parent:function(P){return g(P)}};Ve(u,{createEmitter:function(){return this._private.emitter=new Rc(y,this),this},emitter:function(){return this._private.emitter},on:function(P,I){return this.emitter().on(P,I),this},one:function(P,I){return this.emitter().one(P,I),this},once:function(P,I){return this.emitter().one(P,I),this},removeListener:function(P,I){return this.emitter().removeListener(P,I),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(P,I){return this.emitter().emit(P,I),this}}),yt.eventAliasesOn(u),o=s}else if(e==="renderer"&&t!=="null"&&t!=="base"){var b=e2("renderer","base"),x=b.prototype,k=r,E=r.prototype,w=function(){b.apply(this,arguments),k.apply(this,arguments)},S=w.prototype;for(var C in x){var _=x[C],N=E[C]!=null;if(N)return i(C);S[C]=_}for(var M in E)S[M]=E[M];x.clientFunctions.forEach(function(P){S[P]=S[P]||function(){Lt("Renderer does not implement `renderer."+P+"()` on its prototype")}}),o=w}else if(e==="__proto__"||e==="constructor"||e==="prototype")return Lt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return yx({map:Qw,keys:[e,t],value:o})}function e2(e,t){return bx({map:Qw,keys:[e,t]})}function QD(e,t,r,o,i){return yx({map:Zw,keys:[e,t,r,o],value:i})}function ZD(e,t,r,o){return bx({map:Zw,keys:[e,t,r,o]})}var eg=function(){if(arguments.length===2)return e2.apply(null,arguments);if(arguments.length===3)return Jw.apply(null,arguments);if(arguments.length===4)return ZD.apply(null,arguments);if(arguments.length===5)return QD.apply(null,arguments);Lt("Invalid extension access syntax")};as.prototype.extension=eg;GD.forEach(function(e){e.extensions.forEach(function(t){Jw(e.type,t.name,t.impl)})});var wc=function(){if(!(this instanceof wc))return new wc;this.length=0},zo=wc.prototype;zo.instanceString=function(){return"stylesheet"};zo.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};zo.css=function(e,t){var r=this.length-1;if(ze(e))this[r].properties.push({name:e,value:t});else if(ft(e))for(var o=e,i=Object.keys(o),s=0;s<i.length;s++){var u=i[s],h=o[u];if(h!=null){var d=vn.properties[u]||vn.properties[kc(u)];if(d!=null){var c=d.name,p=h;this[r].properties.push({name:c,value:p})}}}return this};zo.style=zo.css;zo.generateStyle=function(e){var t=new vn(e);return this.appendToStyle(t)};zo.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],o=r.selector,i=r.properties;e.selector(o);for(var s=0;s<i.length;s++){var u=i[s];e.css(u.name,u.value)}}return e};var JD="3.33.1",Io=function(e){if(e===void 0&&(e={}),ft(e))return new as(e);if(ze(e))return eg.apply(eg,arguments)};Io.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Io),e.apply(null,t),this};Io.warnings=function(e){return Tx(e)};Io.version=JD;Io.stylesheet=Io.Stylesheet=wc;const{string:Yu,array:ix,object:Ku,number:Xl,bool:tr,oneOfType:Ti,any:$u,func:Wl}=EE,eN={id:Yu,className:Yu,style:Ti([Yu,Ku]),elements:Ti([ix,$u]),stylesheet:Ti([ix,$u]),layout:Ti([Ku,$u]),pan:Ti([Ku,$u]),zoom:Xl,panningEnabled:tr,userPanningEnabled:tr,minZoom:Xl,maxZoom:Xl,zoomingEnabled:tr,userZoomingEnabled:tr,boxSelectionEnabled:tr,autoungrabify:tr,autolock:tr,autounselectify:tr,get:Wl,toJson:Wl,diff:Wl,forEach:Wl,cy:Wl,headless:tr,styleEnabled:tr,hideEdgesOnViewport:tr,textureOnViewport:tr,motionBlur:tr,motionBlurOpacity:Xl,wheelSensitivity:Xl,pixelRatio:Ti([Yu,Ku])},t2=(e,t)=>{if(((s,u)=>s==null||u==null)(e,t)&&(e!=null||t!=null))return!0;if(e===t)return!1;if(typeof e!="object"||typeof t!="object")return e!==t;const r=Object.keys(e),o=Object.keys(t),i=s=>e[s]!==t[s];return r.length!==o.length||!(!r.some(i)&&!o.some(i))},kr=(e,t)=>e!=null?e[t]:null,tN={diff:t2,get:kr,toJson:e=>e,forEach:(e,t)=>e.forEach(t),elements:[{data:{id:"a",label:"Example node A"}},{data:{id:"b",label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}],stylesheet:[{selector:"node",style:{label:"data(label)"}}],zoom:1,pan:{x:0,y:0}},Hu=(e,t,r,o)=>r(kr(e,o),kr(t,o)),nN=(e,t,r,o,i,s,u)=>{e.batch(()=>{(o===t2||Hu(t,r,o,"elements"))&&iN(e,kr(t,"elements"),kr(r,"elements"),i,s,u,o),Hu(t,r,o,"stylesheet")&&oN(e,kr(t,"stylesheet"),kr(r,"stylesheet"),i),["zoom","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","pan","panningEnabled","userPanningEnabled","boxSelectionEnabled","autoungrabify","autolock","autounselectify"].forEach(h=>{Hu(t,r,o,h)&&rN(e,h,kr(t,h),kr(r,h),i)})}),Hu(t,r,o,"layout")&&aN(e,kr(t,"layout"),kr(r,"layout"),i)},rN=(e,t,r,o,i)=>{e[t](i(o))},aN=(e,t,r,o)=>{const i=o(r);i!=null&&e.layout(i).run()},oN=(e,t,r,o)=>{e.style()?.fromJson(o(r)).update()},iN=(e,t,r,o,i,s,u)=>{const h=[],d=e.collection(),c=[],p={},g={},y=b=>i(i(b,"data"),"id");s(r,b=>{const x=y(b);g[x]=b}),t!=null&&s(t,b=>{const x=y(b);p[x]=b,(k=>g[k]!=null)(x)||d.merge(e.getElementById(x))}),s(r,b=>{const x=y(b),k=(E=>p[E])(x);(E=>p[E]!=null)(x)?c.push({ele1:k,ele2:b}):h.push(o(b))}),d.length>0&&e.remove(d),h.length>0&&e.add(h),c.forEach(({ele1:b,ele2:x})=>lN(e,b,x,o,i,u))},lN=(e,t,r,o,i,s)=>{const u=i(i(r,"data"),"id"),h=e.getElementById(u),d={};["data","position","selected","selectable","locked","grabbable","classes"].forEach(p=>{const g=i(r,p);s(g,i(t,p))&&(d[p]=o(g))});const c=i(r,"scratch");s(c,i(t,"scratch"))&&h.scratch(o(c)),Object.keys(d).length>0&&h.json(d)};class sN extends Hf.Component{static get propTypes(){return eN}static get defaultProps(){return tN}static normalizeElements(t){if(t.length!=null)return t;{let{nodes:r,edges:o}=t;return r==null&&(r=[]),o==null&&(o=[]),r.concat(o)}}constructor(t){super(t),this.displayName="CytoscapeComponent",this.containerRef=Hf.createRef()}componentDidMount(){const t=this.containerRef.current,{global:r,headless:o,styleEnabled:i,hideEdgesOnViewport:s,textureOnViewport:u,motionBlur:h,motionBlurOpacity:d,wheelSensitivity:c,pixelRatio:p}=this.props,g=this._cy=new Io({container:t,headless:o,styleEnabled:i,hideEdgesOnViewport:s,textureOnViewport:u,motionBlur:h,motionBlurOpacity:d,wheelSensitivity:c,pixelRatio:p});r&&(window[r]=g),this.updateCytoscape(null,this.props)}updateCytoscape(t,r){const o=this._cy,{diff:i,toJson:s,get:u,forEach:h}=r;nN(o,t,r,i,s,u,h),r.cy!=null&&r.cy(o)}componentDidUpdate(t){this.updateCytoscape(t,this.props)}componentWillUnmount(){this._cy.destroy()}render(){const{id:t,className:r,style:o}=this.props;return Hf.createElement("div",{ref:this.containerRef,id:t,className:r,style:o})}}const uN=[{selector:'node[type="location"]',style:{"background-color":"#3b82f6",label:"data(name)",color:"#1e40af","text-valign":"bottom","text-margin-y":8,"font-size":12,width:50,height:50,"border-width":2,"border-color":"#1e40af"}},{selector:'node[type="character"]',style:{"background-color":"#22c55e",label:"data(name)",color:"#166534","text-valign":"bottom","text-margin-y":8,"font-size":12,width:50,height:50,"border-width":2,"border-color":"#166534"}},{selector:'node[type="event"]',style:{"background-color":"#f97316",label:"data(name)",color:"#c2410c","text-valign":"bottom","text-margin-y":8,"font-size":12,width:50,height:50,"border-width":2,"border-color":"#c2410c"}},{selector:'node[type="sublocation"]',style:{"background-color":"#818cf8",label:"data(name)",color:"#3730a3","text-valign":"bottom","text-margin-y":6,"font-size":10,width:30,height:30,"border-width":2,"border-color":"#3730a3"}},{selector:":parent",style:{"background-opacity":.1,"border-width":2,"border-color":"#1e40af",padding:20}},{selector:"node:selected",style:{"border-width":3,"border-color":"#000"}},{selector:'edge[edgeType="spawn"]',style:{width:2,"line-color":"#9ca3af","target-arrow-color":"#9ca3af","target-arrow-shape":"triangle","curve-style":"bezier","line-style":"dashed",label:"data(probability)","font-size":10,"text-background-color":"#fff","text-background-opacity":1,"text-background-padding":2}},{selector:'edge[edgeType="adjacent"]',style:{width:2,"line-color":"#60a5fa","target-arrow-color":"#60a5fa","target-arrow-shape":"triangle","curve-style":"bezier"}},{selector:'edge[edgeType="knows"]',style:{width:2,"line-color":"#a855f7","target-arrow-color":"#a855f7","target-arrow-shape":"triangle","source-arrow-color":"#a855f7","source-arrow-shape":"triangle","curve-style":"bezier",label:"data(relationship)","font-size":10,"text-background-color":"#fff","text-background-opacity":1,"text-background-padding":2}},{selector:"edge:selected",style:{width:3,"line-color":"#000","target-arrow-color":"#000"}}];function cN({elements:e,cyRef:t,onSelect:r,onAddEdge:o}){const i=dt.useRef(null),[s,u]=dt.useState(null),h=dt.useRef(null),d=dt.useRef(null);dt.useEffect(()=>{h.current=s},[s]);const c=dt.useCallback(x=>{d.current!==x&&(d.current=x,t.current=x,x.removeAllListeners(),x.on("tap","node",k=>{const E=k.target,w=h.current;if(w&&w!==E.id()){const S=x.getElementById(w).data("type"),C=E.data("type");let _=null,N={};(S==="character"||S==="event")&&C==="location"?(_="spawn",N.probability=parseFloat(prompt("Spawn probability (0-1):","0.1")||"0.1")):S==="location"&&C==="location"?_="adjacent":S==="character"&&C==="character"&&(_="knows",N.relationship=prompt('Relationship (e.g., "roommates"):',"")||"",N.sourceThinks="",N.targetThinks=""),_?o(w,E.id(),_,N.probability,N):alert("Invalid connection. Characters/Events can connect to Locations. Locations can connect to Locations. Characters can connect to Characters (knows)."),x.getElementById(w).removeClass("edge-source"),u(null)}else w||r(E.data())}),x.on("tap","edge",k=>{h.current||r(k.target.data())}),x.on("tap",k=>{if(k.target===x){r(null);const E=h.current;E&&(x.getElementById(E).removeClass("edge-source"),u(null))}}),x.on("cxttap","node",k=>{const E=k.target,w=E.data("type");if(w==="location"||w==="character"||w==="event"){const S=h.current;S&&x.getElementById(S).removeClass("edge-source"),u(E.id()),E.addClass("edge-source")}}))},[t,r,o]),p=[...uN,{selector:".edge-source",style:{"border-width":4,"border-color":"#ef4444"}}],g=()=>{t.current&&t.current.zoom(t.current.zoom()*1.3)},y=()=>{t.current&&t.current.zoom(t.current.zoom()/1.3)},b=()=>{t.current&&t.current.fit(void 0,50)};return J.jsxs("div",{className:"graph-container",ref:i,children:[J.jsx(sN,{elements:e,stylesheet:p,style:{width:"100%",height:"100%"},cy:c,layout:{name:"preset"},boxSelectionEnabled:!1,autounselectify:!1}),J.jsxs("div",{className:"zoom-controls",children:[J.jsx("button",{onClick:g,title:"Zoom in",children:"+"}),J.jsx("button",{onClick:y,title:"Zoom out",children:""}),J.jsx("button",{onClick:b,title:"Fit to screen",children:""})]}),s&&J.jsx("div",{className:"edge-mode-hint",children:"Click a target node to connect, or click empty space to cancel"})]})}function dN({onAddNode:e,onImport:t,onExport:r,onClear:o}){const i=dt.useRef(null),s=u=>{const h=u.target.files[0];h&&(t(h),u.target.value="")};return J.jsxs("div",{className:"toolbar",children:[J.jsxs("div",{className:"toolbar-group",children:[J.jsx("button",{onClick:()=>e("location"),children:"+ Location"}),J.jsx("button",{onClick:()=>e("character"),children:"+ Character"}),J.jsx("button",{onClick:()=>e("event"),children:"+ Event"})]}),J.jsx("div",{className:"toolbar-separator"}),J.jsxs("div",{className:"toolbar-group",children:[J.jsx("button",{onClick:()=>i.current?.click(),children:"Import"}),J.jsx("button",{onClick:r,className:"primary",children:"Export"})]}),J.jsx("div",{className:"toolbar-separator"}),J.jsx("button",{onClick:()=>{confirm("Clear all nodes and edges?")&&o()},children:"Clear"}),J.jsx("input",{type:"file",ref:i,accept:".json",onChange:s}),J.jsx("div",{style:{marginLeft:"auto",fontSize:12,color:"#666"},children:"Right-click node to start edge, then click target"})]})}function Gu({value:e=[],onChange:t,placeholder:r}){const[o,i]=dt.useState(""),s=h=>{h.key==="Enter"&&o.trim()?(h.preventDefault(),e.includes(o.trim())||t([...e,o.trim()]),i("")):h.key==="Backspace"&&!o&&e.length>0&&t(e.slice(0,-1))},u=h=>{t(e.filter((d,c)=>c!==h))};return J.jsxs("div",{className:"tags-input",onClick:h=>h.currentTarget.querySelector("input")?.focus(),children:[e.map((h,d)=>J.jsxs("span",{className:"tag",children:[h,J.jsx("button",{type:"button",onClick:()=>u(d),children:""})]},d)),J.jsx("input",{type:"text",value:o,onChange:h=>i(h.target.value),onKeyDown:s,placeholder:e.length===0?r:""})]})}function fN({value:e={},onChange:t}){const[r,o]=dt.useState(""),[i,s]=dt.useState(""),u=Object.entries(e),h=()=>{r.trim()&&i.trim()&&(t({...e,[r.trim()]:i.trim()}),o(""),s(""))},d=p=>{const g={...e};delete g[p],t(g)},c=(p,g)=>{t({...e,[p]:g})};return J.jsxs("div",{className:"images-section",children:[u.map(([p,g])=>J.jsxs("div",{className:"image-entry",children:[J.jsx("input",{type:"text",value:p,disabled:!0,style:{width:80,background:"#f5f5f5"}}),J.jsx("input",{type:"text",value:typeof g=="string"?g:JSON.stringify(g),onChange:y=>c(p,y.target.value),placeholder:"URL..."}),J.jsx("button",{onClick:()=>d(p),children:""})]},p)),J.jsxs("div",{className:"image-entry",children:[J.jsx("input",{type:"text",value:r,onChange:p=>o(p.target.value),placeholder:"Key (e.g., default)",style:{width:80}}),J.jsx("input",{type:"text",value:i,onChange:p=>s(p.target.value),placeholder:"Image URL..."}),J.jsx("button",{onClick:h,children:"+"})]}),J.jsx("div",{className:"hint",style:{marginTop:4},children:'Keys: "default", "night", "evening,night", etc.'})]})}function lx(e,t,r){if(!e)return"";const o=r==="event"?"Current event":t,i=new RegExp(`^\\s*\\n?${hN(o)}\\s*=\\s*\\[(.*)\\]\\s*$`,"s"),s=e.match(i);if(s)return s[1];const u=e.match(/^\s*\n?\[(.*)]\s*$/s);return u?u[1]:e}function Qu(e,t,r){return e?`
${r==="event"?"Current event":t}=[${e}]`:""}function hN(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pN({selected:e,elements:t,onUpdate:r,onDelete:o,onAddSubLocation:i}){const[s,u]=dt.useState({}),[h,d]=dt.useState(""),[c,p]=dt.useState("");dt.useEffect(()=>{e?(u({...e}),d(lx(e.content,e.name,e.type)),p(lx(e.contentShort,e.name,e.type))):(u({}),d(""),p(""))},[e]);const g=(E,w)=>{u(S=>({...S,[E]:w})),r(e.id,{[E]:w})},y=E=>{d(E);const w=Qu(E,s.name||e.name,e.type);r(e.id,{content:w})},b=E=>{p(E);const w=Qu(E,s.name||e.name,e.type);r(e.id,{contentShort:w})},x=E=>{u(S=>({...S,name:E}));const w={name:E};h&&(w.content=Qu(h,E,e.type)),c&&(w.contentShort=Qu(c,E,e.type)),r(e.id,w)};if(!e)return J.jsxs("div",{className:"property-panel",children:[J.jsx("h3",{children:"Properties"}),J.jsx("p",{className:"empty",children:"Select a node or edge to edit"}),J.jsx("p",{className:"hint-text",children:"Click nodes to select them. Right-click a node to start creating an edge, then click the target node."}),J.jsxs("div",{className:"info-section",children:[J.jsx("h4",{children:"About Graph Lorebook"}),J.jsxs("p",{children:["Keyword-based lorebook with location graphs, character spawn chances, and dynamic events. Best for ",J.jsx("strong",{children:"spatial narratives"})," where characters move between locations."]}),J.jsxs("ul",{children:[J.jsxs("li",{children:[J.jsx("strong",{children:"Locations"}),"  Places with triggers to load related content"]}),J.jsxs("li",{children:[J.jsx("strong",{children:"Characters"}),"  NPCs with spawn probabilities per location"]}),J.jsxs("li",{children:[J.jsx("strong",{children:"Events"}),"  Time-filtered or global occurrences"]})]}),J.jsxs("p",{className:"script-link",children:["Script: ",J.jsx("a",{href:"https://placeholder-for-graph",target:"_blank",rel:"noopener",children:"placeholder-for-graph"})]})]})]});if(e.source&&e.target){const E=t.find(S=>S.data.id===e.source)?.data,w=t.find(S=>S.data.id===e.target)?.data;return J.jsxs("div",{className:"property-panel",children:[J.jsx("h3",{children:"Edge Properties"}),J.jsx("span",{className:`node-type-badge ${e.edgeType==="knows"?"knows":"edge"}`,children:e.edgeType}),J.jsxs("div",{className:"edge-info",children:[J.jsxs("div",{children:[J.jsx("span",{children:"From:"})," ",E?.name||e.source]}),J.jsxs("div",{children:[J.jsx("span",{children:"To:"})," ",w?.name||e.target]})]}),e.edgeType==="spawn"&&J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Spawn Probability"}),J.jsx("input",{type:"number",min:"0",max:"1",step:"0.05",value:s.probability||.1,onChange:S=>g("probability",parseFloat(S.target.value))}),J.jsx("div",{className:"hint",children:"0-1, e.g., 0.25 = 25% chance"})]}),e.edgeType==="knows"&&J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Relationship"}),J.jsx("input",{type:"text",value:s.relationship||"",onChange:S=>g("relationship",S.target.value),placeholder:"e.g., roommates, siblings, rivals"}),J.jsx("div",{className:"hint",children:"Goes to both characters' descriptions"})]}),J.jsxs("div",{className:"form-group",children:[J.jsxs("label",{children:["What ",E?.name||"Source"," thinks about ",w?.name||"Target"]}),J.jsx("textarea",{value:s.sourceThinks||"",onChange:S=>g("sourceThinks",S.target.value),placeholder:`${E?.name||"Source"}'s thoughts about ${w?.name||"Target"}...`}),J.jsxs("div",{className:"hint",children:["Goes to ",E?.name||"source","'s description only"]})]}),J.jsxs("div",{className:"form-group",children:[J.jsxs("label",{children:["What ",w?.name||"Target"," thinks about ",E?.name||"Source"]}),J.jsx("textarea",{value:s.targetThinks||"",onChange:S=>g("targetThinks",S.target.value),placeholder:`${w?.name||"Target"}'s thoughts about ${E?.name||"Source"}...`}),J.jsxs("div",{className:"hint",children:["Goes to ",w?.name||"target","'s description only"]})]})]}),J.jsx("button",{className:"delete-btn",onClick:()=>o(e.id),children:"Delete Edge"})]})}const{type:k}=e;return J.jsxs("div",{className:"property-panel",children:[J.jsx("h3",{children:"Node Properties"}),J.jsx("span",{className:`node-type-badge ${k}`,children:k}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Name"}),J.jsx("input",{type:"text",value:s.name||"",onChange:E=>x(E.target.value)})]}),k!=="sublocation"&&J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Keywords"}),J.jsx(Gu,{value:s.keywords||[],onChange:E=>g("keywords",E),placeholder:"Add keyword..."}),J.jsx("div",{className:"hint",children:"Press Enter to add"})]}),(k==="location"||k==="character")&&J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Content (Full)"}),J.jsx("textarea",{value:h,onChange:E=>y(E.target.value),placeholder:"Full description..."}),J.jsxs("div",{className:"hint",children:["Saved as: ",s.name,"=[your content]"]})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Content (Short)"}),J.jsx("textarea",{value:c,onChange:E=>b(E.target.value),placeholder:"Short description..."})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Triggers"}),J.jsx(Gu,{value:s.triggers||[],onChange:E=>g("triggers",E),placeholder:"Add trigger..."})]})]}),k==="event"&&J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Content"}),J.jsx("textarea",{value:h,onChange:E=>y(E.target.value),placeholder:"Event description..."}),J.jsx("div",{className:"hint",children:"Saved as: Current event=[your content]"})]}),J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Time Filter"}),J.jsx(Gu,{value:s.timeFilter||[],onChange:E=>g("timeFilter",E),placeholder:"e.g., evening, night..."})]}),J.jsx("div",{className:"form-group",children:J.jsxs("label",{className:"checkbox-group",children:[J.jsx("input",{type:"checkbox",checked:s.isGlobal||!1,onChange:E=>g("isGlobal",E.target.checked)}),"Global Event (can happen anywhere)"]})}),s.isGlobal&&J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Global Spawn Probability"}),J.jsx("input",{type:"number",min:"0",max:"1",step:"0.05",value:s.globalSpawnChance||.1,onChange:E=>g("globalSpawnChance",parseFloat(E.target.value))}),J.jsx("div",{className:"hint",children:"0-1, e.g., 0.12 = 12% chance at any location"})]})]}),k==="character"&&J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Disabled For"}),J.jsx(Gu,{value:s.disabledFor||[],onChange:E=>g("disabledFor",E),placeholder:"Bot names to exclude..."})]}),(k==="location"||k==="character"||k==="event"||k==="sublocation")&&J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Images"}),J.jsx(fN,{value:s.images||{},onChange:E=>g("images",E)})]}),k==="location"&&J.jsxs("div",{className:"form-group",children:[J.jsx("label",{children:"Sublocations"}),J.jsx(gN,{parentId:e.id,elements:t,onAddSubLocation:i,onDelete:o})]}),J.jsxs("button",{className:"delete-btn",onClick:()=>o(e.id),children:["Delete ",k.charAt(0).toUpperCase()+k.slice(1)]})]})}function gN({parentId:e,elements:t,onAddSubLocation:r,onDelete:o}){const i=t.filter(s=>s.data.type==="sublocation"&&s.data.parent===e).map(s=>s.data);return J.jsxs("div",{children:[i.map(s=>J.jsx("div",{className:"sublocation-item",children:J.jsxs("div",{className:"header",children:[J.jsx("span",{className:"name",children:s.name}),J.jsx("button",{onClick:()=>o(s.id),children:""})]})},s.id)),J.jsx("button",{className:"add-btn",onClick:()=>{const s=prompt("Sublocation name:");s&&r(e,s)},children:"+ Add Sublocation"})]})}function vN(e){if(e.length<3)return e;let t=e;const r=t[0];return r==="y"&&(t=r.toUpperCase()+t.slice(1)),t=bN.reduce((o,i)=>i(o),t),r==="y"&&(t=r.toLowerCase()+t.slice(1)),t}const mN="[aeiouy]",yN="[^aeiou]",sx=new RegExp(`^${yN}[^aeiouy]*${mN}[^aeiouwxy]$`,"u"),La=e=>t=>{for(const[r,o]of Object.entries(e).sort(([i],[s])=>s.length-i.length))if(t.endsWith(r)){if(Array.isArray(o)&&!o[0](t.slice(0,-r.length)))break;return t.slice(0,-r.length)+(Array.isArray(o)?o[1]:o)}return t},tg=e=>e.split("").reduce((t,r,o)=>t+(!is(e,o)&&o+1<e.length&&is(e,o+1)?1:0),0),Xe=e=>t=>tg(t)>e;function is(e,t){return"aeiou".includes(e[t])?!1:e[t]==="y"?t===0||!is(e,t-1):!0}const Np=e=>e.split("").some((t,r)=>!is(e,r)),bN=[La({sses:"ss",ies:"i",ss:"ss",s:""}),e=>{if(e.endsWith("eed"))return La({eed:[Xe(0),"ee"]})(e);const t=La({ed:[Np,""],ing:[Np,""]})(e);if(t===e)return e;const r=La({at:"ate",bl:"ble",iz:"ize"})(t);return r!==t?r:r.at(-1)===r.at(-2)&&is(r,r.length-1)&&!["l","s","z"].includes(r.at(-1))?r.slice(0,-1):tg(r)===1&&sx.test(r)?`${r}e`:r},La({y:[Np,"i"]}),La({ational:[Xe(0),"ate"],tional:[Xe(0),"tion"],enci:[Xe(0),"ence"],anci:[Xe(0),"ance"],izer:[Xe(0),"ize"],abli:[Xe(0),"able"],alli:[Xe(0),"al"],entli:[Xe(0),"ent"],eli:[Xe(0),"e"],ousli:[Xe(0),"ous"],ization:[Xe(0),"ize"],ation:[Xe(0),"ate"],ator:[Xe(0),"ate"],alism:[Xe(0),"al"],iveness:[Xe(0),"ive"],fulness:[Xe(0),"ful"],ousness:[Xe(0),"ous"],aliti:[Xe(0),"al"],iviti:[Xe(0),"ive"],biliti:[Xe(0),"ble"],logi:[Xe(0),"log"],bli:[Xe(0),"ble"]}),La({icate:[Xe(0),"ic"],ative:[Xe(0),""],alize:[Xe(0),"al"],iciti:[Xe(0),"ic"],ical:[Xe(0),"ic"],ful:[Xe(0),""],ness:[Xe(0),""]}),e=>{const t=La({al:[Xe(1),""],ance:[Xe(1),""],ence:[Xe(1),""],er:[Xe(1),""],ic:[Xe(1),""],able:[Xe(1),""],ible:[Xe(1),""],ant:[Xe(1),""],ement:[Xe(1),""],ment:[Xe(1),""],ent:[Xe(1),""],ou:[Xe(1),""],ism:[Xe(1),""],ate:[Xe(1),""],iti:[Xe(1),""],ous:[Xe(1),""],ive:[Xe(1),""],ize:[Xe(1),""]})(e);return t!==e?t:(e.endsWith("tion")||e.endsWith("sion"))&&Xe(1)(e.slice(0,-3))?e.slice(0,-3):e},e=>{if(!e.endsWith("e"))return e;const t=e.slice(0,-1),r=tg(t);return r>1||r===1&&!sx.test(t)?t:e},e=>e.endsWith("ll")&&Xe(1)(e.slice(0,-1))?e.slice(0,-1):e],xN=new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","of","on","that","the","to","was","will","with","you","they","we","been","have","had","were","would","could","should"]);function ng(e){return e.toLowerCase().split(/\W+/).filter(t=>t.length>2&&!xN.has(t)).map(vN)}function wN(e){const t=new Set;return e.forEach(r=>ng(r).forEach(o=>t.add(o))),t}function kN(e,t,r){const o=ng(e).filter(u=>r.has(u)),i={};o.forEach(u=>i[u]=(i[u]||0)+1);const s={};for(const[u,h]of Object.entries(i)){const d=t.filter(c=>ng(c).includes(u)).length;s[u]=h/o.length*Math.log(t.length/(d||1))}return s}function EN(e){const t=e.split(`

`).map(o=>o.trim()).filter(o=>o.length>0),r=wN(t);return{entries:t.map(o=>({text:o,vector:kN(o,t,r)})),vocab:Array.from(r)}}function SN(){const[e,t]=dt.useState(""),[r,o]=dt.useState(null),[i,s]=dt.useState(!1),u=async()=>{if(!e.trim())return;s(!0),await new Promise(g=>setTimeout(g,100));const p=EN(e);o(p),s(!1)},h=(p,g)=>{const y=new Blob([p],{type:"application/json"}),b=URL.createObjectURL(y),x=document.createElement("a");x.href=b,x.download=g,x.click(),URL.revokeObjectURL(b)},d=()=>{r&&h(JSON.stringify(r.entries,null,2),"entries.json")},c=()=>{r&&h(JSON.stringify(r.vocab,null,2),"vocab.json")};return J.jsxs("div",{className:"stemmer-container",children:[J.jsx("div",{className:"stemmer-header",children:J.jsxs("div",{className:"stemmer-info",children:[J.jsx("h2",{children:"Stemmer Lorebook"}),J.jsxs("p",{className:"description",children:["TF-IDF semantic search lorebook. Matches lore entries by meaning, not just keywords. Best for ",J.jsx("strong",{children:"dense lore"})," where topics overlap and exact keyword matching fails."]}),J.jsx("p",{className:"description",children:"Paste text below. Separate entries with blank lines. Export entries + vocabulary for the runtime script."}),J.jsxs("p",{className:"script-link",children:["Script: ",J.jsx("a",{href:"https://placeholder-for-stemmer",target:"_blank",rel:"noopener",children:"placeholder-for-stemmer"})]})]})}),J.jsx("div",{className:"stemmer-editor",children:J.jsx("textarea",{value:e,onChange:p=>t(p.target.value),placeholder:`Entry 1 title
First paragraph of lore content here. This will become one entry in the lorebook.

Entry 2 title
Second entry goes here. Each double-newline separates entries.

Entry 3 title
Third entry content...`})}),J.jsxs("div",{className:"stemmer-toolbar",children:[J.jsx("button",{className:"primary",onClick:u,disabled:i||!e.trim(),children:i?J.jsxs(J.Fragment,{children:[J.jsx("span",{className:"spinner"})," Parsing..."]}):"Parse Text"}),J.jsx("button",{onClick:d,disabled:!r,children:"Export Entries"}),J.jsx("button",{onClick:c,disabled:!r,children:"Export Vocabulary"}),r&&J.jsxs("div",{className:"stats",children:[J.jsx("strong",{children:r.entries.length})," entries,"," ",J.jsx("strong",{children:r.vocab.length})," vocabulary terms"]})]})]})}let Fa=0;function Bp(e,t){const r=Math.ceil(Math.sqrt(t)),o=Math.floor(e/r);return{x:150+e%r*200,y:150+o*180}}function CN(e){const t=[],r=e.entries||[];Fa=0;const o={};return r.forEach((i,s)=>{if(i.category==="location"){const u=`loc_${++Fa}`,h=Bp(s,r.length);if(t.push({data:{id:u,type:"location",name:i.name,keywords:i.keywords||[],content:i.content||"",contentShort:i.contentShort||"",images:i.images||{},triggers:i.triggers||[],filters:i.filters||{}},position:h}),(i.keywords||[]).forEach(d=>{o[d.toLowerCase()]=u}),i.subLocations){const d=Object.entries(i.subLocations);d.forEach(([c,p],g)=>{const y=`subloc_${++Fa}`,b=h.x+(g-(d.length-1)/2)*50,x=h.y+20;t.push({data:{id:y,type:"sublocation",parent:u,name:c,images:p.images||{}},position:{x:b,y:x}})})}}}),r.forEach((i,s)=>{if(i.category==="character"){const u=`char_${++Fa}`,h=Bp(s,r.length);t.push({data:{id:u,type:"character",name:i.name,keywords:i.keywords||[],content:i.content||"",contentShort:i.contentShort||"",images:i.images||{},triggers:i.triggers||[],disabledFor:i.disabledFor||[],filters:i.filters||{}},position:h}),i.canSpawnAt&&Object.entries(i.canSpawnAt).forEach(([d,c])=>{const p=o[d.toLowerCase()];p&&t.push({data:{id:`edge_${++Fa}`,source:u,target:p,edgeType:"spawn",probability:c}})})}if(i.category==="event"){const u=`event_${++Fa}`,h=Bp(s,r.length),d=i.canSpawnAt&&"any"in i.canSpawnAt,c=d?i.canSpawnAt.any:.1;t.push({data:{id:u,type:"event",name:i.name||"Unnamed Event",keywords:i.keywords||[],content:i.content||"",timeFilter:i.timeFilter||[],isGlobal:d,globalSpawnChance:c,filters:i.filters||{}},position:h}),i.canSpawnAt&&!d&&Object.entries(i.canSpawnAt).forEach(([p,g])=>{const y=o[p.toLowerCase()];y&&t.push({data:{id:`edge_${++Fa}`,source:u,target:y,edgeType:"spawn",probability:g}})})}}),t.forEach(i=>{i.data.type==="location"&&i.data.triggers&&i.data.triggers.forEach(s=>{const u=o[s.toLowerCase()];u&&u!==i.data.id&&(t.some(h=>h.data.source===i.data.id&&h.data.target===u&&h.data.edgeType==="adjacent")||t.push({data:{id:`edge_${++Fa}`,source:i.data.id,target:u,edgeType:"adjacent"}}))})}),t}function TN(e){const t=[],r=e.filter(h=>!h.data.source),o=e.filter(h=>h.data.source),i={};r.forEach(h=>{i[h.data.id]=h.data}),r.filter(h=>h.data.type==="location").forEach(h=>{const d=h.data,c={};r.filter(b=>b.data.type==="sublocation"&&b.data.parent===d.id).forEach(b=>{c[b.data.name]={images:b.data.images||{}}});const p=o.filter(b=>b.data.source===d.id&&b.data.edgeType==="adjacent").map(b=>i[b.data.target]?.keywords?.[0]).filter(Boolean),g=[...new Set([...d.triggers||[],...p])],y={keywords:d.keywords||[],category:"location",name:d.name,content:d.content||"",contentShort:d.contentShort||"",triggers:g,images:d.images||{},filters:d.filters||{},enabled:!0};Object.keys(c).length>0&&(y.subLocations=c),t.push(y)});const s=o.filter(h=>h.data.edgeType==="knows"),u={};return s.forEach(h=>{const d=h.data.source,c=h.data.target,p=i[d],g=i[c],y=h.data.relationship||"",b=h.data.sourceThinks||"",x=h.data.targetThinks||"";if(u[d]||(u[d]={triggers:[],contentAppend:"",contentShortAppend:""}),u[c]||(u[c]={triggers:[],contentAppend:"",contentShortAppend:""}),g?.keywords?.[0]&&u[d].triggers.push(g.keywords[0]),p?.keywords?.[0]&&u[c].triggers.push(p.keywords[0]),y&&g?.keywords?.[0]){const k=` ${y} with ${g.keywords[0]}.`;u[d].contentAppend+=k,u[d].contentShortAppend+=k}if(y&&p?.keywords?.[0]){const k=` ${y} with ${p.keywords[0]}.`;u[c].contentAppend+=k,u[c].contentShortAppend+=k}b&&(u[d].contentAppend+=` ${b}`),x&&(u[c].contentAppend+=` ${x}`)}),r.filter(h=>h.data.type==="character").forEach(h=>{const d=h.data,c=o.filter(k=>k.data.source===d.id&&k.data.edgeType==="spawn"),p={};c.forEach(k=>{const E=i[k.data.target];E?.keywords?.[0]&&(p[E.keywords[0]]=k.data.probability||.1)});const g=u[d.id]||{triggers:[],contentAppend:"",contentShortAppend:""},y=[...new Set([...d.triggers||[],...g.triggers])];let b=d.content||"",x=d.contentShort||"";g.contentAppend&&b&&(b=b.replace(/\]$/,g.contentAppend+"]")),g.contentShortAppend&&x&&(x=x.replace(/\]$/,g.contentShortAppend+"]")),t.push({keywords:d.keywords||[],category:"character",name:d.name,content:b,contentShort:x,triggers:y,canSpawnAt:Object.keys(p).length>0?p:{},images:d.images||{},filters:d.filters||{},disabledFor:d.disabledFor||[],enabled:!0})}),r.filter(h=>h.data.type==="event").forEach(h=>{const d=h.data,c=o.filter(g=>g.data.source===d.id&&g.data.edgeType==="spawn"),p={};d.isGlobal?p.any=d.globalSpawnChance||.1:c.forEach(g=>{const y=i[g.data.target];y?.keywords?.[0]&&(p[y.keywords[0]]=g.data.probability||.1)}),t.push({keywords:d.keywords||[],category:"event",name:d.name||"",content:d.content||"",contentShort:"",triggers:[],canSpawnAt:p,timeFilter:d.timeFilter||[],images:{},filters:d.filters||{},disabledFor:[],enabled:!0})}),{entries:t}}function PN(){const e=yE(),[t,r]=dt.useState("graph"),[o,i]=dt.useState(()=>localStorage.getItem("theme")||"light");dt.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem("theme",o)},[o]);const s=()=>{i(d=>d==="light"?"dark":"light")},u=d=>{const c=new FileReader;c.onload=p=>{try{const g=JSON.parse(p.target.result),y=CN(g);e.loadElements(y)}catch(g){alert("Failed to parse JSON: "+g.message)}},c.readAsText(d)},h=()=>{const d=TN(e.elements),c=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),p=URL.createObjectURL(c),g=document.createElement("a");g.href=p,g.download="lorebook.json",g.click(),URL.revokeObjectURL(p)};return J.jsxs("div",{className:"app",children:[J.jsxs("div",{className:"tabs",children:[J.jsx("button",{className:`tab ${t==="graph"?"active":""}`,onClick:()=>r("graph"),children:"Graph"}),J.jsx("button",{className:`tab ${t==="stemmer"?"active":""}`,onClick:()=>r("stemmer"),children:"Stemmer"}),J.jsx("div",{className:"toolbar-spacer"}),J.jsx("button",{className:"theme-toggle",onClick:s,title:"Toggle theme",children:o==="light"?"":""})]}),t==="graph"&&J.jsxs(J.Fragment,{children:[J.jsx(dN,{onAddNode:e.addNode,onImport:u,onExport:h,onClear:e.clearGraph}),J.jsxs("div",{className:"main-content",children:[J.jsx(cN,{elements:e.elements,cyRef:e.cyRef,onSelect:e.selectElement,onAddEdge:e.addEdge}),J.jsx(pN,{selected:e.selectedElement,elements:e.elements,onUpdate:e.updateElement,onDelete:e.deleteElement,onAddSubLocation:e.addSubLocation})]})]}),t==="stemmer"&&J.jsx("div",{className:"main-content",children:J.jsx(SN,{})})]})}mE.createRoot(document.getElementById("root")).render(J.jsx(dt.StrictMode,{children:J.jsx(PN,{})}));
